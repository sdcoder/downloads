@model  LightStreamWeb.Models.Partner.PartnerDropViewModel

<div class="row" id="files">

    <div class="columns">

        <h2 class="brand">Partner Files: @Model.Name</h2>
        <h3 class="subheader">@Model.Summary</h3>

        <table class="table table-striped table-bordered" style="width:100%;">
            <thead class="theadlabel">
                <tr>
                    <th class="first"></th>
                    <th class="first">Name</th>
                    <th class="first">Size</th>
                    <th class="first">Date</th>
                </tr>
            </thead>
            <tbody>
                @if (!Model.Files.Any())
                {
                    <tr><td colspan="4" style="text-align: center;">There are no files available</td></tr>
                }
                else
                {
                    foreach (var file in Model.Files)
                    {
                        <tr id="@file.Id">

                            @if (file.Thumbnail != null && file.Thumbnail.Length > 0)
                            {
                                var imageSrc = string.Format("data:image/gif;base64,{0}", Convert.ToBase64String(file.Thumbnail));
                                <td style="text-align:center;"><img alt="@file.Name" class="img-rounded" src="@imageSrc" /></td>
                            }
                            else
                            {
                                <td style="text-align:center;"><i class="fa fa-file-text fa-2x"></i></td>
                            }

                            <td>
                                @Html.ActionLink(@file.Name, "DownloadFile", new { token = Model.Token, fileId = @file.Id })
                            </td>
                            <td style="text-align:left; width:150px;">@file.Size</td>
                            <td style="text-align:left; width:150px;">@file.UploadedAt.ToShortDateString()</td>
                        </tr>
                    }
                }   
            </tbody>
        </table>
        </div>
</div>

