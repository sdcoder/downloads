!function e(t, i, n) { function r(s, o) { if (!i[s]) { if (!t[s]) { var l = "function" == typeof require && require; if (!o && l) return l(s, !0); if (a) return a(s, !0); var u = new Error("Cannot find module '" + s + "'"); throw u.code = "MODULE_NOT_FOUND", u } var c = i[s] = { exports: {} }; t[s][0].call(c.exports, function (e) { var i = t[s][1][e]; return r(i || e) }, c, c.exports, e, t, i, n) } return i[s].exports } for (var a = "function" == typeof require && require, s = 0; s < n.length; s++)r(n[s]); return r }({
    1: [function (e, t, i) { (function (i) { e("./utils/polyfills"); var n = e("./strategies/LocalVisitor"), r = e("./strategies/ProxyVisitor"), a = e("./strategies/PlaceholderVisitor"), s = e("./utils/callbackRegistryFactory"), o = e("./Message"), l = e("./enums"), u = l.MESSAGES; t.exports = function (e, t, l, c) { function d(e) { Object.assign(I, e) } function f(e) { Object.assign(I.state, e), I.callbackRegistry.executeAll(I.state) } function g(e) { if (!A.isInvalid(e)) { v = !1; var t = A.parse(e); I.setStateAndPublish(t.state) } } function _(e) { !v && C && (v = !0, A.send(c, e)) } function m() { d(new n(l._generateID)), I.getMarketingCloudVisitorID(), I.callbackRegistry.executeAll(I.state, !0), i.removeEventListener("message", p) } function p(e) { if (!A.isInvalid(e)) { var t = A.parse(e); v = !1, i.clearTimeout(this.timeout), i.removeEventListener("message", p), d(new r(I)), i.addEventListener("message", g), I.setStateAndPublish(t.state), I.callbackRegistry.hasCallbacks() && _(u.GETSTATE) } } function h() { C && postMessage ? (i.addEventListener("message", p), _(u.HANDSHAKE), this.timeout = setTimeout(m, 250)) : m() } function S() { i.s_c_in || (i.s_c_il = [], i.s_c_in = 0), I._c = "Visitor", I._il = i.s_c_il, I._in = i.s_c_in, I._il[I._in] = I, i.s_c_in++ } function D() { function e(e) { 0 !== e.indexOf("_") && "function" == typeof l[e] && (I[e] = function () { }) } Object.keys(l).forEach(e), I.getSupplementalDataID = l.getSupplementalDataID } var I = this, C = t.whitelistParentDomain; I.state = {}, I.version = l.version, I.marketingCloudOrgID = e; var v = !1, A = new o(e, C); I.callbackRegistry = s(), I.findField = function (e, t) { if (I.state[e]) return t(I.state[e]), I.state[e] }, I.messageParent = _, I.setStateAndPublish = f, function () { S(), D(), d(new a(I)), h() }() } }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, { "./Message": 2, "./enums": 4, "./strategies/LocalVisitor": 5, "./strategies/PlaceholderVisitor": 6, "./strategies/ProxyVisitor": 7, "./utils/callbackRegistryFactory": 8, "./utils/polyfills": 10 }], 2: [function (e, t, i) { var n = e("./enums"), r = n.MESSAGES, a = { 0: "prefix", 1: "orgID", 2: "state" }; t.exports = function (e, t) { this.parse = function (e) { try { var t = {}; return e.data.split("|").forEach(function (e, i) { if (void 0 !== e) { t[a[i]] = 2 !== i ? e : JSON.parse(e) } }), t } catch (e) { } }, this.isInvalid = function (i) { var n = this.parse(i); if (!n || Object.keys(n).length < 2) return !0; var a = e !== n.orgID, s = !t || i.origin !== t, o = -1 === Object.keys(r).indexOf(n.prefix); return a || s || o }, this.send = function (i, n, r) { var a = n + "|" + e; r && r === Object(r) && (a += "|" + JSON.stringify(r)); try { i.postMessage(a, t) } catch (e) { } } } }, { "./enums": 4 }], 3: [function (e, t, i) {
        (function (i) {
            function n() { function e() { o.windowLoaded = !0 } i.addEventListener ? i.addEventListener("load", e) : i.attachEvent && i.attachEvent("onload", e), o.codeLoadEnd = (new Date).getTime() }/** @license ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

Adobe Visitor API for JavaScript version: 2.3.0
Copyright 1996-2015 Adobe, Inc. All Rights Reserved
More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
*/
            var r = e("./ChildVisitor"), a = e("./Message"), s = e("./utils/makeChildMessageListener"), o = function (e, t) {
                function n(e) { function t(e, t) { e && e.match(p.VALID_VISITOR_ID_REGEX) && t(e) } t(e[D], f.setMarketingCloudVisitorID), f._setFieldExpire(k, -1), t(e[E], f.setAnalyticsVisitorID) } function r(e) { e = e || {}, f._supplementalDataIDCurrent = e.supplementalDataIDCurrent || "", f._supplementalDataIDCurrentConsumed = e.supplementalDataIDCurrentConsumed || {}, f._supplementalDataIDLast = e.supplementalDataIDLast || "", f._supplementalDataIDLastConsumed = e.supplementalDataIDLastConsumed || {} } function o(e) { for (var t = "", i = 0, n = e.length; i < n; i++) { var r = e[i], a = r[0], s = r[1]; null != s && s !== L && (t = function (e, t, i) { return i = i ? i += "|" : i, i += e + "=" + encodeURIComponent(t) }(a, s, t)) } return function (e) { var t = P.getTimestampInSeconds(); return e = e ? e += "|" : e, e += "TS=" + t }(t) } function l(e) { var t = e.minutesToLive, i = ""; return f.idSyncDisableSyncs && (i = i || "Error: id syncs have been disabled"), "string" == typeof e.dpid && e.dpid.length || (i = i || "Error: config.dpid is empty"), "string" == typeof e.url && e.url.length || (i = i || "Error: config.url is empty"), void 0 === t ? t = 20160 : (t = parseInt(t, 10), (isNaN(t) || t <= 0) && (i = i || "Error: config.minutesToLive needs to be a positive number")), { error: i, ttl: t } } function u(e) { for (var t = 0, i = e.length; t < i; t++)if (!p.POSITIVE_INT_REGEX.test(e[t])) return !1; return !0 } function c(e, t) { for (; e.length < t.length;)e.push("0"); for (; t.length < e.length;)t.push("0") } function d(e, t) { for (var i = 0; i < e.length; i++) { var n = parseInt(e[i], 10), r = parseInt(t[i], 10); if (n > r) return 1; if (r > n) return -1 } return 0 } if (!e) throw new Error("Visitor requires Adobe Marketing Cloud Org ID"); var f = this; f.version = "2.3.0"; var g = i, _ = g.Visitor; _.version = f.version, g.s_c_in || (g.s_c_il = [], g.s_c_in = 0), f._c = "Visitor", f._il = g.s_c_il, f._in = g.s_c_in, f._il[f._in] = f, g.s_c_in++ , f._log = { requests: [] }; var m = g.document, p = { POST_MESSAGE_ENABLED: !!g.postMessage, DAYS_BETWEEN_SYNC_ID_CALLS: 1, MILLIS_PER_DAY: 864e5, ADOBE_MC: "adobe_mc", ADOBE_MC_SDID: "adobe_mc_sdid", VALID_VISITOR_ID_REGEX: /^[0-9a-fA-F\-]+$/, ADOBE_MC_TTL_IN_MIN: 5, POSITIVE_INT_REGEX: /^\d+$/, VERSION_REGEX: /vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/, HAS_JSON_STRINGIFY: window.JSON === Object(window.JSON) && "function" == typeof window.JSON.stringify }, h = function (e) { return !Object.prototype[e] }; f._hash = function (e) { var t, i, n = 0; if (e) for (t = 0; t < e.length; t++)i = e.charCodeAt(t), n = (n << 5) - n + i, n &= n; return n }, f._generateID = function (e, t) { var i, n, r = "0123456789", a = "", s = "", o = 8, l = 10, u = 10; if (t === D && (N.isClientSideMarketingCloudVisitorID = !0), 1 === e) { for (r += "ABCDEF", i = 0; i < 16; i++)n = Math.floor(Math.random() * o), a += r.substring(n, n + 1), n = Math.floor(Math.random() * o), s += r.substring(n, n + 1), o = 16; return a + "-" + s } for (i = 0; i < 19; i++)n = Math.floor(Math.random() * l), a += r.substring(n, n + 1), 0 === i && 9 === n ? l = 3 : (1 === i || 2 === i) && 10 !== l && n < 2 ? l = 10 : i > 2 && (l = 10), n = Math.floor(Math.random() * u), s += r.substring(n, n + 1), 0 === i && 9 === n ? u = 3 : (1 === i || 2 === i) && 10 !== u && n < 2 ? u = 10 : i > 2 && (u = 10); return a + s }, f._getDomain = function (e) { var t; if (!e && g.location && (e = g.location.hostname), t = e) if (/^[0-9.]+$/.test(t)) t = ""; else { var i = ",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,", n = t.split("."), r = n.length - 1, a = r - 1; if (r > 1 && n[r].length <= 2 && (2 === n[r - 1].length || i.indexOf("," + n[r] + ",") < 0) && a-- , a > 0) for (t = ""; r >= a;)t = n[r] + (t ? "." : "") + t, r-- } return t }, f.cookieRead = function (e) { e = encodeURIComponent(e); var t = (";" + m.cookie).split(" ").join(";"), i = t.indexOf(";" + e + "="), n = i < 0 ? i : t.indexOf(";", i + 1); return i < 0 ? "" : decodeURIComponent(t.substring(i + 2 + e.length, n < 0 ? t.length : n)) }, f.cookieWrite = function (e, t, i) { var n, r = f.cookieLifetime; if (t = "" + t, r = r ? ("" + r).toUpperCase() : "", i && "SESSION" !== r && "NONE" !== r) { if (n = "" !== t ? parseInt(r || 0, 10) : -60) i = new Date, i.setTime(i.getTime() + 1e3 * n); else if (1 === i) { i = new Date; var a = i.getYear(); i.setYear(a + 2 + (a < 1900 ? 1900 : 0)) } } else i = 0; return e && "NONE" !== r ? (m.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; path=/;" + (i ? " expires=" + i.toGMTString() + ";" : "") + (f.cookieDomain ? " domain=" + f.cookieDomain + ";" : ""), f.cookieRead(e) === t) : 0 }, f._callbackList = null, f._callCallback = function (e, t) { try { "function" == typeof e ? e.apply(g, t) : e[1].apply(e[0], t) } catch (e) { } }, f._registerCallback = function (e, t) { t && (null == f._callbackList && (f._callbackList = {}), void 0 == f._callbackList[e] && (f._callbackList[e] = []), f._callbackList[e].push(t)) }, f._callAllCallbacks = function (e, t) { if (null != f._callbackList) { var i = f._callbackList[e]; if (i) for (; i.length > 0;)f._callCallback(i.shift(), t) } }, f._addQuerystringParam = function (e, t, i, n) { var r = encodeURIComponent(t) + "=" + encodeURIComponent(i), a = P.parseHash(e), s = P.hashlessUrl(e); if (-1 === s.indexOf("?")) return s + "?" + r + a; var o = s.split("?"), l = o[0] + "?", u = o[1]; return l + P.addQueryParamAtLocation(u, r, n) + a }, f._extractParamFromUri = function (e, t) { var i = new RegExp("[\\?&#]" + t + "=([^&#]*)"), n = i.exec(e); if (n && n.length) return decodeURIComponent(n[1]) }, f._parseAdobeMcFromUrl = function (e) { var t = e || g.location.href; try { var i = f._extractParamFromUri(t, p.ADOBE_MC); if (i) return P.parsePipeDelimetedKeyValues(i) } catch (e) { } }, f._parseAdobeMcSdidFromUrl = function (e) { var t = e || g.location.href; try { var i = f._extractParamFromUri(t, p.ADOBE_MC_SDID); if (i) return P.parsePipeDelimetedKeyValues(i) } catch (e) { } }, f._attemptToPopulateSdidFromUrl = function (t) { var i = f._parseAdobeMcSdidFromUrl(t), n = 1e9; i && i.TS && (n = P.getTimestampInSeconds() - i.TS), i && i.SDID && i[I] === e && n < f.sdidParamExpiry && (f._supplementalDataIDCurrent = i.SDID, f._supplementalDataIDCurrentConsumed.SDID_URL_PARAM = !0) }, f._attemptToPopulateIdsFromUrl = function () { var t = f._parseAdobeMcFromUrl(); if (t && t.TS) { var i = P.getTimestampInSeconds(), r = i - t.TS; if (Math.floor(r / 60) > p.ADOBE_MC_TTL_IN_MIN || t[I] !== e) return; n(t) } }, f.resetState = function (e) { e ? f._mergeServerState(e) : r() }, f._mergeServerState = function (e) { if (e) try { if (e = function (e) { return P.isObject(e) ? e : P.parseJSON(e) }(e), e[f.marketingCloudOrgID]) { var t = e[f.marketingCloudOrgID]; !function (e) { P.isObject(e) && f.setCustomerIDs(e) }(t.customerIDs), r(t.sdid) } } catch (e) { throw new Error("`serverState` has an invalid format.") } }, f._timeout = null, f._loadData = function (e, t, i, n) { t = f._addQuerystringParam(t, "d_fieldgroup", e, 1), n.url = f._addQuerystringParam(n.url, "d_fieldgroup", e, 1), n.corsUrl = f._addQuerystringParam(n.corsUrl, "d_fieldgroup", e, 1), N.fieldGroupObj[e] = !0, n === Object(n) && n.corsUrl && "XMLHttpRequest" === f._requestProcs.corsMetadata.corsType ? f._requestProcs.fireCORS(n, i, e) : f.useCORSOnly || f._loadJSONP(e, t, i) }, f._loadJSONP = function (e, t, i) { var n, r = 0, a = 0; if (t && m) { for (n = 0; !r && n < 2;) { try { r = m.getElementsByTagName(n > 0 ? "HEAD" : "head"), r = r && r.length > 0 ? r[0] : 0 } catch (e) { r = 0 } n++ } if (!r) try { m.body && (r = m.body) } catch (e) { r = 0 } if (r) for (n = 0; !a && n < 2;) { try { a = m.createElement(n > 0 ? "SCRIPT" : "script") } catch (e) { a = 0 } n++ } } if (!t || !r || !a) return void (i && i()); a.type = "text/javascript", a.src = t, r.firstChild ? r.insertBefore(a, r.firstChild) : r.appendChild(a); var s = f.loadTimeout; i && (null == f._timeout && (f._timeout = {}), f._timeout[e] = setTimeout(function () { i(!0) }, s)), f._log.requests.push(t) }, f._clearTimeout = function (e) { null != f._timeout && f._timeout[e] && (clearTimeout(f._timeout[e]), f._timeout[e] = 0) }, f._isAllowedDone = !1, f._isAllowedFlag = !1, f.isAllowed = function () { return f._isAllowedDone || (f._isAllowedDone = !0, (f.cookieRead(f.cookieName) || f.cookieWrite(f.cookieName, "T", 1)) && (f._isAllowedFlag = !0)), f._isAllowedFlag }, f._fields = null, f._fieldsExpired = null; var S = "MC", D = "MCMID", I = "MCORGID", C = "MCCIDH", v = "MCSYNCS", A = "MCSYNCSOP", y = "MCIDTS", M = "MCOPTOUT", b = "A", E = "MCAID", O = "AAM", T = "MCAAMLH", k = "MCAAMB", L = "NONE"; f._settingsDigest = 0, f._getSettingsDigest = function () { if (!f._settingsDigest) { var e = f.version; f.audienceManagerServer && (e += "|" + f.audienceManagerServer), f.audienceManagerServerSecure && (e += "|" + f.audienceManagerServerSecure), f._settingsDigest = f._hash(e) } return f._settingsDigest }, f._readVisitorDone = !1, f._readVisitor = function () { if (!f._readVisitorDone) { f._readVisitorDone = !0; var e, t, i, n, r, a, s = f._getSettingsDigest(), o = !1, l = f.cookieRead(f.cookieName), u = new Date; if (null == f._fields && (f._fields = {}), l && "T" !== l) for (l = l.split("|"), l[0].match(/^[\-0-9]+$/) && (parseInt(l[0], 10) !== s && (o = !0), l.shift()), l.length % 2 == 1 && l.pop(), e = 0; e < l.length; e += 2)t = l[e].split("-"), i = t[0], n = l[e + 1], t.length > 1 ? (r = parseInt(t[1], 10), a = t[1].indexOf("s") > 0) : (r = 0, a = !1), o && (i === C && (n = ""), r > 0 && (r = u.getTime() / 1e3 - 60)), i && n && (f._setField(i, n, 1), r > 0 && (f._fields["expire" + i] = r + (a ? "s" : ""), (u.getTime() >= 1e3 * r || a && !f.cookieRead(f.sessionCookieName)) && (f._fieldsExpired || (f._fieldsExpired = {}), f._fieldsExpired[i] = !0))); !f._getField(E) && P.isTrackingServerPopulated() && (l = f.cookieRead("s_vi")) && (l = l.split("|"), l.length > 1 && l[0].indexOf("v1") >= 0 && (n = l[1], e = n.indexOf("["), e >= 0 && (n = n.substring(0, e)), n && n.match(p.VALID_VISITOR_ID_REGEX) && f._setField(E, n))) } }, f._appendVersionTo = function (e) { var t = "vVersion|" + f.version, i = e ? f._getCookieVersion(e) : null; return i ? P.areVersionsDifferent(i, f.version) && (e = e.replace(p.VERSION_REGEX, t)) : e += (e ? "|" : "") + t, e }, f._writeVisitor = function () { var e, t, i = f._getSettingsDigest(); for (e in f._fields) h(e) && f._fields[e] && "expire" !== e.substring(0, 6) && (t = f._fields[e], i += (i ? "|" : "") + e + (f._fields["expire" + e] ? "-" + f._fields["expire" + e] : "") + "|" + t); i = f._appendVersionTo(i), f.cookieWrite(f.cookieName, i, 1) }, f._getField = function (e, t) { return null == f._fields || !t && f._fieldsExpired && f._fieldsExpired[e] ? null : f._fields[e] }, f._setField = function (e, t, i) { null == f._fields && (f._fields = {}), f._fields[e] = t, i || f._writeVisitor() }, f._getFieldList = function (e, t) { var i = f._getField(e, t); return i ? i.split("*") : null }, f._setFieldList = function (e, t, i) { f._setField(e, t ? t.join("*") : "", i) }, f._getFieldMap = function (e, t) { var i = f._getFieldList(e, t); if (i) { var n, r = {}; for (n = 0; n < i.length; n += 2)r[i[n]] = i[n + 1]; return r } return null }, f._setFieldMap = function (e, t, i) { var n, r = null; if (t) { r = []; for (n in t) h(n) && (r.push(n), r.push(t[n])) } f._setFieldList(e, r, i) }, f._setFieldExpire = function (e, t, i) { var n = new Date; n.setTime(n.getTime() + 1e3 * t), null == f._fields && (f._fields = {}), f._fields["expire" + e] = Math.floor(n.getTime() / 1e3) + (i ? "s" : ""), t < 0 ? (f._fieldsExpired || (f._fieldsExpired = {}), f._fieldsExpired[e] = !0) : f._fieldsExpired && (f._fieldsExpired[e] = !1), i && (f.cookieRead(f.sessionCookieName) || f.cookieWrite(f.sessionCookieName, "1")) }, f._findVisitorID = function (e) { return e && ("object" == typeof e && (e = e.d_mid ? e.d_mid : e.visitorID ? e.visitorID : e.id ? e.id : e.uuid ? e.uuid : "" + e), e && "NOTARGET" === (e = e.toUpperCase()) && (e = L), e && (e === L || e.match(p.VALID_VISITOR_ID_REGEX)) || (e = "")), e }, f._setFields = function (e, t) { if (f._clearTimeout(e), null != f._loading && (f._loading[e] = !1), N.fieldGroupObj[e] && N.setState(e, !1), e === S) { !0 !== N.isClientSideMarketingCloudVisitorID && (N.isClientSideMarketingCloudVisitorID = !1); var i = f._getField(D); if (!i || f.overwriteCrossDomainMCIDAndAID) { if (!(i = "object" == typeof t && t.mid ? t.mid : f._findVisitorID(t))) { if (f._use1stPartyMarketingCloudServer && !f.tried1stPartyMarketingCloudServer) return f.tried1stPartyMarketingCloudServer = !0, void f.getAnalyticsVisitorID(null, !1, !0); i = f._generateID(0, D) } f._setField(D, i) } i && i !== L || (i = ""), "object" == typeof t && ((t.d_region || t.dcs_region || t.d_blob || t.blob) && f._setFields(O, t), f._use1stPartyMarketingCloudServer && t.mid && f._setFields(b, { id: t.id })), f._callAllCallbacks(D, [i]) } if (e === O && "object" == typeof t) { var n = 604800; void 0 != t.id_sync_ttl && t.id_sync_ttl && (n = parseInt(t.id_sync_ttl, 10)); var r = f._getField(T); r || (r = t.d_region, r || (r = t.dcs_region), r && (f._setFieldExpire(T, n), f._setField(T, r))), r || (r = ""), f._callAllCallbacks(T, [r]); var a = f._getField(k); (t.d_blob || t.blob) && (a = t.d_blob, a || (a = t.blob), f._setFieldExpire(k, n), f._setField(k, a)), a || (a = ""), f._callAllCallbacks(k, [a]), !t.error_msg && f._newCustomerIDsHash && f._setField(C, f._newCustomerIDsHash) } if (e === b) { var s = f._getField(E); s && !f.overwriteCrossDomainMCIDAndAID || (s = f._findVisitorID(t), s ? s !== L && f._setFieldExpire(k, -1) : s = L, f._setField(E, s)), s && s !== L || (s = ""), f._callAllCallbacks(E, [s]) } if (f.idSyncDisableSyncs) w.idCallNotProcesssed = !0; else { w.idCallNotProcesssed = !1; var o = {}; o.ibs = t.ibs, o.subdomain = t.subdomain, w.processIDCallData(o) } if (t === Object(t)) { var l, u; f.isAllowed() && (l = f._getField(M)), l || (l = L, t.d_optout && t.d_optout instanceof Array && (l = t.d_optout.join(",")), u = parseInt(t.d_ottl, 10), isNaN(u) && (u = 7200), f._setFieldExpire(M, u, !0), f._setField(M, l)), f._callAllCallbacks(M, [l]) } }, f._loading = null, f._getRemoteField = function (e, t, i, n, r) { var a, s = "", o = P.isFirstPartyAnalyticsVisitorIDCall(e); if (f.isAllowed()) { f._readVisitor(), s = f._getField(e, !0 === x[e]); if (function () { return (!s || f._fieldsExpired && f._fieldsExpired[e]) && (!f.disableThirdPartyCalls || o) }()) { if (e === D || e === M ? a = S : e === T || e === k ? a = O : e === E && (a = b), a) return !t || null != f._loading && f._loading[a] || (null == f._loading && (f._loading = {}), f._loading[a] = !0, f._loadData(a, t, function (t) { if (!f._getField(e)) { t && N.setState(a, !0); var i = ""; e === D ? i = f._generateID(0, D) : a === O && (i = { error_msg: "timeout" }), f._setFields(a, i) } }, r)), f._registerCallback(e, i), s || (t || f._setFields(a, { id: L }), "") } else s || (e === D ? (f._registerCallback(e, i), s = f._generateID(0, D), f.setMarketingCloudVisitorID(s)) : e === E ? (f._registerCallback(e, i), s = "", f.setAnalyticsVisitorID(s)) : (s = "", n = !0)) } return e !== D && e !== E || s !== L || (s = "", n = !0), i && n && f._callCallback(i, [s]), s }, f._setMarketingCloudFields = function (e) { f._readVisitor(), f._setFields(S, e) }, f.setMarketingCloudVisitorID = function (e) { f._setMarketingCloudFields(e) }, f._use1stPartyMarketingCloudServer = !1, f.getMarketingCloudVisitorID = function (e, t) { if (f.isAllowed()) { f.marketingCloudServer && f.marketingCloudServer.indexOf(".demdex.net") < 0 && (f._use1stPartyMarketingCloudServer = !0); var i = f._getAudienceManagerURLData("_setMarketingCloudFields"), n = i.url; return f._getRemoteField(D, n, e, t, i) } return "" }, f._mapCustomerIDs = function (e) { f.getAudienceManagerBlob(e, !0) }, _.AuthState = { UNKNOWN: 0, AUTHENTICATED: 1, LOGGED_OUT: 2 }, f._currentCustomerIDs = {}, f._customerIDsHashChanged = !1, f._newCustomerIDsHash = "", f.setCustomerIDs = function (e) { function t() { f._customerIDsHashChanged = !1 } if (f.isAllowed() && e) { f._readVisitor(); var i, n; for (i in e) if (h(i) && (n = e[i])) if ("object" == typeof n) { var r = {}; n.id && (r.id = n.id), void 0 != n.authState && (r.authState = n.authState), f._currentCustomerIDs[i] = r } else f._currentCustomerIDs[i] = { id: n }; var a = f.getCustomerIDs(), s = f._getField(C), o = ""; s || (s = 0); for (i in a) h(i) && (n = a[i], o += (o ? "|" : "") + i + "|" + (n.id ? n.id : "") + (n.authState ? n.authState : "")); f._newCustomerIDsHash = f._hash(o), f._newCustomerIDsHash !== s && (f._customerIDsHashChanged = !0, f._mapCustomerIDs(t)) } }, f.getCustomerIDs = function () { f._readVisitor(); var e, t, i = {}; for (e in f._currentCustomerIDs) h(e) && (t = f._currentCustomerIDs[e], i[e] || (i[e] = {}), t.id && (i[e].id = t.id), void 0 != t.authState ? i[e].authState = t.authState : i[e].authState = _.AuthState.UNKNOWN); return i }, f._setAnalyticsFields = function (e) { f._readVisitor(), f._setFields(b, e) }, f.setAnalyticsVisitorID = function (e) { f._setAnalyticsFields(e) }, f.getAnalyticsVisitorID = function (e, t, i) { if (!P.isTrackingServerPopulated() && !i) return f._callCallback(e, [""]), ""; if (f.isAllowed()) { var n = ""; if (i || (n = f.getMarketingCloudVisitorID(function (t) { f.getAnalyticsVisitorID(e, !0) })), n || i) { var r = i ? f.marketingCloudServer : f.trackingServer, a = ""; f.loadSSL && (i ? f.marketingCloudServerSecure && (r = f.marketingCloudServerSecure) : f.trackingServerSecure && (r = f.trackingServerSecure)); var s = {}; if (r) { var o = "http" + (f.loadSSL ? "s" : "") + "://" + r + "/id", l = "d_visid_ver=" + f.version + "&mcorgid=" + encodeURIComponent(f.marketingCloudOrgID) + (n ? "&mid=" + encodeURIComponent(n) : "") + (f.idSyncDisable3rdPartySyncing ? "&d_coppa=true" : ""), u = ["s_c_il", f._in, "_set" + (i ? "MarketingCloud" : "Analytics") + "Fields"]; a = o + "?" + l + "&callback=s_c_il%5B" + f._in + "%5D._set" + (i ? "MarketingCloud" : "Analytics") + "Fields", s.corsUrl = o + "?" + l, s.callback = u } return s.url = a, f._getRemoteField(i ? D : E, a, e, t, s) } } return "" }, f._setAudienceManagerFields = function (e) { f._readVisitor(), f._setFields(O, e) }, f._getAudienceManagerURLData = function (e) { var t = f.audienceManagerServer, i = "", n = f._getField(D), r = f._getField(k, !0), a = f._getField(E), s = a && a !== L ? "&d_cid_ic=AVID%01" + encodeURIComponent(a) : ""; if (f.loadSSL && f.audienceManagerServerSecure && (t = f.audienceManagerServerSecure), t) { var o, l, u = f.getCustomerIDs(); if (u) for (o in u) h(o) && (l = u[o], s += "&d_cid_ic=" + encodeURIComponent(o) + "%01" + encodeURIComponent(l.id ? l.id : "") + (l.authState ? "%01" + l.authState : "")); e || (e = "_setAudienceManagerFields"); var c = "http" + (f.loadSSL ? "s" : "") + "://" + t + "/id", d = "d_visid_ver=" + f.version + "&d_rtbd=json&d_ver=2" + (!n && f._use1stPartyMarketingCloudServer ? "&d_verify=1" : "") + "&d_orgid=" + encodeURIComponent(f.marketingCloudOrgID) + "&d_nsid=" + (f.idSyncContainerID || 0) + (n ? "&d_mid=" + encodeURIComponent(n) : "") + (f.idSyncDisable3rdPartySyncing ? "&d_coppa=true" : "") + (r ? "&d_blob=" + encodeURIComponent(r) : "") + s, g = ["s_c_il", f._in, e]; return i = c + "?" + d + "&d_cb=s_c_il%5B" + f._in + "%5D." + e, { url: i, corsUrl: c + "?" + d, callback: g } } return { url: i } }, f.getAudienceManagerLocationHint = function (e, t) { if (f.isAllowed()) { if (f.getMarketingCloudVisitorID(function (t) { f.getAudienceManagerLocationHint(e, !0) })) { var i = f._getField(E); if (!i && P.isTrackingServerPopulated() && (i = f.getAnalyticsVisitorID(function (t) { f.getAudienceManagerLocationHint(e, !0) })), i || !P.isTrackingServerPopulated()) { var n = f._getAudienceManagerURLData(), r = n.url; return f._getRemoteField(T, r, e, t, n) } } } return "" }, f.getLocationHint = f.getAudienceManagerLocationHint, f.getAudienceManagerBlob = function (e, t) { if (f.isAllowed()) { if (f.getMarketingCloudVisitorID(function (t) { f.getAudienceManagerBlob(e, !0) })) { var i = f._getField(E); if (!i && P.isTrackingServerPopulated() && (i = f.getAnalyticsVisitorID(function (t) { f.getAudienceManagerBlob(e, !0) })), i || !P.isTrackingServerPopulated()) { var n = f._getAudienceManagerURLData(), r = n.url; return f._customerIDsHashChanged && f._setFieldExpire(k, -1), f._getRemoteField(k, r, e, t, n) } } } return "" }, f._supplementalDataIDCurrent = "", f._supplementalDataIDCurrentConsumed = {}, f._supplementalDataIDLast = "", f._supplementalDataIDLastConsumed = {}, f.getSupplementalDataID = function (e, t) { f._supplementalDataIDCurrent || t || (f._supplementalDataIDCurrent = f._generateID(1)); var i = f._supplementalDataIDCurrent; return f._supplementalDataIDLast && !f._supplementalDataIDLastConsumed[e] ? (i = f._supplementalDataIDLast, f._supplementalDataIDLastConsumed[e] = !0) : i && (f._supplementalDataIDCurrentConsumed[e] && (f._supplementalDataIDLast = f._supplementalDataIDCurrent, f._supplementalDataIDLastConsumed = f._supplementalDataIDCurrentConsumed, f._supplementalDataIDCurrent = i = t ? "" : f._generateID(1), f._supplementalDataIDCurrentConsumed = {}), i && (f._supplementalDataIDCurrentConsumed[e] = !0)), i }, _.OptOut = { GLOBAL: "global" }, f.getOptOut = function (e, t) { if (f.isAllowed()) { var i = f._getAudienceManagerURLData("_setMarketingCloudFields"), n = i.url; return f._getRemoteField(M, n, e, t, i) } return "" }, f.isOptedOut = function (e, t, i) { if (f.isAllowed()) { t || (t = _.OptOut.GLOBAL); var n = f.getOptOut(function (i) { var n = i === _.OptOut.GLOBAL || i.indexOf(t) >= 0; f._callCallback(e, [n]) }, i); return n ? n === _.OptOut.GLOBAL || n.indexOf(t) >= 0 : null } return !1 }, f.appendVisitorIDsTo = function (e) { var t = p.ADOBE_MC, i = [[D, f._getField(D)], [E, f._getField(E)], [I, f.marketingCloudOrgID]], n = o(i); try { return f._addQuerystringParam(e, t, n) } catch (t) { return e } }, f.appendSupplementalDataIDTo = function (e, t) { if (!(t = t || f.getSupplementalDataID(P.generateRandomString(), !0))) return e; var i = p.ADOBE_MC_SDID, n = "SDID=" + encodeURIComponent(t) + "|"; n += I + "=" + encodeURIComponent(f.marketingCloudOrgID) + "|", n += "TS=" + P.getTimestampInSeconds(); try { return f._addQuerystringParam(e, i, n) } catch (t) { return e } }, f._xd = { postMessage: function (e, t, i) { var n = 1; t && (p.POST_MESSAGE_ENABLED ? i.postMessage(e, t.replace(/([^:]+:\/\/[^\/]+).*/, "$1")) : t && (i.location = t.replace(/#.*$/, "") + "#" + +new Date + n++ + "&" + e)) }, receiveMessage: function (e, t) { var i; try { p.POST_MESSAGE_ENABLED && (e && (i = function (i) { if ("string" == typeof t && i.origin !== t || "[object Function]" === Object.prototype.toString.call(t) && !1 === t(i.origin)) return !1; e(i) }), g.addEventListener ? g[e ? "addEventListener" : "removeEventListener"]("message", i, !1) : g[e ? "attachEvent" : "detachEvent"]("å", i)) } catch (e) { } } }; var P = { addListener: function () { return m.addEventListener ? function (e, t, i) { e.addEventListener(t, function (e) { "function" == typeof i && i(e) }, !1) } : m.attachEvent ? function (e, t, i) { e.attachEvent("on" + t, function (e) { "function" == typeof i && i(e) }) } : void 0 }(), map: function (e, t) { if (Array.prototype.map) return e.map(t); if (void 0 === e || null == e) throw new TypeError; var i = Object(e), n = i.length >>> 0; if ("function" != typeof t) throw new TypeError; for (var r = new Array(n), a = arguments[1], s = 0; s < n; s++)s in i && (r[s] = t.call(a, i[s], s, i)); return r }, encodeAndBuildRequest: function (e, t) { return this.map(e, function (e) { return encodeURIComponent(e) }).join(t) }, parseHash: function (e) { var t = e.indexOf("#"); return t > 0 ? e.substr(t) : "" }, hashlessUrl: function (e) { var t = e.indexOf("#"); return t > 0 ? e.substr(0, t) : e }, addQueryParamAtLocation: function (e, t, i) { var n = e.split("&"); return i = null != i ? i : n.length, n.splice(i, 0, t), n.join("&") }, isFirstPartyAnalyticsVisitorIDCall: function (e, t, i) { if (e !== E) return !1; var n; return t || (t = f.trackingServer), i || (i = f.trackingServerSecure), !("string" != typeof (n = f.loadSSL ? i : t) || !n.length) && (n.indexOf("2o7.net") < 0 && n.indexOf("omtrdc.net") < 0) }, isObject: function (e) { return Boolean(e && e === Object(e)) }, isLessThan: function (e, t) { return f._compareVersions(e, t) < 0 }, areVersionsDifferent: function (e, t) { return 0 !== f._compareVersions(e, t) }, removeCookie: function (e) { document.cookie = encodeURIComponent(e) + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;" }, isTrackingServerPopulated: function () { return !!f.trackingServer || !!f.trackingServerSecure }, parseJSON: function (e, t) { function i(e, n) { var r, a, s = e[n]; if (s && "object" == typeof s) for (r in s) Object.prototype.hasOwnProperty.call(s, r) && (a = i(s, r), void 0 !== a ? s[r] = a : delete s[r]); return t.call(e, n, s) } if ("object" == typeof JSON && "function" == typeof JSON.parse) return JSON.parse(e, t); var n, r = /^[\],:{}\s]*$/, a = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, s = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, o = /(?:^|:|,)(?:\s*\[)+/g, l = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g; if (e = String(e), l.lastIndex = 0, l.test(e) && (e = e.replace(l, function (e) { return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4) })), r.test(e.replace(a, "@").replace(s, "]").replace(o, ""))) return n = eval("(" + e + ")"), "function" == typeof t ? i({ "": n }, "") : n; throw new SyntaxError("JSON.parse") }, getTimestampInSeconds: function () { return Math.round((new Date).getTime() / 1e3) }, parsePipeDelimetedKeyValues: function (e) { for (var t = {}, i = e.split("|"), n = 0, r = i.length; n < r; n++) { var a = i[n].split("="); t[a[0]] = decodeURIComponent(a[1]) } return t }, generateRandomString: function (e) { e = e || 5; for (var t = "", i = "abcdefghijklmnopqrstuvwxyz0123456789"; e--;)t += i[Math.floor(Math.random() * i.length)]; return t } }; f._helpers = P; var R = { corsMetadata: function () { var e = "none", t = !0; return "undefined" != typeof XMLHttpRequest && XMLHttpRequest === Object(XMLHttpRequest) && ("withCredentials" in new XMLHttpRequest ? e = "XMLHttpRequest" : "undefined" != typeof XDomainRequest && XDomainRequest === Object(XDomainRequest) && (t = !1), Object.prototype.toString.call(g.HTMLElement).indexOf("Constructor") > 0 && (t = !1)), { corsType: e, corsCookiesEnabled: t } }(), getCORSInstance: function () { return "none" === this.corsMetadata.corsType ? null : new g[this.corsMetadata.corsType] }, fireCORS: function (e, t, i) { function n(t) { var i; try { if ((i = JSON.parse(t)) !== Object(i)) return void r.handleCORSError(e, null, "Response is not JSON") } catch (t) { return void r.handleCORSError(e, t, "Error parsing response as JSON") } try { for (var n = e.callback, a = g, s = 0; s < n.length; s++)a = a[n[s]]; a(i) } catch (t) { r.handleCORSError(e, t, "Error forming callback function") } } var r = this; t && (e.loadErrorHandler = t); try { var a = this.getCORSInstance(); a.open("get", e.corsUrl + "&ts=" + (new Date).getTime(), !0), "XMLHttpRequest" === this.corsMetadata.corsType && (a.withCredentials = !0, a.timeout = f.loadTimeout, a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), a.onreadystatechange = function () { 4 === this.readyState && 200 === this.status && n(this.responseText) }), a.onerror = function (t) { r.handleCORSError(e, t, "onerror") }, a.ontimeout = function (t) { r.handleCORSError(e, t, "ontimeout") }, a.send(), f._log.requests.push(e.corsUrl) } catch (t) { this.handleCORSError(e, t, "try-catch") } }, handleCORSError: function (e, t, i) { f.CORSErrors.push({ corsData: e, error: t, description: i }), e.loadErrorHandler && ("ontimeout" === i ? e.loadErrorHandler(!0) : e.loadErrorHandler(!1)) } }; f._requestProcs = R; var w = { THROTTLE_START: 3e4, MAX_SYNCS_LENGTH: 649, throttleTimerSet: !1, id: null, onPagePixels: [], iframeHost: null, getIframeHost: function (e) { if ("string" == typeof e) { var t = e.split("/"); return t[0] + "//" + t[2] } }, subdomain: null, url: null, getUrl: function () { var e, t = "http://fast.", i = "?d_nsid=" + f.idSyncContainerID + "#" + encodeURIComponent(m.location.href); return this.subdomain || (this.subdomain = "nosubdomainreturned"), f.loadSSL && (t = f.idSyncSSLUseAkamai ? "https://fast." : "https://"), e = t + this.subdomain + ".demdex.net/dest5.html" + i, this.iframeHost = this.getIframeHost(e), this.id = "destination_publishing_iframe_" + this.subdomain + "_" + f.idSyncContainerID, e }, checkDPIframeSrc: function () { var e = "?d_nsid=" + f.idSyncContainerID + "#" + encodeURIComponent(m.location.href); "string" == typeof f.dpIframeSrc && f.dpIframeSrc.length && (this.id = "destination_publishing_iframe_" + (f._subdomain || this.subdomain || (new Date).getTime()) + "_" + f.idSyncContainerID, this.iframeHost = this.getIframeHost(f.dpIframeSrc), this.url = f.dpIframeSrc + e) }, idCallNotProcesssed: null, doAttachIframe: !1, startedAttachingIframe: !1, iframeHasLoaded: null, iframeIdChanged: null, newIframeCreated: null, originalIframeHasLoadedAlready: null, sendingMessages: !1, messages: [], messagesPosted: [], messagesReceived: [], messageSendingInterval: p.POST_MESSAGE_ENABLED ? null : 100, jsonForComparison: [], jsonDuplicates: [], jsonWaiting: [], jsonProcessed: [], canSetThirdPartyCookies: !0, receivedThirdPartyCookiesNotification: !1, readyToAttachIframe: function () { return !f.idSyncDisable3rdPartySyncing && (this.doAttachIframe || f._doAttachIframe) && (this.subdomain && "nosubdomainreturned" !== this.subdomain || f._subdomain) && this.url && !this.startedAttachingIframe }, attachIframe: function () { function e() { n = document.createElement("iframe"), n.sandbox = "allow-scripts allow-same-origin", n.title = "Adobe ID Syncing iFrame", n.id = i.id, n.style.cssText = "display: none; width: 0; height: 0;", n.src = i.url, i.newIframeCreated = !0, t(), document.body.appendChild(n) } function t() { P.addListener(n, "load", function () { n.className = "aamIframeLoaded", i.iframeHasLoaded = !0, i.requestToProcess() }) } this.startedAttachingIframe = !0; var i = this, n = document.getElementById(this.id); n ? "IFRAME" !== n.nodeName ? (this.id += "_2", this.iframeIdChanged = !0, e()) : (this.newIframeCreated = !1, "aamIframeLoaded" !== n.className ? (this.originalIframeHasLoadedAlready = !1, t()) : (this.originalIframeHasLoadedAlready = !0, this.iframeHasLoaded = !0, this.iframe = n, this.requestToProcess())) : e(), this.iframe = n }, requestToProcess: function (e) { function t() { n.jsonForComparison.push(e), n.jsonWaiting.push(e), n.processSyncOnPage(e) } var i, n = this; if (e === Object(e) && e.ibs) if (p.HAS_JSON_STRINGIFY) if (i = JSON.stringify(e.ibs || []), this.jsonForComparison.length) { var r, a, s, o = !1; for (r = 0, a = this.jsonForComparison.length; r < a; r++)if (s = this.jsonForComparison[r], i === JSON.stringify(s.ibs || [])) { o = !0; break } o ? this.jsonDuplicates.push(e) : t() } else t(); else t(); if ((this.receivedThirdPartyCookiesNotification || !p.POST_MESSAGE_ENABLED || this.iframeHasLoaded) && this.jsonWaiting.length) { var l = this.jsonWaiting.shift(); this.process(l), this.requestToProcess() } !f.idSyncDisableSyncs && this.iframeHasLoaded && this.messages.length && !this.sendingMessages && (this.throttleTimerSet || (this.throttleTimerSet = !0, setTimeout(function () { n.messageSendingInterval = p.POST_MESSAGE_ENABLED ? null : 150 }, this.THROTTLE_START)), this.sendingMessages = !0, this.sendMessages()) }, processSyncOnPage: function (e) { var t, i, n, r; if ((t = e.ibs) && t instanceof Array && (i = t.length)) for (n = 0; n < i; n++)r = t[n], r.syncOnPage && this.checkFirstPartyCookie(r, "", "syncOnPage") }, process: function (e) { var t, i, n, r, a, s = encodeURIComponent, o = !1; if ((t = e.ibs) && t instanceof Array && (i = t.length)) for (o = !0, n = 0; n < i; n++)r = t[n], a = [s("ibs"), s(r.id || ""), s(r.tag || ""), P.encodeAndBuildRequest(r.url || [], ","), s(r.ttl || ""), "", "", r.fireURLSync ? "true" : "false"], r.syncOnPage || (this.canSetThirdPartyCookies ? this.addMessage(a.join("|")) : r.fireURLSync && this.checkFirstPartyCookie(r, a.join("|"))); o && this.jsonProcessed.push(e) }, checkFirstPartyCookie: function (e, t, i) { var n = "syncOnPage" === i, r = n ? A : v; f._readVisitor(); var a, s, o = f._getField(r), l = !1, u = !1, c = Math.ceil((new Date).getTime() / p.MILLIS_PER_DAY); o ? (a = o.split("*"), s = this.pruneSyncData(a, e.id, c), l = s.dataPresent, u = s.dataValid, l && u || this.fireSync(n, e, t, a, r, c)) : (a = [], this.fireSync(n, e, t, a, r, c)) }, pruneSyncData: function (e, t, i) { var n, r, a, s = !1, o = !1; for (r = 0; r < e.length; r++)n = e[r], a = parseInt(n.split("-")[1], 10), n.match("^" + t + "-") ? (s = !0, i < a ? o = !0 : (e.splice(r, 1), r--)) : i >= a && (e.splice(r, 1), r--); return { dataPresent: s, dataValid: o } }, manageSyncsSize: function (e) { if (e.join("*").length > this.MAX_SYNCS_LENGTH) for (e.sort(function (e, t) { return parseInt(e.split("-")[1], 10) - parseInt(t.split("-")[1], 10) }); e.join("*").length > this.MAX_SYNCS_LENGTH;)e.shift() }, fireSync: function (e, t, i, n, r, a) { var s = this; if (e) { if ("img" === t.tag) { var o, l, u, c, d = t.url, g = f.loadSSL ? "https:" : "http:"; for (o = 0, l = d.length; o < l; o++) { u = d[o], c = /^\/\//.test(u); var _ = new Image; P.addListener(_, "load", function (e, t, i, n) { return function () { s.onPagePixels[e] = null, f._readVisitor(); var a, o = f._getField(r), l = []; if (o) { a = o.split("*"); var u, c, d; for (u = 0, c = a.length; u < c; u++)d = a[u], d.match("^" + t.id + "-") || l.push(d) } s.setSyncTrackingData(l, t, i, n) } }(this.onPagePixels.length, t, r, a)), _.src = (c ? g : "") + u, this.onPagePixels.push(_) } } } else this.addMessage(i), this.setSyncTrackingData(n, t, r, a) }, addMessage: function (e) { var t = encodeURIComponent, i = t(f._enableErrorReporting ? "---destpub-debug---" : "---destpub---"); this.messages.push((p.POST_MESSAGE_ENABLED ? "" : i) + e) }, setSyncTrackingData: function (e, t, i, n) { e.push(t.id + "-" + (n + Math.ceil(t.ttl / 60 / 24))), this.manageSyncsSize(e), f._setField(i, e.join("*")) }, sendMessages: function () { var e, t = this; this.messages.length ? p.POST_MESSAGE_ENABLED ? (e = encodeURIComponent("---destpub-combined---") + this.messages.join("%01"), this.postMessage(e), this.messages = [], this.sendingMessages = !1) : (e = this.messages.shift(), this.postMessage(e), setTimeout(function () { t.sendMessages() }, this.messageSendingInterval)) : this.sendingMessages = !1 }, postMessage: function (e) { f._xd.postMessage(e, this.url, this.iframe.contentWindow), this.messagesPosted.push(e) }, receiveMessage: function (e) { var t, i = /^---destpub-to-parent---/; "string" == typeof e && i.test(e) && (t = e.replace(i, "").split("|"), "canSetThirdPartyCookies" === t[0] && (this.canSetThirdPartyCookies = "true" === t[1], this.receivedThirdPartyCookiesNotification = !0, this.requestToProcess()), this.messagesReceived.push(e)) }, processIDCallData: function (e) { (null == this.url || e.subdomain && "nosubdomainreturned" === this.subdomain) && ("string" == typeof f._subdomain && f._subdomain.length ? this.subdomain = f._subdomain : this.subdomain = e.subdomain || "", this.url = this.getUrl()), e.ibs instanceof Array && e.ibs.length && (this.doAttachIframe = !0), this.readyToAttachIframe() && (f.idSyncAttachIframeOnWindowLoad ? (_.windowLoaded || "complete" === m.readyState || "loaded" === m.readyState) && this.attachIframe() : this.attachIframeASAP()), "function" == typeof f.idSyncIDCallResult ? f.idSyncIDCallResult(e) : this.requestToProcess(e), "function" == typeof f.idSyncAfterIDCallResult && f.idSyncAfterIDCallResult(e) }, canMakeSyncIDCall: function (e, t) { return f._forceSyncIDCall || !e || t - e > p.DAYS_BETWEEN_SYNC_ID_CALLS }, attachIframeASAP: function () { function e() { t.startedAttachingIframe || (document.body ? t.attachIframe() : setTimeout(e, 30)) } var t = this; e() } }; f._destinationPublishing = w, f.timeoutMetricsLog = []; var F, N = {
                    isClientSideMarketingCloudVisitorID: null, MCIDCallTimedOut: null, AnalyticsIDCallTimedOut: null, AAMIDCallTimedOut: null, fieldGroupObj: {}, setState: function (e, t) {
                        switch (e) {
                            case S: !1 === t ? !0 !== this.MCIDCallTimedOut && (this.MCIDCallTimedOut = !1) : this.MCIDCallTimedOut = t; break; case b: !1 === t ? !0 !== this.AnalyticsIDCallTimedOut && (this.AnalyticsIDCallTimedOut = !1) : this.AnalyticsIDCallTimedOut = t; break; case O: !1 === t ? !0 !== this.AAMIDCallTimedOut && (this.AAMIDCallTimedOut = !1) : this.AAMIDCallTimedOut = t
                        }
                    }
                }; f.isClientSideMarketingCloudVisitorID = function () { return N.isClientSideMarketingCloudVisitorID }, f.MCIDCallTimedOut = function () { return N.MCIDCallTimedOut }, f.AnalyticsIDCallTimedOut = function () { return N.AnalyticsIDCallTimedOut }, f.AAMIDCallTimedOut = function () { return N.AAMIDCallTimedOut }, f.idSyncGetOnPageSyncInfo = function () { return f._readVisitor(), f._getField(A) }, f.idSyncByURL = function (e) { var t = l(e || {}); if (t.error) return t.error; var i, n, r = e.url, a = encodeURIComponent, s = w; return r = r.replace(/^https:/, "").replace(/^http:/, ""), i = P.encodeAndBuildRequest(["", e.dpid, e.dpuuid || ""], ","), n = ["ibs", a(e.dpid), "img", a(r), t.ttl, "", i], s.addMessage(n.join("|")), s.requestToProcess(), "Successfully queued" }, f.idSyncByDataSource = function (e) { return e === Object(e) && "string" == typeof e.dpuuid && e.dpuuid.length ? (e.url = "//dpm.demdex.net/ibs:dpid=" + e.dpid + "&dpuuid=" + e.dpuuid, f.idSyncByURL(e)) : "Error: config or config.dpuuid is empty" }, f._compareVersions = function (e, t) { if (e === t) return 0; var i = e.toString().split("."), n = t.toString().split("."); return u(i.concat(n)) ? (c(i, n), d(i, n)) : NaN }, f._getCookieVersion = function (e) { e = e || f.cookieRead(f.cookieName); var t = p.VERSION_REGEX.exec(e); return t && t.length > 1 ? t[1] : null }, f._resetAmcvCookie = function (e) { var t = f._getCookieVersion(); t && !P.isLessThan(t, e) || P.removeCookie(f.cookieName) }, e.indexOf("@") < 0 && (e += "@AdobeOrg"), f.marketingCloudOrgID = e, f.cookieName = "AMCV_" + e, f.sessionCookieName = "AMCVS_" + e, f.cookieDomain = f._getDomain(), f.cookieDomain === g.location.hostname && (f.cookieDomain = ""), f.loadSSL = g.location.protocol.toLowerCase().indexOf("https") >= 0, f.loadTimeout = 3e4, f.CORSErrors = [], f.marketingCloudServer = f.audienceManagerServer = "dpm.demdex.net", f.sdidParamExpiry = 30; var x = {}; if (x[T] = !0, x[k] = !0, t && "object" == typeof t) { var V; for (V in t) h(V) && (f[V] = t[V]); f.idSyncContainerID = f.idSyncContainerID || 0, f.resetBeforeVersion && f._resetAmcvCookie(f.resetBeforeVersion), f._attemptToPopulateIdsFromUrl(), f._attemptToPopulateSdidFromUrl(), f._readVisitor(); var j = f._getField(y), U = Math.ceil((new Date).getTime() / p.MILLIS_PER_DAY); !f.idSyncDisableSyncs && w.canMakeSyncIDCall(j, U) && (f._setFieldExpire(k, -1), f._setField(y, U)), f.getMarketingCloudVisitorID(), f.getAudienceManagerLocationHint(), f.getAudienceManagerBlob(), f._mergeServerState(f.serverState) } else f._attemptToPopulateIdsFromUrl(), f._attemptToPopulateSdidFromUrl(); if (!f.idSyncDisableSyncs) { w.checkDPIframeSrc(); var H = function () { var e = w; e.readyToAttachIframe() && e.attachIframe() }; P.addListener(g, "load", function () { _.windowLoaded = !0, H() }); try { f._xd.receiveMessage(function (e) { w.receiveMessage(e.data) }, w.iframeHost) } catch (e) { } } f.whitelistIframeDomains && p.POST_MESSAGE_ENABLED && (f.whitelistIframeDomains = f.whitelistIframeDomains instanceof Array ? f.whitelistIframeDomains : [f.whitelistIframeDomains], f.whitelistIframeDomains.forEach(function (t) { var i = new a(e, t), n = s(f, i); f._xd.receiveMessage(n, t) }))
            }; o.getInstance = function (e, t) { if (!e) throw new Error("Visitor requires Adobe Marketing Cloud Org ID"); e.indexOf("@") < 0 && (e += "@AdobeOrg"); var n = function () { var t = i.s_c_il; if (t) for (var n = 0; n < t.length; n++) { var r = t[n]; if (r && "Visitor" === r._c && r.marketingCloudOrgID === e) return r } }(); if (n) return n; var a = new o(e), s = a.isAllowed(); return function () { i.s_c_il.splice(--i.s_c_in, 1) }(), function () { try { return i.self !== i.parent } catch (e) { return !0 } }() && !s && i.parent ? new r(e, t, a, i.parent) : new o(e, t) }, n(), i.Visitor = o, t.exports = o
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, { "./ChildVisitor": 1, "./Message": 2, "./utils/makeChildMessageListener": 9 }], 4: [function (e, t, i) { i.MESSAGES = { HANDSHAKE: "HANDSHAKE", GETSTATE: "GETSTATE", PARENTSTATE: "PARENTSTATE" }, i.STATE_KEYS_MAP = { MCMID: "MCMID", MCAID: "MCAID", MCAAMB: "MCAAMB", MCAAMLH: "MCAAMLH", MCOPTOUT: "MCOPTOUT", CUSTOMERIDS: "CUSTOMERIDS" }, i.ASYNC_API_MAP = { MCMID: "getMarketingCloudVisitorID", MCAID: "getAnalyticsVisitorID", MCAAMB: "getAudienceManagerBlob", MCAAMLH: "getAudienceManagerLocationHint", MCOPTOUT: "getOptOut" }, i.SYNC_API_MAP = { CUSTOMERIDS: "getCustomerIDs" }, i.ALL_APIS = { MCMID: "getMarketingCloudVisitorID", MCAAMB: "getAudienceManagerBlob", MCAAMLH: "getAudienceManagerLocationHint", MCOPTOUT: "getOptOut", MCAID: "getAnalyticsVisitorID", CUSTOMERIDS: "getCustomerIDs" }, i.FIELDGROUP_TO_FIELD = { MC: "MCMID", A: "MCAID", AAM: "MCAAMB" } }, {}], 5: [function (e, t, i) { var n = e("../enums"), r = n.STATE_KEYS_MAP; t.exports = function (e) { function t() { } function i(t, i) { var n = this; return function () { var t = e(0, r.MCMID), a = {}; return a[r.MCMID] = t, n.setStateAndPublish(a), i(t), t } } this.getMarketingCloudVisitorID = function (e) { e = e || t; var n = this.findField(r.MCMID, e), a = i.call(this, r.MCMID, e); return void 0 !== n ? n : a() } } }, { "../enums": 4 }], 6: [function (e, t, i) { var n = e("../enums"), r = n.ASYNC_API_MAP; t.exports = function () { Object.keys(r).forEach(function (e) { this[r[e]] = function (t) { this.callbackRegistry.add(e, t) } }, this) } }, { "../enums": 4 }], 7: [function (e, t, i) { var n = e("../enums"), r = n.MESSAGES, a = n.ASYNC_API_MAP, s = n.SYNC_API_MAP; t.exports = function () { function e() { } function t(e, t) { var i = this; return function () { return i.callbackRegistry.add(e, t), i.messageParent(r.GETSTATE), "" } } function i(i) { this[a[i]] = function (n) { n = n || e; var r = this.findField(i, n), a = t.call(this, i, n); return void 0 !== r ? r : a() } } function n(t) { this[s[t]] = function () { return this.findField(t, e) || {} } } Object.keys(a).forEach(i, this), Object.keys(s).forEach(n, this) } }, { "../enums": 4 }], 8: [function (e, t, i) { function n() { return { callbacks: {}, add: function (e, t) { this.callbacks[e] = this.callbacks[e] || []; var i = this.callbacks[e].push(t) - 1; return function () { this.callbacks[e].splice(i, 1) } }, execute: function (e, t) { if (this.callbacks[e]) { t = void 0 === t ? [] : t, t = t instanceof Array ? t : [t]; try { for (; this.callbacks[e].length;) { var i = this.callbacks[e].shift(); "function" == typeof i ? i.apply(null, t) : i instanceof Array && i[1].apply(i[0], t) } delete this.callbacks[e] } catch (e) { } } }, executeAll: function (e, t) { (t || e && !r.isObjectEmpty(e)) && Object.keys(this.callbacks).forEach(function (t) { var i = void 0 !== e[t] ? e[t] : ""; this.execute(t, i) }, this) }, hasCallbacks: function () { return Boolean(Object.keys(this.callbacks).length) } } } var r = e("./utils"); t.exports = n }, { "./utils": 11 }], 9: [function (e, t, i) { var n = e("../enums"), r = e("./utils"), a = n.MESSAGES, s = n.ALL_APIS, o = n.ASYNC_API_MAP, l = n.FIELDGROUP_TO_FIELD; t.exports = function (e, t) { function i() { var t = {}; return Object.keys(s).forEach(function (i) { var n = s[i], a = e[n](); r.isValueEmpty(a) || (t[i] = a) }), t } function n() { var t = []; return e._loading && Object.keys(e._loading).forEach(function (i) { if (e._loading[i]) { var n = l[i]; t.push(n) } }), t.length ? t : null } function u(t) { return function i(r) { var a = n(); if (a) { var s = o[a[0]]; e[s](i, !0) } else t() } } function c(e, n) { var r = i(); t.send(e, n, r) } function d(e) { g(e), c(e, a.HANDSHAKE) } function f(e) { u(function () { c(e, a.PARENTSTATE) })() } function g(i) { function n(n) { r.call(e, n), t.send(i, a.PARENTSTATE, { CUSTOMERIDS: e.getCustomerIDs() }) } var r = e.setCustomerIDs; e.setCustomerIDs = n } return function (e) { if (!t.isInvalid(e)) { (t.parse(e).prefix === a.HANDSHAKE ? d : f)(e.source) } } } }, { "../enums": 4, "./utils": 11 }], 10: [function (e, t, i) { Object.keys = Object.keys || function (e) { var t = []; for (var i in e) t.hasOwnProperty.call(e, i) && t.push(i); return t }, Array.prototype.forEach = Array.prototype.forEach || function (e, t) { for (var i = this, n = 0, r = i.length; n < r; n++)e.call(t, i[n], n, i) }, Object.assign = Object.assign || function (e, t) { for (var i, n, r = 1; r < arguments.length; ++r) { n = arguments[r]; for (i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]) } return e } }, {}], 11: [function (e, t, i) { i.isObjectEmpty = function (e) { return e === Object(e) && 0 === Object.keys(e).length }, i.isValueEmpty = function (e) { return "" === e || i.isObjectEmpty(e) } }, {}]
}, {}, [1, 2, 3, 4]);

var visitor = Visitor.getInstance("AA7A3BC75245B3BC0A490D4D@AdobeOrg", {
    "trackingServer": "omni.suntrust.com",
    "trackingServerSecure": "somni.suntrust.com",
    "marketingCloudServer": "omni.suntrust.com",
    "marketingCloudServerSecure": "somni.suntrust.com"
});
//No Custom JavaScript
/**
 * @license
 * at.js 1.6.3 | (c) Adobe Systems Incorporated | All rights reserved
 * zepto.js | (c) 2010-2016 Thomas Fuchs | zeptojs.com/license
*/
window.adobe = window.adobe || {}, window.adobe.target = function () {
    "use strict"; function n() { } function t(n) { if (null === n || void 0 === n) throw new TypeError("Object.assign cannot be called with null or undefined"); return Object(n) } function e(n) { return Uc.call(n) } function r(n) { return e(n) } function i(n) { var t = void 0 === n ? "undefined" : Fc(n); return null != n && ("object" === t || "function" === t) } function o(n) { return !!i(n) && r(n) === $c } function u(n) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; return o(n) ? setTimeout(n, Number(t) || 0) : -1 } function c() { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1; -1 !== n && clearTimeout(n) } function a(n) { return null == n } function f(n) { return n } function s(n) { return o(n) ? n : f } function l(n) { return a(n) ? [] : Object.keys(n) } function d(n, t) { return a(t) ? [] : (Bc(t) ? zc : Zc)(s(n), t) } function h(n) { return n && n.length ? n[0] : void 0 } function p(n) { return a(n) ? [] : [].concat.apply([], n) } function v(n) { for (var t = this, e = n ? n.length : 0, r = e; r -= 1;)if (!o(n[r])) throw new TypeError("Expected a function"); return function () { for (var r = arguments.length, i = Array(r), o = 0; o < r; o++)i[o] = arguments[o]; for (var u = 0, c = e ? n[u].apply(t, i) : i[0]; (u += 1) < e;)c = n[u].call(t, c); return c } } function m(n, t) { if (!a(t)) { (Bc(t) ? Hc : Vc)(s(n), t) } } function g(n) { return null != n && "object" === (void 0 === n ? "undefined" : Fc(n)) } function y(n) { return "string" == typeof n || !Bc(n) && g(n) && r(n) === Gc } function b(n) { if (!y(n)) return -1; for (var t = 0, e = n.length, r = 0; r < e; r += 1)t = (t << 5) - t + n.charCodeAt(r) & 4294967295; return t } function x(n) { return "number" == typeof n && n > -1 && n % 1 == 0 && n <= Kc } function E(n) { return null != n && x(n.length) && !o(n) } function w(n, t) { return Jc(function (n) { return t[n] }, n) } function C(n) { for (var t = 0, e = n.length, r = Array(e); t < e;)r[t] = n[t], t += 1; return r } function S(n) { return n.split("") } function O(n) { return a(n) ? [] : E(n) ? y(n) ? S(n) : C(n) : w(l(n), n) } function T(n) { if (null == n) return !0; if (E(n) && (Bc(n) || y(n) || o(n.splice))) return !n.length; for (var t in n) if (Xc.call(n, t)) return !1; return !0 } function k(n) { return a(n) ? "" : Qc.call(n) } function N(n) { return y(n) ? !k(n) : T(n) } function A(n) { return Object.getPrototypeOf(Object(n)) } function j(n) { if (!g(n) || r(n) !== na) return !1; var t = A(n); if (null === t) return !0; var e = ia.call(t, "constructor") && t.constructor; return "function" == typeof e && e instanceof e && ra.call(e) === oa } function D(n) { return g(n) && 1 === n.nodeType && !j(n) } function _(n) { return "number" == typeof n || g(n) && r(n) === ca } function R(n, t) { return a(t) ? [] : (Bc(t) ? Jc : aa)(s(n), t) } function P() { } function I() { return (new Date).getTime() } function M(n, t, e) { return a(e) ? t : (Bc(e) ? fa : sa)(s(n), t, e) } function q(n) { return null == n ? n : da.call(n) } function L(n, t) { return N(t) ? [] : t.split(n) } function U(n, t) { return n + Math.floor(Math.random() * (t - n + 1)) } function F() { var n = I(); return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function (t) { var e = (n + U(0, 16)) % 16 | 0; return n = Math.floor(n / 16), ("x" === t ? e : 3 & e | 8).toString(16) }) } function $(n) { return cd.test(n) } function B(n) { if ($(n)) return n; var t = q(L(".", n)), e = t.length; return e >= 3 && ad.test(t[1]) ? t[2] + "." + t[1] + "." + t[0] : 1 === e ? t[0] : t[1] + "." + t[0] } function H(n, t) { n.enabled && m(function (e) { a(t[e]) || (n[e] = t[e]) }, ld) } function V(n) { var t = n.documentMode; return !t || t >= 10 } function z(n) { var t = n.compatMode; return t && "CSS1Compat" === t } function Z(n, t, e) { var r = n.location.protocol === fd, i = ""; r || (i = B(n.location.hostname)), e[ml] = i, e[zs] = z(t) && V(t), H(e, n[td] || {}) } function G(n) { Z(ha, pa, n); var t = ha.location.protocol === fd; sd = qc({}, n), sd[rl] = n[rl] / 1e3, sd[il] = n[il] / 1e3, sd[hl] = "x-only" === sd[Js], sd[pl] = "disabled" !== sd[Js], sd[vl] = sd[sl] || t ? "https:" : "" } function K() { return sd } function J(n, t) { return t = { exports: {} }, n(t, t.exports), t.exports } function W(n) { try { return decodeURIComponent(n) } catch (t) { return n } } function X(n) { try { return encodeURIComponent(n) } catch (t) { return n } } function Y(n, t) { return Object.prototype.hasOwnProperty.call(n, t) } function Q(n) { if (Nd[n]) return Nd[n]; kd.href = n; var t = bd(kd.href); return t.queryKey = Td(t.query), Nd[n] = t, Nd[n] } function nn(n, t, e) { return { name: n, value: t, expires: e } } function tn(n) { var t = L("#", n); return T(t) || t.length < 3 ? null : isNaN(parseInt(t[2], 10)) ? null : nn(W(t[0]), W(t[1]), Number(t[2])) } function en(n) { return N(n) ? [] : L("|", n) } function rn() { var n = R(tn, en(md(Vs))), t = Math.ceil(I() / 1e3), e = function (n) { return i(n) && t <= n.expires }; return M(function (n, t) { return n[t.name] = t, n }, {}, d(e, n)) } function on(n) { var t = rn(), e = t[n]; return i(e) ? e.value : "" } function un(n) { return [X(n.name), X(n.value), n.expires].join("#") } function cn(n) { return n.expires } function an(n) { var t = R(cn, n); return Math.max.apply(null, t) } function fn(n, t) { var e = O(n), r = Math.abs(1e3 * an(e) - I()), i = R(un, e).join("|"), o = new Date(I() + r); gd(Vs, i, { domain: t, expires: o }) } function sn(n) { var t = n.name, e = n.value, r = n.expires, i = n.domain, o = rn(); o[t] = nn(t, e, Math.ceil(r + I() / 1e3)), fn(o, i) } function ln(n) { return ua(md(n)) } function dn(n, t) { var e = n.location, r = e.search, i = Td(r); return ua(i[t]) } function hn(n, t) { var e = n.referrer, r = Q(e), i = r.queryKey; return !a(i) && ua(i[t]) } function pn(n, t, e) { return ln(e) || dn(n, e) || hn(t, e) } function vn() { var n = K(), t = n[ml]; gd(af, ff, { domain: t }); var e = md(af) === ff; return yd(af), e } function mn() { return pn(ha, pa, uf) } function gn() { var n = K(), t = n[zs]; return n[hl] ? t && !mn() : t && vn() && !mn() } function yn() { return pn(ha, pa, of) } function bn() { return pn(ha, pa, cf) } function xn(n, t) { var e = n.console; return !a(e) && o(e[t]) } function En(n, t) { var e = n.console; xn(n, "warn") && e.warn.apply(e, [jd].concat(t)) } function wn(n, t) { var e = n.console; xn(n, "debug") && yn() && e.debug.apply(e, [jd].concat(t)) } function Cn() { for (var n = arguments.length, t = Array(n), e = 0; e < n; e++)t[e] = arguments[e]; En(ha, t) } function Sn() { for (var n = arguments.length, t = Array(n), e = 0; e < n; e++)t[e] = arguments[e]; wn(ha, t) } function On(n) { return M(function (t, e) { return t[e] = n[e], t }, {}, _d) } function Tn(n, t, e) { var r = n[nd] || []; if (e) { var i = r.push; r[Qs] = Dd, r[Xl] = On(t), r[Yl] = [], r[Ql] = [], r.push = function (n) { r[Ql].push(n), i.call(this, n) } } n[nd] = r } function kn(n, t, e, r) { if (t) { var i = {}; i[id] = I(), n[nd][e].push(qc(i, r)) } } function Nn() { Tn(ha, K(), yn()) } function An(n, t) { kn(ha, yn(), n, t) } function jn() { var n = {}; return n[Es] = !0, n } function Dn(n) { var t = {}; return t[Es] = !1, t[ys] = n, t } function _n(n) { return N(n) ? Dn(_f) : n.length > sf ? Dn(Rf) : jn() } function Rn(n) { if (!i(n)) return Dn(Df); var t = n[Cs], e = _n(t); return e[Es] ? o(n[ws]) ? o(n[ys]) ? jn() : Dn(If) : Dn(Pf) : e } function Pn(n) { if (!i(n)) return Dn(Df); var t = n[Cs], e = _n(t); if (!e[Es]) return e; var r = n[Ss]; return Bc(r) ? jn() : Dn(Mf) } function In(n) { if (!i(n)) return Dn(Df); var t = n[Cs], e = _n(t); return e[Es] ? jn() : e } function Mn(n, t) { if (!i(n)) return Dn(Df); var e = n[Os]; if (N(e)) return Dn(qf); var r = L(".", e); if (!T(d(function (n) { return !lf.test(n) }, r))) return Dn(Lf); var u = n[Ts]; return !Bc(u) || T(u) ? Dn(Uf) : T(d(function (n) { return a(t[n]) }, u)) ? o(n[ks]) ? jn() : Dn(Ff) : Dn($f) } function qn(n, t) { sn({ name: Hl, value: n, expires: t[il], domain: t[ml] }) } function Ln(n) { var t = K(); t[hl] || qn(n, t) } function Un() { var n = K(); return n[hl] ? Rd : (N(on(Hl)) && qn(Rd, n), on(Hl)) } function Fn(n) { var t = K(); t[hl] || sn({ name: $l, value: n, expires: t[rl], domain: t[ml] }) } function $n() { return K()[hl] ? "" : on($l) } function Bn(n) { var t = Pd.exec(n); return T(t) || 2 !== t.length ? "" : t[1] } function Hn() { if (!K()[cl]) return ""; var n = md(Bl); return N(n) ? "" : n } function Vn(n) { var t = K(); if (t[cl]) { var e = md(Bl); if (!ua(e)) { var r = Bn(n); if (!N(r)) { var i = new Date(I() + t[al]); gd(Bl, r, { domain: t[ml], expires: i }) } } } } function zn(n) { return n[va] === Xa } function Zn(n, t) { var e = n(), r = t(), i = {}; return i.sessionId = e, ua(r) ? (i.deviceId = r, i) : i } function Gn(n, t, e, r) { var i = new n.CustomEvent(e, { detail: r }); t.dispatchEvent(i) } function Kn(n) { return !T(n) && !T(d(zn, n)) } function Jn() { Gn(ha, pa, Id, { type: Id }) } function Wn(n) { var t = { type: Md, mbox: n.mbox, tracking: Zn(Un, $n) }; Gn(ha, pa, Md, t) } function Xn(n, t) { var e = n.responseTokens, r = { type: qd, mbox: n.mbox, redirect: Kn(t), tracking: Zn(Un, $n) }; T(e) || (r.responseTokens = e), Gn(ha, pa, qd, r) } function Yn(n) { Gn(ha, pa, Ld, { type: Ld, mbox: n.mbox, message: n.message, tracking: Zn(Un, $n) }) } function Qn(n) { var t = { type: Ud, mbox: n.mbox, tracking: Zn(Un, $n) }; Gn(ha, pa, Ud, t) } function nt(n) { Gn(ha, pa, Fd, { type: Fd, mbox: n.mbox, tracking: Zn(Un, $n) }) } function tt(n) { Gn(ha, pa, $d, { type: $d, mbox: n.mbox, message: n.message, actions: n.actions, tracking: Zn(Un, $n) }) } function et(n) { var t = { type: Bd, mbox: n.mbox, tracking: Zn(Un, $n) }; Gn(ha, pa, Bd, t) } function rt(n) { var t = { type: Hd, mbox: n.mbox, url: n.url, tracking: Zn(Un, $n) }; Gn(ha, pa, Hd, t) } function it(n) { return new zd(n) } function ot(n) { return zd.resolve(n) } function ut(n) { return zd.reject(n) } function ct(n) { return Bc(n) ? zd.race(n) : ut(new TypeError(Zd)) } function at(n) { return Bc(n) ? zd.all(n) : ut(new TypeError(Zd)) } function ft(n, t, e) { var r = -1; return ct([n, it(function (n, i) { r = u(function () { return i(new Error(e)) }, t) })]).then(function (n) { return c(r), n }, function (n) { throw c(r), n }) } function st(n) { throw new Error(n) } function lt(n) { var t = n[Yd] || Wd, e = n[Qd] || st(Jd), r = n[nh] || {}, i = n[th] || null, o = n[eh] || !1, u = n[rh] || 3e3, c = !!a(n[ih]) || !0 === n[ih], f = {}; return f[Yd] = t, f[Qd] = e, f[nh] = r, f[th] = i, f[eh] = o, f[rh] = u, f[ih] = c, f } function dt(n, t, e, r) { return n.onload = function () { var i = 1223 === n.status ? 204 : n.status; if (i < 100 || i > 599) return r[ys] = Gd, An(Yl, r), void e(new Error(Gd)); var o = n.responseText, u = n.getAllResponseHeaders(), c = { status: i, headers: u, response: o }; r[Rs] = c, An(Yl, r), t(c) }, n } function ht(n, t, e) { return n.onerror = function () { e[ys] = Gd, An(Yl, e), t(new Error(Gd)) }, n } function pt(n, t, e, r) { return n.timeout = t, n.ontimeout = function () { r[ys] = Kd, An(Yl, r), e(new Error(Kd)) }, n } function vt(n, t) { return !0 === t && (n.withCredentials = t), n } function mt(n, t) { return m(function (t, e) { m(function (t) { return n.setRequestHeader(e, t) }, t) }, t), n } function gt(n, t) { var e = {}, r = lt(t), i = r[Yd], o = r[Qd], u = r[nh], c = r[th], a = r[eh], f = r[rh], s = r[ih]; return e[Ps] = r, it(function (t, r) { var l = new n.XMLHttpRequest; l = dt(l, t, r, e), l = ht(l, r, e), l.open(i, o, s), l = vt(l, a), l = mt(l, u), s && (l = pt(l, f, r, e)), l.send(c) }) } function yt(n) { return gt(ha, n) } function bt(n, t) { var e = t.sessionId; return ua(e) && n(e), t } function xt(n, t) { var e = t.tntId; return ua(e) && n(e), t } function Et(n, t) { var e = t.tntId; return ua(e) && n(e), t } function wt(n, t) { n[nd].push(t) } function Ct(n, t) { var e = t.trace; return i(e) && wt(n, e), t } function St(n) { var t = n[ys]; if (ua(t)) { var e = {}; throw e[Ns] = ys, e[ys] = t, e } return n } function Ot(n) { var t = n.message; return N(t) ? ah : t } function Tt(n) { var t = n.duration; return _(t) ? t : ch } function kt(n, t, e) { var r = n[ml], i = Ot(e), o = new Date(I() + Tt(e)); t(oh, i, { domain: r, expires: o }) } function Nt(n, t, e) { var r = e.disabled; if (i(r)) { var o = {}; throw o[Ns] = uh, o[ys] = Ot(r), kt(n, t, r), o } return e } function At(n) { return ua(n[gf]) } function jt(n) { return i(n[mf]) || Bc(n[mf]) } function Dt(n) { return ua(n[Xa]) } function _t(n) { return Bc(n[js]) && !T(n[js]) } function Rt(n) { return i(n[Is]) && ua(n[Is][_a]) } function Pt(n) { return a(n[gf]) && a(n[Xa]) && a(n[js]) && a(n[Is]) } function It(n) { return ua(n[qs]) } function Mt(n) { return Bc(n[Ms]) && !T(n[Ms]) } function qt(n) { if (It(n)) { var t = {}; return t[va] = Qa, t[ya] = n[qs], [t] } return [] } function Lt(n) { return Mt(n) ? [n.html].concat(n.plugins) : [n.html] } function Ut(n) { var t = d(At, n); if (T(t)) return ot([]); var e = p(R(qt, n)), r = {}; return r[va] = Fa, r[ba] = p(R(Lt, t)).join(""), ot([r].concat(e)) } function Ft(n) { return n[mf] } function $t(n) { return M(function (n, t) { return n.push(Ft(t)), n }, [], n) } function Bt(n) { var t = d(jt, n); if (T(t)) return ot([]); var e = {}; return e[va] = Ba, e[ba] = $t(t), ot([e]) } function Ht(n, t) { return ot([n({ action: Xa, url: t[Xa] })]) } function Vt(n) { return { action: Ja, content: n } } function zt(n) { return Mt(n) ? R(Vt, n.plugins) : [] } function Zt(n) { var t = n[qa]; if (N(t)) return ""; var e = fh.exec(t); return T(e) || 2 !== e.length ? "" : e[1] } function Gt(n, t) { var e = document.createElement(Nf); e.innerHTML = t; var r = e.firstElementChild; return a(r) ? t : (r.id = n, r.outerHTML) } function Kt(n) { var t = n[ba], e = Zt(n); if (N(e) || N(t)) return n; var r = n[qa]; return n[qa] = r.replace(sh, ""), n[ba] = Gt(e, t), n } function Jt(n) { var t = n[ga]; return N(t) ? n : (n[ba] = "<" + kf + " " + xf + '="' + t + '" />', n) } function Wt(n) { var t = Kt(n); if (!y(t[ba])) return Sn(Jf, t), null; var e = n[xa]; return bf === e && (n[va] = $a), n } function Xt(n) { var t = Kt(n); return y(t[ba]) ? t : (Sn(Jf, t), null) } function Yt(n) { var t = Kt(n); return y(t[ba]) ? t : (Sn(Jf, t), null) } function Qt(n) { var t = Kt(n); return y(t[ba]) ? t : (Sn(Jf, t), null) } function ne(n) { var t = Kt(Jt(n)); return y(t[ba]) ? t : (Sn(Jf, t), null) } function te(n) { var t = Kt(Jt(n)); return y(t[ba]) ? t : (Sn(Jf, t), null) } function ee(n) { return y(n[ba]) ? n : (Sn(Jf, n), null) } function re(n) { var t = n[ma], e = n[ga]; return N(t) || N(e) ? (Sn(Wf, n), null) : n } function ie(n) { var t = n[Ia], e = n[ga]; if (N(t) || N(e)) return Sn(Xf, n), null; var r = {}; return r[t] = e, n[Ua] = r, n } function oe(n) { var t = n[Ea], e = n[wa]; if (N(t) || N(e)) return Sn(Yf, n), null; var r = {}; return r[Ca] = t, r[Sa] = e, n[va] = Va, n[Ua] = r, n } function ue(n) { var t = Number(n[Oa]), e = Number(n[Ta]); if (isNaN(t) || isNaN(e)) return Sn(Qf, n), null; var r = n[Aa], i = {}; return i[ka] = t, i[Na] = e, ua(r) && (i[Aa] = r), n[va] = Va, n[Ua] = i, n } function ce(n) { var t = Number(n[ja]), e = Number(n[Da]); return isNaN(t) || isNaN(e) ? (Sn(ns, n), null) : n } function ae(n, t) { return n(t) } function fe(n) { return N(n[ya]) ? (Sn(es, n), null) : n } function se(n, t) { switch (t[va]) { case Fa: return Wt(t); case Wa: return Xt(t); case ef: return Yt(t); case rf: return Qt(t); case nf: return ne(t); case tf: return te(t); case Ja: return ee(t); case Ha: return re(t); case Va: return ie(t); case Za: return oe(t); case Ga: return ue(t); case Ka: return t; case za: return ce(t); case Xa: return ae(n, t); case Ya: return fe(t); default: return null } } function le(n, t) { return d(function (n) { return !a(n) }, R(function (t) { return se(n, t) }, t)) } function de(n, t) { return ot([].concat(le(n, t.actions), zt(t))) } function he(n) { var t = n.queryKey, e = t[lh]; if (!y(e)) return t; if (N(e)) return t; var r = Math.round(I() / 1e3); return t[lh] = e.replace(/\|TS=\d+/, "|TS=" + r), t } function pe(n, t) { var e = Q(n), r = e.protocol, i = e.host, o = e.path, u = "" === e.port ? "" : ":" + e.port, c = N(e.anchor) ? "" : "#" + e.anchor, a = he(e), f = Ad(qc({}, a, t)); return r + "://" + i + u + o + (N(f) ? "" : "?" + f) + c } function ve(n) { var t = {}; return m(function (n) { a(t[n.type]) && (t[n.type] = {}), t[n.type][n.name] = n.defaultValue }, n[As]), t } function me(n) { return a(n[Ps]) ? {} : n[Ps] } function ge(n) { return -1 !== n.indexOf(Cs) } function ye(n) { var t = {}; return a(n[Cs]) ? t : (m(function (n, e) { ge(e) || (t[e] = n) }, n[Cs]), t) } function be(n, t) { m(function (e, r) { var i = t[r]; a(i) || (n[r] = i) }, n) } function xe(n, t, e, r) { return be(n, t), be(e, r), qc({}, n, e) } function Ee(n, t, e) { var r = {}; return r[Yd] = Wd, r[Qd] = pe(n, t), r[rh] = e, r } function we(n) { return n >= 200 && n < 300 || 304 === n } function Ce(n, t) { if (!we(n[Ns])) return []; var e = n[Rs]; if (N(e)) return []; var r = {}; return r[va] = Fa, r[ba] = e, [r].concat(qt(t), zt(t)) } function Se(n, t, e, r) { var i = r[Is], o = ve(i), u = me(o), c = ye(o), a = Td(n.location.search), f = e[As], s = i[Qd], l = xe(u, a, c, f), d = e[rh], h = function (n) { return Ce(n, r) }; return t(Ee(s, l, d)).then(h)['catch'](function () { return [] }) } function Oe(n) { return ot([].concat(qt(n), zt(n))) } function Te(n, t, e, r, i) { var o = []; return m(function (i) { return Dt(i) ? void o.push(Ht(e, i)) : _t(i) ? void o.push(de(e, i)) : Rt(i) ? void o.push(Se(n, t, r, i)) : void (Pt(i) && o.push(Oe(i))) }, i), o.concat(Ut(i), Bt(i)) } function ke(n) { var t = []; return m(function (n) { var e = n[Ds]; i(e) && t.push(e) }, n), t } function Ne(n, t) { m(function (n) { n.id = F() }, n); var e = {}; return e[js] = n, e[Ds] = t, e } function Ae(n, t, e, r, i) { var o = i[Ls]; if (!Bc(o)) return ot(Ne([], [])); var u = Te(n, t, e, r, o), c = ke(o), a = function (n) { return Ne(p(n), c) }; return at(u).then(a) } function je(n, t, e) { var r = e[_a]; if (N(r)) return Sn(ts, e), null; var i = String(e[Ra]) === hh, o = String(e[Pa]) === hh, u = {}; return i && (u = qc(u, Td(n.location.search))), o && (u[dh] = t()), e[_a] = pe(r, u), e } function De(n) { return !T(n) && 2 === n.length && ua(n[0]) } function _e(n) { var t = n.indexOf("="); return -1 === t ? [] : [n.substr(0, t), n.substr(t + 1)] } function Re(n, t, e, r) { m(function (n, o) { i(n) ? (t.push(o), Re(n, t, e, r), t.pop()) : T(t) ? e[r(o)] = n : e[r(t.concat(o).join("."))] = n }, n) } function Pe(n) { return d(function (n, t) { return ua(t) }, Td(n)) } function Ie(n) { var t = M(function (n, t) { return n.push(_e(t)), n }, [], d(ua, n)); return M(function (n, t) { return n[W(k(t[0]))] = W(k(t[1])), n }, {}, d(De, t)) } function Me(n, t) { var e = {}; return a(t) ? Re(n, [], e, f) : Re(n, [], e, t), e } function qe(n) { if (!o(n)) return {}; var t = null; try { t = n() } catch (n) { return {} } return a(t) ? {} : Bc(t) ? Ie(t) : y(t) && ua(t) ? Pe(t) : i(t) ? Me(t) : {} } function Le() { var n = ha.devicePixelRatio; if (!a(n)) return n; n = 1; var t = ha.screen, e = t.systemXDPI, r = t.logicalXDPI; return !a(e) && !a(r) && e > r && (n = e / r), n } function Ue() { var n = ha.screen, t = n.orientation, e = n.width, r = n.height; if (a(t)) return e > r ? "landscape" : "portrait"; if (a(t.type)) return null; var i = L("-", t.type); if (T(i)) return null; var o = i[0]; return a(o) ? null : o } function Fe() { return ph } function $e() { var n = ha.screen, t = pa.documentElement, e = {}; e[xl] = t.clientHeight, e[El] = t.clientWidth, e[wl] = -(new Date).getTimezoneOffset(), e[Cl] = n.height, e[Sl] = n.width, e[Tl] = n.colorDepth, e[kl] = Le(); var r = Ue(); a(r) || (e[Ol] = r); var i = Fe(); return a(i) || (e[Nl] = i), e } function Be() { return vh } function He() { var n = new Date; return n.getTime() - 6e4 * n.getTimezoneOffset() } function Ve() { var n = K(), t = ha.location, e = {}; return e[jl] = Un(), n[hl] || (e[Dl] = $n()), e[_l] = Be(), e[Rl] = F(), e[Pl] = n[Qs], e[Il] = mh, e[Ml] = He(), e[ql] = t.hostname, e[Ll] = t.href, e[Ul] = pa.referrer, n[pl] && (e[Fl] = n[Js]), mh += 1, e } function ze(n) { return qc({}, n, qe(ha.targetPageParamsAll)) } function Ze(n) { return qc({}, n, qe(ha.targetPageParams)) } function Ge(n) { var t = K(), e = t[Xs], r = t[gl], i = t[yl]; return e !== n ? ze(r || {}) : qc(ze(r || {}), Ze(i || {})) } function Ke(n, t) { var e = {}; e[Al] = n; var r = Ie(t), i = Ve(), o = $e(), u = Ge(n); return qc({}, e, r, i, o, u) } function Je() { var n = K(), t = n[Xs], e = {}; e[Al] = t; var r = Ve(), i = $e(), o = Ge(t); return qc({}, e, r, i, o) } function We(n, t, e) { if (N(t)) return null; if (a(n[gh])) return null; if (!o(n[gh][yh])) return null; var r = n[gh][yh](t, { sdidParamExpiry: e }); return i(r) && o(r[bh]) && r[bh]() ? r : null } function Xe(n) { return "" + $h + n } function Ye(n) { if (!o(n[Lh])) return {}; var t = n[Lh](); return i(t) ? Me(t, Xe) : {} } function Qe(n) { var t = {}; return ua(n[Uh]) && (t[Bh] = n[Uh]), ua(n[Fh]) && (t[Hh] = n[Fh]), t } function nr(n, t) { var e = {}; return o(n[qh]) ? (e[Mh] = n[qh](Cs + ":" + t), e) : {} } function tr(n, t) { if (a(n)) return {}; var e = Ye(n), r = Qe(n), i = nr(n, t); return qc({}, i, r, e) } function er(n) { var t = {}, e = n[jh], r = n[Ah], i = n[kh], o = n[Nh]; return ua(e) && (t[Ih] = e), ua(r) && (t[_h] = r), ua(i) && (t[Rh] = i), isNaN(parseInt(o, 10)) || (t[Ph] = o), t } function rr(n) { return M(function (n, t) { return qc(n, t) }, {}, n) } function ir(n, t, e) { return e && o(t[Oh]) && !a(n[gh][Th]) } function or(n, t) { var e = {}; return e[n] = t, e } function ur(n, t, e) { return ir(n, t, e) ? it(function (e) { t[Oh](function (n) { return e(or(Dh, n)) }, n[gh][Th].GLOBAL, !0) }) : ot(or(Dh, !1)) } function cr(n, t, e) { return o(n[t]) ? it(function (r) { n[t](function (n) { return r(or(e, n)) }, !0) }) : ot({}) } function ar(n, t, e) { return at([cr(t, Eh, jh), cr(t, wh, kh), cr(t, Ch, Ah), cr(t, Sh, Nh), ur(n, t, e)]).then(rr) } function fr(n) { return Sn(zh, n), {} } function sr(n, t, e, r) { return a(t) ? ot({}) : ft(ar(n, t, r), e, Vh)['catch'](fr) } function lr() { return { status: ys, error: xh } } function dr(n, t, e) { return a(n) ? ot({}) : !0 === e[Dh] ? ut(lr()) : ot(qc({}, t, er(e))) } function hr(n, t, e) { if (!ir(n, t, e)) return or(Dh, !1); var r = t[Oh](null, n[gh][Th].GLOBAL); return or(Dh, r) } function pr(n, t, e) { return o(n[t]) ? or(e, n[t]()) : {} } function vr(n, t, e) { return rr([pr(t, Eh, jh), pr(t, wh, kh), pr(t, Ch, Ah), pr(t, Sh, Nh), hr(n, t, e)]) } function mr(n, t, e) { return a(t) ? {} : vr(n, t, e) } function gr(n, t, e) { return a(n) ? {} : !0 === e[Dh] ? {} : qc({}, t, er(e)) } function yr() { var n = K(), t = n[Gs], e = n[ll]; return We(ha, t, e) } function br() { var n = yr(), t = K(), e = t[ul], r = t[fl]; return sr(ha, n, e, r) } function xr() { var n = yr(), t = K(), e = t[fl]; return mr(ha, n, e) } function Er(n) { var t = yr(), e = tr(t, n), r = function (n) { return dr(t, e, n) }; return br().then(r) } function wr(n) { var t = yr(); return gr(t, tr(t, n), xr()) } function Cr(n, t) { Zh[n] = t } function Sr(n) { return Zh[n] } function Or(n) { var t = n[td]; if (a(t)) return !1; var e = t[rd]; return !(!Bc(e) || T(e)) } function Tr(n) { var t = n[Os]; if (!y(t) || T(t)) return !1; var e = n[Qs]; if (!y(e) || T(e)) return !1; var r = n[Ws]; return !(!a(r) && !_(r)) && !!o(n[Us]) } function kr(n) { return it(function (t, e) { n(function (n, r) { if (!a(n)) return void e(n); t(r) }) }) } function Nr(n, t, e, r, i, o) { var u = {}; u[n] = t, u[e] = r, u[i] = o; var c = {}; return c[ed] = u, c } function Ar(n) { var t = n[Os], e = n[Qs], r = n[Ws] || Jh; return ft(kr(n[Us]), r, Kh).then(function (n) { var r = Nr(Os, t, Qs, e, As, n); return Sn(Gh, ws, r), An(Yl, r), n })['catch'](function (n) { var r = Nr(Os, t, Qs, e, ys, n); return Sn(Gh, ys, r), An(Yl, r), {} }) } function jr(n) { var t = M(function (n, t) { return qc(n, t) }, {}, n); return Cr(rd, t), t } function Dr(n) { return Or(n) ? at(R(Ar, d(Tr, n[td][rd]))).then(jr) : ot({}) } function _r() { var n = Sr(rd); return a(n) ? {} : n } function Rr() { return Dr(ha) } function Pr() { return _r(ha) } function Ir(n, t, e, r) { if (!r) return e; var i = n(); return N(i) ? e : e.replace(t, "" + Wh + i) } function Mr(n) { return Yh.replace(Xh, n) } function qr(n, t) { var e = n[Zs], r = n[Ks], i = n[cl]; return [n[vl], Qh, Ir(t, e, r, i), Mr(e)].join("") } function Lr(n, t, e, r) { var i = qc({}, r[As], e), o = {}; return o[Qd] = qr(n, t), o[th] = Ad(i), o[rh] = r[rh], o } function Ur(n) { return qc({}, n[0], n[1]) } function Fr(n, t) { var e = t[Cs], r = function (e) { return Lr(n, Hn, Ur(e), t) }; return at([Er(e), Rr()]).then(r) } function $r(n, t) { return Lr(n, Hn, Ur([wr(t[Cs]), Pr()]), t) } function Br(n) { return n >= 200 && n < 300 || 304 === n } function Hr(n) { var t = {}; return t[Ns] = ys, t[ys] = n, t } function Vr(n, t, e, r, i, o) { return v([function (n) { return bt(Ln, n) }, function (n) { return xt(Fn, n) }, function (n) { return Et(Vn, n) }, function (n) { return Ct(t, n) }, St, function (t) { return Nt(n, gd, t) }, function (n) { return Ae(t, e, r, i, n) }])(o) } function zr() { var n = {}; return n[od] = [ud], n } function Zr(n, t) { var e = n[hl], r = n[bl], i = t[Qd], o = t[th], u = i + "?" + o, c = {}; return c[eh] = !0, c[Yd] = Wd, c[rh] = t[rh], c[Qd] = u, e ? c : u.length > r ? (c[Yd] = Xd, c[Qd] = i, c[nh] = zr(), c[th] = o, c) : c } function Gr(n) { if (!Br(n[Ns])) return Hr(gs); try { return JSON.parse(n[Rs]) } catch (n) { return Hr(n.message || np) } } function Kr(n, t, e, r) { var i = function (n) { return Zr(t, n) }, o = function (t) { return je(n, Un, t) }, u = function (i) { return Vr(t, n, e, o, r, Gr(i)) }; return Fr(t, r).then(i).then(e).then(u) } function Jr(n) { var t = K(); return Kr(ha, t, yt, n) } function Wr(n) { return $r(K(), n) } function Xr(n, t) { var e = t[Ws]; return _(e) ? e <= 0 ? n[Ws] : e : n[Ws] } function Yr(n) { return i(n) && ua(n[ys]) ? n[ys] : i(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function Qr(n, t) { var e = t[Cs], r = i(t[As]) ? t[As] : {}, o = {}; return o[Cs] = e, o[As] = qc({}, Ke(e), r), o[Ws] = Xr(n, t), o } function ni(n, t, e) { var r = e[js], i = {}; i[Cs] = t[Cs], i[Ds] = e[Ds], Sn(tp, Vf, r), t[ws](r), n(i, r) } function ti(n, t, e) { var r = e[Ns] || xs, i = Yr(e), o = {}; o[Cs] = t[Cs], o[_s] = i, Cn(tp, zf, e), t[ys](r, i), n(o) } function ei(n, t, e, r, i, o, c, a) { var f = t(a), s = f[ys]; if (!f[Es]) return void Cn(tp, s); if (!n()) return u(a[ys](bs, Af)), void Cn(Af); var l = {}; l[Cs] = a[Cs]; var d = function (n) { return ni(i, a, n) }, h = function (n) { return ti(o, a, n) }; r(l), e(Qr(c, a)).then(d)['catch'](h) } function ri(n) { ei(gn, Rn, Jr, Wn, Xn, Yn, K(), n) } function ii(n) { var t = n.charAt(0), e = n.charAt(1), r = n.charAt(2), i = { key: n }; return i.val = "-" === e ? "" + t + e + "\\3" + r + " " : t + "\\3" + e + " ", i } function oi(n) { var t = n.match(up); if (T(t)) return n; var e = R(ii, t); return M(function (n, t) { return n.replace(t.key, t.val) }, n, e) } function ui(n) { for (var t = [], e = k(n), r = e.indexOf(rp), i = void 0, o = void 0, u = void 0, c = void 0; -1 !== r;)i = k(e.substring(0, r)), o = k(e.substring(r)), c = o.indexOf(ip), u = k(o.substring(op, c)), e = k(o.substring(c + 1)), r = e.indexOf(rp), i && u && t.push({ sel: i, eq: Number(u) }); return e && t.push({ sel: e }), t } function ci(n) { if (D(n)) return ep(n); if (!y(n)) return ep(n); var t = oi(n); if (-1 === t.indexOf(rp)) return ep(t); var e = ui(t); return M(function (n, t) { var e = t.sel, r = t.eq; return n = n.find(e), _(r) && (n = n.eq(r)), n }, ep(pa), e) } function ai(n) { return ci(n).length > 0 } function fi(n) { return ep("<" + Nf + "/>").append(n) } function si(n) { return ep(n) } function li(n) { return ci(n).prev() } function di(n) { return ci(n).next() } function hi(n) { return ci(n).parent() } function pi(n, t) { return ci(t).is(n) } function vi(n, t) { return ci(t).find(n) } function mi(n) { return ci(n).children() } function gi(n, t, e) { return ci(e).on(n, t) } function yi(n) { return i(n) && ua(n[ys]) ? n[ys] : i(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function bi(n) { return function () { Sn(os, n), n[ws]() } } function xi(n) { return function (t) { var e = t[Ns] || xs, r = yi(t); Cn(us, n, t), n[ys](e, r) } } function Ei(n, t) { var e = t[Cs], r = qc({}, t), u = i(t[As]) ? t[As] : {}, c = n[Ws], a = t[Ws]; return r[As] = qc({}, Ke(e), u), r[Ws] = _(a) && a >= 0 ? a : c, r[ws] = o(t[ws]) ? t[ws] : P, r[ys] = o(t[ys]) ? t[ys] : P, r } function wi(n, t) { var e = bi(t), r = xi(t); n(t).then(e)['catch'](r) } function Ci(n, t) { return wi(n, t), !t.preventDefault } function Si(n, t, e) { var r = e[qa], i = e[Cf], o = O(ci(r)), u = function () { return Ci(n, e) }; m(function (n) { return t(i, u, n) }, o) } function Oi(n) { var t = n[Cf], e = n[qa]; return ua(t) && (ua(e) || D(e)) } function Ti(n, t, e, r, i, o, u) { if (!r()) return void Cn(Af); var c = In(u), a = c[ys]; if (!c[Es]) return void Cn(cp, a); var f = Ei(n, u); if (Oi(f)) return void i(t, e, f); o(t, f) } function ki() { var n = {}; return n[od] = [ud], n } function Ni(n, t) { var e = t[Qd], r = t[th], i = e + "?" + r; return it(function (t, e) { if (n[ap][fp](i)) return void t(); e(sp) }) } function Ai(n) { var t = n[Qd], e = n[th], r = {}; return r[Yd] = Xd, r[Qd] = t + "?" + e, r[eh] = !0, r[ih] = !1, r[nh] = ki(), yt(r) } function ji(n) { return ap in n && fp in n[ap] } function Di(n, t) { var e = Wr(t); return ji(n) ? Ni(n, e) : Ai(e) } function _i(n) { Ti(K(), function (n) { return Di(ha, n) }, gi, gn, Si, wi, n) } function Ri(n) { return ci(n).empty().remove() } function Pi(n, t) { return ci(t).after(n) } function Ii(n, t) { return ci(t).before(n) } function Mi(n, t) { return ci(t).append(n) } function qi(n, t) { return ci(t).prepend(n) } function Li(n, t) { return ci(t).html(n) } function Ui(n) { return ci(n).html() } function Fi(n, t) { return ci(t).text(n) } function $i(n, t) { return ci(t).attr(n) } function Bi(n, t, e) { return ci(e).attr(n, t) } function Hi(n, t) { return ci(t).removeAttr(n) } function Vi(n, t, e) { var r = $i(n, e); ua(r) && (Hi(n, e), Bi(t, r, e)) } function zi(n, t) { return ua($i(n, t)) } function Zi(n) { var t = {}; t[va] = n, An(Yl, t) } function Gi(n, t) { var e = {}; e[va] = n, e[ys] = t, An(Yl, e) } function Ki(n) { return $i(df, n) } function Ji(n) { return zi(df, n) } function Wi(n) { return m(function (n) { return Vi(xf, df, n) }, O(vi(kf, n))), n } function Xi(n) { return m(function (n) { return Vi(df, xf, n) }, O(vi(kf, n))), n } function Yi(n) { return Sn(is, n), $i(xf, Bi(xf, n, si("<" + kf + "/>"))) } function Qi(n) { var t = d(Ji, O(vi(kf, n))); return T(t) ? n : (m(Yi, R(Ki, t)), n) } function no(n) { return v([Wi, Qi, Xi])(n) } function to(n) { var t = $i(xf, n); return ua(t) ? t : null } function eo(n) { return d(ua, R(to, O(vi(yf, n)))) } function ro(n) { return M(function (n, t) { return n.then(function () { return Sn(ms, t), hp(t) }) }, ot(), n) } function io(n) { return Zi(n), n } function oo(n, t) { return Sn(Hf, t), Gi(n, t), n } function uo(n, t) { var e = ci(t[qa]), r = no(fi(t[ba])), i = eo(r), o = void 0; try { o = ot(n(e, r)) } catch (n) { return ut(oo(t, n)) } return T(i) ? o.then(function () { return io(t) })['catch'](function (n) { return oo(t, n) }) : o.then(function () { return ro(i) }).then(function () { return io(t) })['catch'](function (n) { return oo(t, n) }) } function co(n, t) { return Li(Ui(t), n) } function ao(n) { return Sn(Kf, n), uo(co, n) } function fo(n) { var t = ci(n[qa]), e = n[ba]; return Sn(Kf, n), Zi(n), Fi(e, t), ot(n) } function so(n, t) { return Mi(Ui(t), n) } function lo(n) { return Sn(Kf, n), uo(so, n) } function ho(n, t) { return qi(Ui(t), n) } function po(n) { return Sn(Kf, n), uo(ho, n) } function vo(n, t) { var e = hi(n); return Ri(Ii(Ui(t), n)), e } function mo(n) { return Sn(Kf, n), uo(vo, n) } function go(n, t) { return li(Ii(Ui(t), n)) } function yo(n) { return Sn(Kf, n), uo(go, n) } function bo(n, t) { return di(Pi(Ui(t), n)) } function xo(n) { return Sn(Kf, n), uo(bo, n) } function Eo(n, t) { return hi(Ii(Ui(t), n)) } function wo(n) { return Sn(Kf, n), uo(Eo, n) } function Co(n, t) { return xf === t && pi(kf, n) } function So(n, t) { Hi(xf, n), Bi(xf, Yi(t), n) } function Oo(n) { var t = n[ma], e = n[ga], r = ci(n[qa]); return Sn(Kf, n), Zi(n), Co(r, t) ? So(r, e) : Bi(t, e, r), ot(n) } function To(n, t) { return ci(t).addClass(n) } function ko(n, t) { return ci(t).removeClass(n) } function No(n, t) { return ci(t).hasClass(n) } function Ao(n, t) { return ci(t).css(n) } function jo(n, t, e) { m(function (n) { m(function (t, r) { return n.style.setProperty(r, t, e) }, t) }, O(n)) } function Do(n) { var t = ci(n[qa]), e = n[Ma]; return Sn(Kf, n), Zi(n), N(e) ? Ao(n[Ua], t) : jo(t, n[Ua], e), ot(n) } function _o(n) { var t = ci(n[qa]); return Sn(Kf, n), Zi(n), Ri(t), ot(n) } function Ro(n) { var t = n[ja], e = n[Da], r = ci(n[qa]), i = O(mi(r)), o = i[t], u = i[e]; return ai(o) && ai(u) ? (Sn(Kf, n), Zi(n), t < e ? Pi(o, u) : Ii(o, u), ot(n)) : (Sn(rs, n), Gi(n, rs), ot(n)) } function Po(n, t) { return Sn(Kf, t), Zi(t), n(pp, t), ot(t) } function Io(n, t) { return Sn(Kf, t), Zi(t), n(vp, t), ot(t) } function Mo(n) { var t = fi(n); return M(function (n, t) { return n.push(Ui(fi(t))), n }, [], O(vi(mp, t))).join("") } function qo(n) { var t = qc({}, n), e = t[ba]; if (N(e)) return t; var r = ci(t[qa]); return pi(Of, r) ? (t[va] = Wa, t[ba] = Mo(e), t) : t } function Lo(n, t) { var e = t[_a]; Sn(Kf, t), n.location.replace(e) } function Uo(n, t) { var e = qo(t); switch (e[va]) { case Fa: return ao(e); case $a: return fo(e); case Wa: return lo(e); case ef: return po(e); case rf: return mo(e); case nf: return yo(e); case tf: return xo(e); case Ja: return wo(e); case Ha: return Oo(e); case Va: return Do(e); case Ka: return _o(e); case za: return Ro(e); case Ya: return Po(n, e); case Qa: return Io(n, e); default: return ot(e) } } function Fo() { } function $o(n, t, e) { n.emit(t, e) } function Bo(n, t, e) { n.on(t, e) } function Ho(n, t, e) { n.once(t, e) } function Vo(n, t) { n.off(t) } function zo(n, t) { $o(yp, n, t) } function Zo(n, t) { Bo(yp, n, t) } function Go(n, t) { Ho(yp, n, t) } function Ko(n) { Vo(yp, n) } function Jo(n, t) { return "<" + Tf + " " + Ef + '="' + n + '" ' + wf + '="' + $s + '">' + t + "</" + Tf + ">" } function Wo(n, t) { return Jo(bp + b(t), t + " {" + n + "}") } function Xo(n) { if (!0 === n[el] && !ai(Ep)) { var t = n[tl]; Mi(Jo(xp, t), Of) } } function Yo(n) { !0 === n[el] && ai(Ep) && Ri(Tf + "[" + Ef + '="' + xp + '"]') } function Qo(n, t) { if (!T(t)) { var e = n[nl]; Mi(R(function (n) { return Wo(e, n) }, t).join("\n"), Of) } } function nu(n) { var t = "\n." + Fs + " {" + n[nl] + "}\n"; Mi(Jo(wp, t), Of) } function tu() { Xo(K()) } function eu() { Yo(K()) } function ru(n) { Qo(K(), n) } function iu(n) { Ri("#" + (bp + b(n))) } function ou() { nu(K()) } function uu(n, t) { for (var e = 0, r = -1, i = n.length; e < i;) { if (n[e].id === t.id) { r = e; break } e += 1 } -1 !== r && n.splice(r, 1) } function cu(n, t) { return Cp[n] = Cp[n] || {}, Cp[n][t] || [] } function au(n, t, e) { Cp[n] = Cp[n] || {}, Cp[n][t] = e } function fu(n) { delete Cp[n] } function su(n, t, e) { Cp[n] = Cp[n] || {}, Cp[n][t] = Cp[n][t] || [], Cp[n][t].push(e) } function lu(n, t, e) { Cp[n] = Cp[n] || {}, Cp[n][t] = Cp[n][t] || [], uu(Cp[n][t], e) } function du() { m(function (n) { return n() }, Ap) } function hu() { a(jp) && (jp = new Np(du), jp.observe(pa, kp)) } function pu() { return !a(Np) } function vu(n, t) { Ap[n] = t, t(), hu() } function mu(n) { delete Ap[n], a(jp) || T(Ap) && (jp.disconnect(), jp = null) } function gu(n) { if (pa[_p] === Rp) return void ha.requestAnimationFrame(n); u(n, Dp) } function yu() { if (!T(Pp)) { gu(function () { m(function (n) { return n() }, Pp), yu() }) } } function bu(n, t) { Pp[n] = t, t(), yu() } function xu(n) { delete Pp[n] } function Eu(n, t) { if (pu()) return void vu(n, t); bu(n, t) } function wu(n) { if (pu()) return void mu(n); xu(n) } function Cu(n) { ru(d(ua, R(function (n) { return n[La] }, n))) } function Su(n) { To(Bs, ko(Fs, n)) } function Ou(n) { var t = n[qa], e = n[La]; (ua(t) || D(t)) && (Ip(n) ? To(Hs, ko(Fs, t)) : Su(t)), ua(e) && iu(e) } function Tu(n) { m(Ou, n) } function ku(n, t, e) { var r = cu(n, Sp), i = cu(n, Op), o = r.concat(i); if (fu(n), !T(o)) return Tu(o), void e(o); t() } function Nu(n) { var t = cu(n, Sp), e = cu(n, Tp); return T(t) && T(e) } function Au(n, t, e) { var r = zl + "-" + n; Uo(t, e).then(function () { Sn(Gf, e), Ou(e), lu(n, Tp, e), Nu(n) && zo(r) })['catch'](function (t) { Sn(Hf, t), Ou(e), lu(n, Tp, e), su(n, Op, e), Nu(n) && zo(r) }) } function ju(n, t) { u(function () { return zo(Zl + "-" + n) }, t) } function Du(n, t, e, r) { var i = Vl + "-" + n, o = Zl + "-" + n, u = zl + "-" + n; Zo(i, function () { if (Nu(n)) return void zo(u); var e = cu(n, Sp), r = []; m(function (e) { if (ai(e[qa])) return su(n, Tp, e), void Au(n, t, e); r.push(e) }, e), au(n, Sp, r) }), Go(u, function () { wu(n), Ko(i), Ko(o), ku(n, e, r) }), Go(o, function () { wu(n), Ko(i), Ko(u), ku(n, e, r) }), Eu(n, function () { return zo(i) }) } function _u(n, t, e) { var r = K(), i = r[ol], o = F(); return ju(o, i), Cu(e), n(), au(o, Sp, e), it(function (n, e) { return Du(o, t, n, e) }) } function Ru(n) { Lo(ha, n) } function Pu(n, t, e) { return _u(n, t, e) } function Iu(n, t, e) { var r = {}; r[t] = e[ya]; var i = {}; return i[Cs] = n + pf, i[Cf] = Sf, i[qa] = e[qa], i[As] = r, i } function Mu(n) { return ua(n) ? n : D(n) ? n : Of } function qu(n) { To(Bs, ko(Fs, n)) } function Lu(n, t) { a(t[qa]) && (t[qa] = n) } function Uu(n, t) { m(function (t) { return Lu(n, t) }, t) } function Fu(n, t) { var e = {}; return e[Cs] = n, e[_s] = Bf, e[js] = t, e } function $u(n) { var t = {}; return t[ys] = n, t } function Bu(n, t) { var e = Fu(n, t), r = $u(e); Cn(Bf, t), An(Yl, r), tt(e) } function Hu(n) { var t = {}; t[Cs] = n, Sn(Zf), nt(t) } function Vu(n) { return R(function (n) { return qc({}, n) }, n) } function zu(n) { var t = n[Cs], e = Mu(n[qa]), r = Pn(n), i = r[ys]; if (!r[Es]) return Cn(Mp, i), void qu(e); if (!gn()) return Cn(Af), void qu(e); var o = n[Ss], u = {}; if (u[Cs] = t, T(o)) return Sn(Mp, ls), qu(e), zo(Gl, t), void et(u); var c = h(d(qp, o)); if (!a(c)) return u[_a] = c[_a], Sn(Mp, ds), rt(u), void Ru(c); var f = function (n, e) { return _i(Iu(t, n, e)) }, s = function () { return zo(Kl, t) }, l = Vu(o); Uu(e, l), Qn(u), Pu(s, f, l).then(function () { return Hu(t) })['catch'](function (n) { return Bu(t, n) }) }
    function Zu() { return { log: Sn, error: Cn } } function Gu(n) { var t = {}; return t[Zs] = n[Zs], t[Ks] = n[Ks], t[Ws] = n[Ws], t[Xs] = n[Xs], t[Ys] = n[Ys], t } function Ku(n, t, e) { for (var r = L(".", t), i = r.length, o = 0; o < i - 1; o += 1) { var u = r[o]; n[u] = n[u] || {}, n = n[u] } n[r[i - 1]] = e } function Ju(n, t, e, r) { var i = { logger: Zu(), settings: Gu(t) }, o = e(r, i), u = o[ys]; if (!o[Es]) throw new Error(u); var c = n[Lp][Up]; c[Fp] = c[Fp] || {}; var a = r[Os], f = r[Ts], s = r[ks], l = M(function (n, t) { return n.push(i[t]), n }, [], f); Ku(c[Fp], a, s.apply(void 0, l)) } function Wu(n) { Ju(ha, K(), Mn, n) } function Xu(n) { return i(n) && ua(n[ys]) ? n[ys] : !a(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function Yu(n, t) { return To("" + vf + t, Bi(hf, t, n)) } function Qu(n, t, e) { var r = e[js], i = {}; i[Cs] = n, i[Ds] = e[Ds]; var o = {}; o[Cs] = n, o[qa] = t, o[Ss] = r, Sn(as, n), Xn(i, r), zu(o) } function nc(n, t, e) { var r = Xu(e), i = {}; i[Cs] = n, i[_s] = r, Cn(fs, n, e), Yn(i), To(Bs, ko(Fs, t)) } function tc(n, t) { return [].slice.call(n, t) } function ec(n) { return Cs + ":" + n } function rc(n, t) { var e = Sr(n); a(e) ? Cr(ec(n), [t]) : (e.push(t), Cr(ec(n), e)) } function ic(n) { return Sr(ec(n)) } function oc(n, t, e) { var r = K(), i = {}; i[Cs] = n, i[As] = t, i[Ws] = r[Ws]; var o = {}; o[Cs] = n; var u = function (t) { return Qu(n, e, t) }, c = function (t) { return nc(n, e, t) }; Wn(o), Jr(i).then(u)['catch'](c) } function uc(n, t) { if (!D(n)) return Cn(Bp, ps, hs, t), ci(Of); if (pi(Of, hi(n))) return Sn(Bp, vs, t), ci(Of); var e = li(n); return pi(Nf, e) && No(Fs, e) ? e : (Sn(Bp, cs, hs, t), ci(Of)) } function cc(n, t, e) { if (!gn() && !bn()) return void Cn(Af); var r = _n(t), i = r[ys]; if (!r[Es]) return void Cn(Bp, i); var o = uc(n, t), u = Ke(t, e), c = {}; c[Cs] = t, c[As] = u, c[qa] = Yu(o, t), Sn(Bp, t, u, o), rc(t, c), gn() && oc(t, u, o) } function ac(n, t) { var e = ci("#" + n); return ai(e) ? e : (Sn(Hp, cs, hs, t), ci(Of)) } function fc(n, t, e) { if (!gn() && !bn()) return void Cn(Af); if (N(n)) return void Cn(Hp, ss); var r = _n(t), i = r[ys]; if (!r[Es]) return void Cn(Hp, i); var o = ac(n, t), u = Ke(t, e), c = {}; c[Cs] = t, c[As] = u, c[qa] = Yu(o, t), Sn(Hp, t, u, o), rc(t, c) } function sc(n, t) { if (!gn()) return void Cn(Af); var e = _n(n), r = e[ys]; if (!e[Es]) return void Cn(Vp, r); var i = Ie(t); i[_l] = F(); var o = ic(n); Sn(Vp, o), m(function (n) { var t = n[Cs], e = n[As], r = n[qa]; oc(t, qc({}, e, i), r) }, o) } function lc(n) { var t = tc(arguments, 1); $p.skipStackDepth = 2, cc($p(), n, t) } function dc(n, t) { fc(n, t, tc(arguments, 2)) } function hc(n) { sc(n, tc(arguments, 1)) } function pc(n) { n[Gp] = n[Gp] || {}, n[Gp].querySelectorAll = ci } function vc(n, t) { t.addEventListener(Sf, function (t) { o(n[Gp][Kp]) && n[Gp][Kp](t) }, !0) } function mc(n, t, e) { if (bn()) { pc(n); var r = e[dl], i = function () { return vc(n, t) }, o = function () { return Cn(zp) }; Sn(Zp), hp(r).then(i)['catch'](o) } } function gc(n) { return i(n) && ua(n[ys]) ? n[ys] : !a(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function yc(n, t, e) { var r = e[js], i = {}; i[Cs] = n, i[Ds] = e[Ds]; var o = {}; o[Cs] = n, o[qa] = t, o[Ss] = r, Sn(as, n), Xn(i, r), zu(o) } function bc(n, t) { var e = {}; e[Cs] = n, e[_s] = gc(t), Cn(fs, n, t), Yn(e), zo(Wl, n) } function xc() { var n = K(), t = n[Xs], e = {}; e[Cs] = t, e[As] = Je(), e[Ws] = n[Ws]; var r = function (n) { return yc(t, Of, n) }, i = function (n) { return bc(t, n) }; Sn(as, t); var o = {}; o[Cs] = t, Wn(o), Jr(e).then(r)['catch'](i) } function Ec() { Go(Jl, tu) } function wc(n, t) { Zo(n, function (e) { e === t && (eu(), Ko(n)) }) } function Cc(n) { if (!n[Ys]) return void Sn(Jp, Wp); var t = n[Xs], e = _n(t), r = e[ys]; if (!e[Es]) return void Cn(Jp, r); Ec(), wc(Wl, t), wc(Gl, t), wc(Kl, t), xc() } function Sc(n) { var t = function () { }; n.adobe = n.adobe || {}, n.adobe.target = { VERSION: "", event: {}, getOffer: t, applyOffer: t, trackEvent: t, registerExtension: t, init: t }, n.mboxCreate = t, n.mboxDefine = t, n.mboxUpdate = t } function Oc(n, t, e) { if (n.adobe && n.adobe.target && void 0 !== n.adobe.target.getOffer) return void Cn(jf); G(e); var r = K(), i = r[Qs]; if (n.adobe.target.VERSION = i, n.adobe.target.event = { LIBRARY_LOADED: Id, REQUEST_START: Md, REQUEST_SUCCEEDED: qd, REQUEST_FAILED: Ld, CONTENT_RENDERING_START: Ud, CONTENT_RENDERING_SUCCEEDED: Fd, CONTENT_RENDERING_FAILED: $d, CONTENT_RENDERING_NO_OFFERS: Bd, CONTENT_RENDERING_REDIRECT: Hd }, !r[zs]) return Sc(n), void Cn(Af); mc(n, t, r), gn() && (ou(), Nn(), Cc(r)), n.adobe.target.getOffer = ri, n.adobe.target.trackEvent = _i, n.adobe.target.applyOffer = zu, n.adobe.target.registerExtension = Wu, n.mboxCreate = lc, n.mboxDefine = dc, n.mboxUpdate = hc, zo(Jl), Jn() } var Tc, kc = window, Nc = document, Ac = !Nc.documentMode || Nc.documentMode >= 10, jc = Nc.compatMode && "CSS1Compat" === Nc.compatMode, Dc = jc && Ac, _c = kc.targetGlobalSettings; if (!Dc || _c && !1 === _c.enabled) return kc.adobe = kc.adobe || {}, kc.adobe.target = { VERSION: "", event: {}, getOffer: n, applyOffer: n, trackEvent: n, registerExtension: n, init: n }, kc.mboxCreate = n, kc.mboxDefine = n, kc.mboxUpdate = n, "console" in kc && "warn" in kc.console && kc.console.warn("AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode."), kc.adobe.target;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
    var Rc = Object.getOwnPropertySymbols, Pc = Object.prototype.hasOwnProperty, Ic = Object.prototype.propertyIsEnumerable, Mc = function () { try { if (!Object.assign) return !1; var n = new String("abc"); if (n[5] = "de", "5" === Object.getOwnPropertyNames(n)[0]) return !1; for (var t = {}, e = 0; e < 10; e++)t["_" + String.fromCharCode(e)] = e; if ("0123456789" !== Object.getOwnPropertyNames(t).map(function (n) { return t[n] }).join("")) return !1; var r = {}; return "abcdefghijklmnopqrst".split("").forEach(function (n) { r[n] = n }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("") } catch (n) { return !1 } }() ? Object.assign : function (n, e) { for (var r, i, o = t(n), u = 1; u < arguments.length; u++) { r = Object(arguments[u]); for (var c in r) Pc.call(r, c) && (o[c] = r[c]); if (Rc) { i = Rc(r); for (var a = 0; a < i.length; a++)Ic.call(r, i[a]) && (o[i[a]] = r[i[a]]) } } return o }, qc = Mc, Lc = Object.prototype, Uc = Lc.toString, Fc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) { return typeof n } : function (n) { return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n }, $c = "[object Function]", Bc = Array.isArray, Hc = function (n, t) { return t.forEach(n) }, Vc = function (n, t) { Hc(function (e) { return n(t[e], e) }, l(t)) }, zc = function (n, t) { return t.filter(n) }, Zc = function (n, t) { var e = {}; return Vc(function (t, r) { n(t, r) && (e[r] = t) }, t), e }, Gc = "[object String]", Kc = 9007199254740991, Jc = function (n, t) { return t.map(n) }, Wc = Object.prototype, Xc = Wc.hasOwnProperty, Yc = String.prototype, Qc = Yc.trim, na = "[object Object]", ta = Function.prototype, ea = Object.prototype, ra = ta.toString, ia = ea.hasOwnProperty, oa = ra.call(Object), ua = function (n) { return !N(n) }, ca = "[object Number]", aa = function (n, t) { var e = {}; return Vc(function (t, r) { e[r] = n(t, r) }, t), e }, fa = function (n, t, e) { return e.reduce(n, t) }, sa = function (n, t, e) { var r = t; return Vc(function (t, e) { r = n(r, t, e) }, e), r }, la = Array.prototype, da = la.reverse, ha = window, pa = document, va = "action", ma = "attribute", ga = "value", ya = "clickTrackId", ba = "content", xa = "contentType", Ea = "finalHeight", wa = "finalWidth", Ca = "height", Sa = "width", Oa = "finalLeftPosition", Ta = "finalTopPosition", ka = "left", Na = "top", Aa = "position", ja = "from", Da = "to", _a = "url", Ra = "includeAllUrlParameters", Pa = "passMboxSession", Ia = "property", Ma = "priority", qa = "selector", La = "cssSelector", Ua = "style", Fa = "setContent", $a = "setText", Ba = "setJson", Ha = "setAttribute", Va = "setStyle", za = "rearrange", Za = "resize", Ga = "move", Ka = "remove", Ja = "customCode", Wa = "appendContent", Xa = "redirect", Ya = "trackClick", Qa = "signalClick", nf = "insertBefore", tf = "insertAfter", ef = "prependContent", rf = "replaceContent", of = "mboxDebug", uf = "mboxDisable", cf = "mboxEdit", af = "check", ff = "true", sf = 250, lf = /^[a-zA-Z]+$/, df = "data-at-src", hf = "data-at-mbox-name", pf = "-clicked", vf = "mbox-name-", mf = "json", gf = "html", yf = "script", bf = "text", xf = "src", Ef = "id", wf = "class", Cf = "type", Sf = "click", Of = "head", Tf = "style", kf = "img", Nf = "div", Af = 'Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.', jf = "Adobe Target has already been initialized.", Df = "options argument is required", _f = "mbox option is required", Rf = "mbox option is too long", Pf = "success option is required", If = "error option is required", Mf = "offer option is required", qf = "name option is required", Lf = "name is invalid", Uf = "modules option is required", Ff = "register option is required", $f = "modules do not exists", Bf = "Failed actions", Hf = "Unexpected error", Vf = "actions to be rendered", zf = "request failed", Zf = "All actions rendered successfully", Gf = "Action rendered successfully", Kf = "Rendering action", Jf = "Action has no content", Wf = "Action has no attribute or value", Xf = "Action has no property or value", Yf = "Action has no height or width", Qf = "Action has no left, top or position", ns = "Action has no from or to", ts = "Action has no url", es = "Action has no click track ID", rs = "Rearrange elements are missing", is = "Loading image", os = "Track event request succeeded", us = "Track event request failed", cs = "Mbox container not found", as = "Rendering mbox", fs = "Rendering mbox failed", ss = "ID is missing", ls = "No actions to be rendered", ds = "Redirect action", hs = "default to HEAD", ps = "document.currentScript is missing or not supported", vs = "executing from HTML HEAD", ms = "Script load", gs = "unknown error", ys = "error", bs = "warning", xs = "unknown", Es = "valid", ws = "success", Cs = "mbox", Ss = "offer", Os = "name", Ts = "modules", ks = "register", Ns = "status", As = "params", js = "actions", Ds = "responseTokens", _s = "message", Rs = "response", Ps = "request", Is = "dynamic", Ms = "plugins", qs = "clickToken", Ls = "offers", Us = "provider", Fs = "mboxDefault", $s = "at-flicker-control", Bs = "at-element-marker", Hs = "at-element-click-tracking", Vs = Cs, zs = "enabled", Zs = "clientCode", Gs = "imsOrgId", Ks = "serverDomain", Js = "crossDomain", Ws = "timeout", Xs = "globalMboxName", Ys = "globalMboxAutoCreate", Qs = "version", nl = "defaultContentHiddenStyle", tl = "bodyHiddenStyle", el = "bodyHidingEnabled", rl = "deviceIdLifetime", il = "sessionIdLifetime", ol = "selectorsPollingTimeout", ul = "visitorApiTimeout", cl = "overrideMboxEdgeServer", al = "overrideMboxEdgeServerTimeout", fl = "optoutEnabled", sl = "secureOnly", ll = "supplementalDataIdParamTimeout", dl = "authoringScriptUrl", hl = "crossDomainOnly", pl = "crossDomainEnabled", vl = "scheme", ml = "cookieDomain", gl = "mboxParams", yl = "globalMboxParams", bl = "urlSizeLimit", xl = "browserHeight", El = "browserWidth", wl = "browserTimeOffset", Cl = "screenHeight", Sl = "screenWidth", Ol = "screenOrientation", Tl = "colorDepth", kl = "devicePixelRatio", Nl = "webGLRenderer", Al = Cs, jl = "mboxSession", Dl = "mboxPC", _l = "mboxPage", Rl = "mboxRid", Pl = "mboxVersion", Il = "mboxCount", Ml = "mboxTime", ql = "mboxHost", Ll = "mboxURL", Ul = "mboxReferrer", Fl = "mboxXDomain", $l = "PC", Bl = "mboxEdgeCluster", Hl = "session", Vl = "at-tick", zl = "at-render-complete", Zl = "at-timeout", Gl = "at-no-offers", Kl = "at-selectors-hidden", Jl = "at-library-loaded", Wl = "at-global-mbox-failed", Xl = "settings", Yl = "clientTraces", Ql = "serverTraces", nd = "___target_traces", td = "targetGlobalSettings", ed = "dataProvider", rd = ed + "s", id = "timestamp", od = "Content-Type", ud = "application/x-www-form-urlencoded", cd = /^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/, ad = /^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i, fd = "file:", sd = {}, ld = [zs, Zs, Gs, Ks, ml, Js, Ws, Ys, gl, yl, nl, "defaultContentVisibleStyle", tl, el, ol, ul, cl, al, fl, sl, ll, dl, bl], dd = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, hd = J(function (n, t) { !function (e) { var r = !1; if ("function" == typeof Tc && Tc.amd && (Tc(e), r = !0), "object" === (void 0 === t ? "undefined" : Fc(t)) && (n.exports = e(), r = !0), !r) { var i = window.Cookies, o = window.Cookies = e(); o.noConflict = function () { return window.Cookies = i, o } } }(function () { function n() { for (var n = 0, t = {}; n < arguments.length; n++) { var e = arguments[n]; for (var r in e) t[r] = e[r] } return t } function t(e) { function r(t, i, o) { var u; if ("undefined" != typeof document) { if (arguments.length > 1) { if (o = n({ path: "/" }, r.defaults, o), "number" == typeof o.expires) { var c = new Date; c.setMilliseconds(c.getMilliseconds() + 864e5 * o.expires), o.expires = c } o.expires = o.expires ? o.expires.toUTCString() : ""; try { u = JSON.stringify(i), /^[\{\[]/.test(u) && (i = u) } catch (n) { } i = e.write ? e.write(i, t) : encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)), t = t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), t = t.replace(/[\(\)]/g, escape); var a = ""; for (var f in o) o[f] && (a += "; " + f, !0 !== o[f] && (a += "=" + o[f])); return document.cookie = t + "=" + i + a } t || (u = {}); for (var s = document.cookie ? document.cookie.split("; ") : [], l = /(%[0-9A-Z]{2})+/g, d = 0; d < s.length; d++) { var h = s[d].split("="), p = h.slice(1).join("="); '"' === p.charAt(0) && (p = p.slice(1, -1)); try { var v = h[0].replace(l, decodeURIComponent); if (p = e.read ? e.read(p, v) : e(p, v) || p.replace(l, decodeURIComponent), this.json) try { p = JSON.parse(p) } catch (n) { } if (t === v) { u = p; break } t || (u[v] = p) } catch (n) { } } return u } } return r.set = r, r.get = function (n) { return r.call(r, n) }, r.getJSON = function () { return r.apply({ json: !0 }, [].slice.call(arguments)) }, r.defaults = {}, r.remove = function (t, e) { r(t, "", n(e, { expires: -1 })) }, r.withConverter = t, r } return t(function () { }) }) }), pd = hd, vd = { get: pd.get, set: pd.set, remove: pd.remove }, md = vd.get, gd = vd.set, yd = vd.remove, bd = function (n, t) { t = t || {}; for (var e = { key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], q: { name: "queryKey", parser: /(?:^|&)([^&=]*)=?([^&]*)/g }, parser: { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ } }, r = e.parser[t.strictMode ? "strict" : "loose"].exec(n), i = {}, o = 14; o--;)i[e.key[o]] = r[o] || ""; return i[e.q.name] = {}, i[e.key[12]].replace(e.q.parser, function (n, t, r) { t && (i[e.q.name][t] = r) }), i }, xd = function (n, t, e, r) { t = t || "&", e = e || "="; var i = {}; if ("string" != typeof n || 0 === n.length) return i; var o = /\+/g; n = n.split(t); var u = 1e3; r && "number" == typeof r.maxKeys && (u = r.maxKeys); var c = n.length; u > 0 && c > u && (c = u); for (var a = 0; a < c; ++a) { var f, s, l, d, h = n[a].replace(o, "%20"), p = h.indexOf(e); p >= 0 ? (f = h.substr(0, p), s = h.substr(p + 1)) : (f = h, s = ""), l = decodeURIComponent(f), d = decodeURIComponent(s), Y(i, l) ? Array.isArray(i[l]) ? i[l].push(d) : i[l] = [i[l], d] : i[l] = d } return i }, Ed = function (n) { switch (void 0 === n ? "undefined" : Fc(n)) { case "string": return n; case "boolean": return n ? "true" : "false"; case "number": return isFinite(n) ? n : ""; default: return "" } }, wd = function (n, t, e, r) { return t = t || "&", e = e || "=", null === n && (n = void 0), "object" === (void 0 === n ? "undefined" : Fc(n)) ? Object.keys(n).map(function (r) { var i = encodeURIComponent(Ed(r)) + e; return Array.isArray(n[r]) ? n[r].map(function (n) { return i + encodeURIComponent(Ed(n)) }).join(t) : i + encodeURIComponent(Ed(n[r])) }).join(t) : r ? encodeURIComponent(Ed(r)) + e + encodeURIComponent(Ed(n)) : "" }, Cd = J(function (n, t) { t.decode = t.parse = xd, t.encode = t.stringify = wd }), Sd = (Cd.encode, Cd.stringify, Cd.decode, Cd.parse, Cd), Od = { parse: function (n) { return "string" == typeof n && (n = n.trim().replace(/^[?#&]/, "")), Sd.parse(n) }, stringify: function (n) { return Sd.stringify(n) } }, Td = Od.parse, kd = pa.createElement("a"), Nd = {}, Ad = Od.stringify, jd = "AT:", Dd = "1", _d = [zs, Zs, Gs, Ks, ml, Js, Ws, Ys, gl, yl, nl, "defaultContentVisibleStyle", tl, el, ol, ul, cl, al, fl, sl, ll, dl], Rd = F(), Pd = /.*\.(\d+)_\d+/; !function (n, t) { function e(n, e) { var r = t.createEvent("CustomEvent"); return e = e || { bubbles: !1, cancelable: !1, detail: void 0 }, r.initCustomEvent(n, e.bubbles, e.cancelable, e.detail), r } o(n.CustomEvent) || (e.prototype = n.Event.prototype, n.CustomEvent = e) }(ha, pa); var Id = "at-library-loaded", Md = "at-request-start", qd = "at-request-succeeded", Ld = "at-request-failed", Ud = "at-content-rendering-start", Fd = "at-content-rendering-succeeded", $d = "at-content-rendering-failed", Bd = "at-content-rendering-no-offers", Hd = "at-content-rendering-redirect", Vd = J(function (n) { !function (t) { function e() { } function r(n, t) { return function () { n.apply(t, arguments) } } function i(n) { if ("object" !== Fc(this)) throw new TypeError("Promises must be constructed via new"); if ("function" != typeof n) throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], s(n, this) } function o(n, t) { for (; 3 === n._state;)n = n._value; if (0 === n._state) return void n._deferreds.push(t); n._handled = !0, i._immediateFn(function () { var e = 1 === n._state ? t.onFulfilled : t.onRejected; if (null === e) return void (1 === n._state ? u : c)(t.promise, n._value); var r; try { r = e(n._value) } catch (n) { return void c(t.promise, n) } u(t.promise, r) }) } function u(n, t) { try { if (t === n) throw new TypeError("A promise cannot be resolved with itself."); if (t && ("object" === (void 0 === t ? "undefined" : Fc(t)) || "function" == typeof t)) { var e = t.then; if (t instanceof i) return n._state = 3, n._value = t, void a(n); if ("function" == typeof e) return void s(r(e, t), n) } n._state = 1, n._value = t, a(n) } catch (t) { c(n, t) } } function c(n, t) { n._state = 2, n._value = t, a(n) } function a(n) { 2 === n._state && 0 === n._deferreds.length && i._immediateFn(function () { n._handled || i._unhandledRejectionFn(n._value) }); for (var t = 0, e = n._deferreds.length; t < e; t++)o(n, n._deferreds[t]); n._deferreds = null } function f(n, t, e) { this.onFulfilled = "function" == typeof n ? n : null, this.onRejected = "function" == typeof t ? t : null, this.promise = e } function s(n, t) { var e = !1; try { n(function (n) { e || (e = !0, u(t, n)) }, function (n) { e || (e = !0, c(t, n)) }) } catch (n) { if (e) return; e = !0, c(t, n) } } var l = setTimeout; i.prototype['catch'] = function (n) { return this.then(null, n) }, i.prototype.then = function (n, t) { var r = new this.constructor(e); return o(this, new f(n, t, r)), r }, i.all = function (n) { var t = Array.prototype.slice.call(n); return new i(function (n, e) { function r(o, u) { try { if (u && ("object" === (void 0 === u ? "undefined" : Fc(u)) || "function" == typeof u)) { var c = u.then; if ("function" == typeof c) return void c.call(u, function (n) { r(o, n) }, e) } t[o] = u, 0 == --i && n(t) } catch (n) { e(n) } } if (0 === t.length) return n([]); for (var i = t.length, o = 0; o < t.length; o++)r(o, t[o]) }) }, i.resolve = function (n) { return n && "object" === (void 0 === n ? "undefined" : Fc(n)) && n.constructor === i ? n : new i(function (t) { t(n) }) }, i.reject = function (n) { return new i(function (t, e) { e(n) }) }, i.race = function (n) { return new i(function (t, e) { for (var r = 0, i = n.length; r < i; r++)n[r].then(t, e) }) }, i._immediateFn = "function" == typeof setImmediate && function (n) { setImmediate(n) } || function (n) { l(n, 0) }, i._unhandledRejectionFn = function (n) { "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", n) }, i._setImmediateFn = function (n) { i._immediateFn = n }, i._setUnhandledRejectionFn = function (n) { i._unhandledRejectionFn = n }, void 0 !== n && n.exports ? n.exports = i : t.Promise || (t.Promise = i) }(dd) }), zd = window.Promise || Vd, Zd = "Expected an array of promises", Gd = "Network request failed", Kd = "Request timed out", Jd = "URL is required", Wd = "GET", Xd = "POST", Yd = "method", Qd = "url", nh = "headers", th = "data", eh = "credentials", rh = "timeout", ih = "async", oh = "mboxDisable", uh = "disabled", ch = 864e5, ah = "3rd party cookies disabled", fh = /CLKTRK#(\S+)/, sh = /CLKTRK#(\S+)\s/, lh = "adobe_mc_sdid", dh = "mboxSession", hh = "true", ph = function () { var n = pa.createElement("canvas"), t = n.getContext("webgl") || n.getContext("experimental-webgl"); if (a(t)) return null; var e = t.getExtension("WEBGL_debug_renderer_info"); if (a(e)) return null; var r = t.getParameter(e.UNMASKED_RENDERER_WEBGL); return a(r) ? null : r }(), vh = F(), mh = 1, gh = "Visitor", yh = "getInstance", bh = "isAllowed", xh = "Disabled due to optout", Eh = "getMarketingCloudVisitorID", wh = "getAudienceManagerBlob", Ch = "getAnalyticsVisitorID", Sh = "getAudienceManagerLocationHint", Oh = "isOptedOut", Th = "OptOut", kh = "MCAAMB", Nh = "MCAAMLH", Ah = "MCAID", jh = "MCMID", Dh = "MCOPTOUT", _h = "mboxMCAVID", Rh = "mboxAAMB", Ph = "mboxMCGLH", Ih = "mboxMCGVID", Mh = "mboxMCSDID", qh = "getSupplementalDataID", Lh = "getCustomerIDs", Uh = "trackingServer", Fh = Uh + "Secure", $h = "vst.", Bh = $h + "trk", Hh = $h + "trks", Vh = "Visitor API requests timed out", zh = "Visitor API requests error", Zh = {}, Gh = "Data provider", Kh = "timed out", Jh = 2e3, Wh = "mboxedge", Xh = "<clientCode>", Yh = "/m2/" + Xh + "/mbox/json", Qh = "//", np = "JSON parser error", tp = "[getOffer()]", ep = function (n) {
        var t = function () { function t(n) { return null == n ? String(n) : J[W.call(n)] || "object" } function e(n) { return "function" == t(n) } function r(n) { return null != n && n == n.window } function i(n) { return null != n && n.nodeType == n.DOCUMENT_NODE } function o(n) { return "object" == t(n) } function u(n) { return o(n) && !r(n) && Object.getPrototypeOf(n) == Object.prototype } function c(n) { var t = !!n && "length" in n && n.length, e = O.type(n); return "function" != e && !r(n) && ("array" == e || 0 === t || "number" == typeof t && t > 0 && t - 1 in n) } function a(n) { return D.call(n, function (n) { return null != n }) } function f(n) { return n.length > 0 ? O.fn.concat.apply([], n) : n } function s(n) { return n.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase() } function l(n) { return n in I ? I[n] : I[n] = new RegExp("(^|\\s)" + n + "(\\s|$)") } function d(n, t) { return "number" != typeof t || M[s(n)] ? t : t + "px" } function h(n) { var t, e; return P[n] || (t = R.createElement(n), R.body.appendChild(t), e = getComputedStyle(t, "").getPropertyValue("display"), t.parentNode.removeChild(t), "none" == e && (e = "block"), P[n] = e), P[n] } function p(n) { return "children" in n ? _.call(n.children) : O.map(n.childNodes, function (n) { if (1 == n.nodeType) return n }) } function v(n, t) { var e, r = n ? n.length : 0; for (e = 0; e < r; e++)this[e] = n[e]; this.length = r, this.selector = t || "" } function m(n, t, e) { for (S in t) e && (u(t[S]) || nn(t[S])) ? (u(t[S]) && !u(n[S]) && (n[S] = {}), nn(t[S]) && !nn(n[S]) && (n[S] = []), m(n[S], t[S], e)) : t[S] !== C && (n[S] = t[S]) } function g(n, t) { return null == t ? O(n) : O(n).filter(t) } function y(n, t, r, i) { return e(t) ? t.call(n, r, i) : t } function b(n, t, e) { null == e ? n.removeAttribute(t) : n.setAttribute(t, e) } function x(n, t) { var e = n.className || "", r = e && e.baseVal !== C; if (t === C) return r ? e.baseVal : e; r ? e.baseVal = t : n.className = t } function E(n) { try { return n ? "true" == n || "false" != n && ("null" == n ? null : +n + "" == n ? +n : /^[\[\{]/.test(n) ? O.parseJSON(n) : n) : n } catch (t) { return n } } function w(n, t) { t(n); for (var e = 0, r = n.childNodes.length; e < r; e++)w(n.childNodes[e], t) } var C, S, O, T, k, N, A = [], j = A.concat, D = A.filter, _ = A.slice, R = n.document, P = {}, I = {}, M = { "column-count": 1, columns: 1, "font-weight": 1, "line-height": 1, opacity: 1, "z-index": 1, zoom: 1 }, q = /^\s*<(\w+|!)[^>]*>/, L = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, U = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, F = /^(?:body|html)$/i, $ = /([A-Z])/g, B = ["val", "css", "html", "text", "data", "width", "height", "offset"], H = ["after", "prepend", "before", "append"], V = R.createElement("table"), z = R.createElement("tr"), Z = { tr: R.createElement("tbody"), tbody: V, thead: V, tfoot: V, td: z, th: z, "*": R.createElement("div") }, G = /complete|loaded|interactive/, K = /^[\w-]*$/, J = {}, W = J.toString, X = {}, Y = R.createElement("div"), Q = { tabindex: "tabIndex", readonly: "readOnly", 'for': "htmlFor", 'class': "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable" }, nn = Array.isArray || function (n) { return n instanceof Array }; return X.matches = function (n, t) { if (!t || !n || 1 !== n.nodeType) return !1; var e = n.matches || n.webkitMatchesSelector || n.mozMatchesSelector || n.oMatchesSelector || n.matchesSelector; if (e) return e.call(n, t); var r, i = n.parentNode, o = !i; return o && (i = Y).appendChild(n), r = ~X.qsa(i, t).indexOf(n), o && Y.removeChild(n), r }, k = function (n) { return n.replace(/-+(.)?/g, function (n, t) { return t ? t.toUpperCase() : "" }) }, N = function (n) { return D.call(n, function (t, e) { return n.indexOf(t) == e }) }, X.fragment = function (n, t, e) { var r, i, o; return L.test(n) && (r = O(R.createElement(RegExp.$1))), r || (n.replace && (n = n.replace(U, "<$1></$2>")), t === C && (t = q.test(n) && RegExp.$1), t in Z || (t = "*"), o = Z[t], o.innerHTML = "" + n, r = O.each(_.call(o.childNodes), function () { o.removeChild(this) })), u(e) && (i = O(r), O.each(e, function (n, t) { B.indexOf(n) > -1 ? i[n](t) : i.attr(n, t) })), r }, X.Z = function (n, t) { return new v(n, t) }, X.isZ = function (n) { return n instanceof X.Z }, X.init = function (n, t) { var r; if (!n) return X.Z(); if ("string" == typeof n) if (n = n.trim(), "<" == n[0] && q.test(n)) r = X.fragment(n, RegExp.$1, t), n = null; else { if (t !== C) return O(t).find(n); r = X.qsa(R, n) } else { if (e(n)) return O(R).ready(n); if (X.isZ(n)) return n; if (nn(n)) r = a(n); else if (o(n)) r = [n], n = null; else if (q.test(n)) r = X.fragment(n.trim(), RegExp.$1, t), n = null; else { if (t !== C) return O(t).find(n); r = X.qsa(R, n) } } return X.Z(r, n) }, O = function (n, t) { return X.init(n, t) }, O.extend = function (n) { var t, e = _.call(arguments, 1); return "boolean" == typeof n && (t = n, n = e.shift()), e.forEach(function (e) { m(n, e, t) }), n }, X.qsa = function (n, t) { var e, r = "#" == t[0], i = !r && "." == t[0], o = r || i ? t.slice(1) : t, u = K.test(o); return n.getElementById && u && r ? (e = n.getElementById(o)) ? [e] : [] : 1 !== n.nodeType && 9 !== n.nodeType && 11 !== n.nodeType ? [] : _.call(u && !r && n.getElementsByClassName ? i ? n.getElementsByClassName(o) : n.getElementsByTagName(t) : n.querySelectorAll(t)) }, O.contains = R.documentElement.contains ? function (n, t) { return n !== t && n.contains(t) } : function (n, t) { for (; t && (t = t.parentNode);)if (t === n) return !0; return !1 }, O.type = t, O.isFunction = e, O.isWindow = r, O.isArray = nn, O.isPlainObject = u, O.isEmptyObject = function (n) { var t; for (t in n) return !1; return !0 }, O.isNumeric = function (n) { var t = Number(n), e = void 0 === n ? "undefined" : Fc(n); return null != n && "boolean" != e && ("string" != e || n.length) && !isNaN(t) && isFinite(t) || !1 }, O.inArray = function (n, t, e) { return A.indexOf.call(t, n, e) }, O.camelCase = k, O.trim = function (n) { return null == n ? "" : String.prototype.trim.call(n) }, O.uuid = 0, O.support = {}, O.expr = {}, O.noop = function () { }, O.map = function (n, t) { var e, r, i, o = []; if (c(n)) for (r = 0; r < n.length; r++)null != (e = t(n[r], r)) && o.push(e); else for (i in n) null != (e = t(n[i], i)) && o.push(e); return f(o) }, O.each = function (n, t) { var e, r; if (c(n)) { for (e = 0; e < n.length; e++)if (!1 === t.call(n[e], e, n[e])) return n } else for (r in n) if (!1 === t.call(n[r], r, n[r])) return n; return n }, O.grep = function (n, t) { return D.call(n, t) }, n.JSON && (O.parseJSON = JSON.parse), O.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (n, t) { J["[object " + t + "]"] = t.toLowerCase() }), O.fn = { constructor: X.Z, length: 0, forEach: A.forEach, reduce: A.reduce, push: A.push, sort: A.sort, splice: A.splice, indexOf: A.indexOf, concat: function () { var n, t, e = []; for (n = 0; n < arguments.length; n++)t = arguments[n], e[n] = X.isZ(t) ? t.toArray() : t; return j.apply(X.isZ(this) ? this.toArray() : this, e) }, map: function (n) { return O(O.map(this, function (t, e) { return n.call(t, e, t) })) }, slice: function () { return O(_.apply(this, arguments)) }, ready: function (n) { return G.test(R.readyState) && R.body ? n(O) : R.addEventListener("DOMContentLoaded", function () { n(O) }, !1), this }, get: function (n) { return n === C ? _.call(this) : this[n >= 0 ? n : n + this.length] }, toArray: function () { return this.get() }, size: function () { return this.length }, remove: function () { return this.each(function () { null != this.parentNode && this.parentNode.removeChild(this) }) }, each: function (n) { for (var t, e = this.length, r = 0; r < e && (t = this[r], !1 !== n.call(t, r, t));)r++; return this }, filter: function (n) { return e(n) ? this.not(this.not(n)) : O(D.call(this, function (t) { return X.matches(t, n) })) }, add: function (n, t) { return O(N(this.concat(O(n, t)))) }, is: function (n) { return this.length > 0 && X.matches(this[0], n) }, not: function (n) { var t = []; if (e(n) && n.call !== C) this.each(function (e) { n.call(this, e) || t.push(this) }); else { var r = "string" == typeof n ? this.filter(n) : c(n) && e(n.item) ? _.call(n) : O(n); this.forEach(function (n) { r.indexOf(n) < 0 && t.push(n) }) } return O(t) }, has: function (n) { return this.filter(function () { return o(n) ? O.contains(this, n) : O(this).find(n).size() }) }, eq: function (n) { return -1 === n ? this.slice(n) : this.slice(n, +n + 1) }, first: function () { var n = this[0]; return n && !o(n) ? n : O(n) }, last: function () { var n = this[this.length - 1]; return n && !o(n) ? n : O(n) }, find: function (n) { var t = this; return n ? "object" == (void 0 === n ? "undefined" : Fc(n)) ? O(n).filter(function () { var n = this; return A.some.call(t, function (t) { return O.contains(t, n) }) }) : 1 == this.length ? O(X.qsa(this[0], n)) : this.map(function () { return X.qsa(this, n) }) : O() }, closest: function (n, t) { var e = [], r = "object" == (void 0 === n ? "undefined" : Fc(n)) && O(n); return this.each(function (o, u) { for (; u && !(r ? r.indexOf(u) >= 0 : X.matches(u, n));)u = u !== t && !i(u) && u.parentNode; u && e.indexOf(u) < 0 && e.push(u) }), O(e) }, parents: function (n) { for (var t = [], e = this; e.length > 0;)e = O.map(e, function (n) { if ((n = n.parentNode) && !i(n) && t.indexOf(n) < 0) return t.push(n), n }); return g(t, n) }, parent: function (n) { return g(N(this.pluck("parentNode")), n) }, children: function (n) { return g(this.map(function () { return p(this) }), n) }, contents: function () { return this.map(function () { return this.contentDocument || _.call(this.childNodes) }) }, siblings: function (n) { return g(this.map(function (n, t) { return D.call(p(t.parentNode), function (n) { return n !== t }) }), n) }, empty: function () { return this.each(function () { this.innerHTML = "" }) }, pluck: function (n) { return O.map(this, function (t) { return t[n] }) }, show: function () { return this.each(function () { "none" == this.style.display && (this.style.display = ""), "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = h(this.nodeName)) }) }, replaceWith: function (n) { return this.before(n).remove() }, wrap: function (n) { var t = e(n); if (this[0] && !t) var r = O(n).get(0), i = r.parentNode || this.length > 1; return this.each(function (e) { O(this).wrapAll(t ? n.call(this, e) : i ? r.cloneNode(!0) : r) }) }, wrapAll: function (n) { if (this[0]) { O(this[0]).before(n = O(n)); for (var t; (t = n.children()).length;)n = t.first(); O(n).append(this) } return this }, wrapInner: function (n) { var t = e(n); return this.each(function (e) { var r = O(this), i = r.contents(), o = t ? n.call(this, e) : n; i.length ? i.wrapAll(o) : r.append(o) }) }, unwrap: function () { return this.parent().each(function () { O(this).replaceWith(O(this).children()) }), this }, clone: function () { return this.map(function () { return this.cloneNode(!0) }) }, hide: function () { return this.css("display", "none") }, toggle: function (n) { return this.each(function () { var t = O(this); (n === C ? "none" == t.css("display") : n) ? t.show() : t.hide() }) }, prev: function (n) { return O(this.pluck("previousElementSibling")).filter(n || "*") }, next: function (n) { return O(this.pluck("nextElementSibling")).filter(n || "*") }, html: function (n) { return 0 in arguments ? this.each(function (t) { var e = this.innerHTML; O(this).empty().append(y(this, n, t, e)) }) : 0 in this ? this[0].innerHTML : null }, text: function (n) { return 0 in arguments ? this.each(function (t) { var e = y(this, n, t, this.textContent); this.textContent = null == e ? "" : "" + e }) : 0 in this ? this.pluck("textContent").join("") : null }, attr: function (n, t) { var e; return "string" != typeof n || 1 in arguments ? this.each(function (e) { if (1 === this.nodeType) if (o(n)) for (S in n) b(this, S, n[S]); else b(this, n, y(this, t, e, this.getAttribute(n))) }) : 0 in this && 1 == this[0].nodeType && null != (e = this[0].getAttribute(n)) ? e : C }, removeAttr: function (n) { return this.each(function () { 1 === this.nodeType && n.split(" ").forEach(function (n) { b(this, n) }, this) }) }, prop: function (n, t) { return n = Q[n] || n, 1 in arguments ? this.each(function (e) { this[n] = y(this, t, e, this[n]) }) : this[0] && this[0][n] }, removeProp: function (n) { return n = Q[n] || n, this.each(function () { delete this[n] }) }, data: function (n, t) { var e = "data-" + n.replace($, "-$1").toLowerCase(), r = 1 in arguments ? this.attr(e, t) : this.attr(e); return null !== r ? E(r) : C }, val: function (n) { return 0 in arguments ? (null == n && (n = ""), this.each(function (t) { this.value = y(this, n, t, this.value) })) : this[0] && (this[0].multiple ? O(this[0]).find("option").filter(function () { return this.selected }).pluck("value") : this[0].value) }, offset: function (t) { if (t) return this.each(function (n) { var e = O(this), r = y(this, t, n, e.offset()), i = e.offsetParent().offset(), o = { top: r.top - i.top, left: r.left - i.left }; "static" == e.css("position") && (o.position = "relative"), e.css(o) }); if (!this.length) return null; if (R.documentElement !== this[0] && !O.contains(R.documentElement, this[0])) return { top: 0, left: 0 }; var e = this[0].getBoundingClientRect(); return { left: e.left + n.pageXOffset, top: e.top + n.pageYOffset, width: Math.round(e.width), height: Math.round(e.height) } }, css: function (n, e) { if (arguments.length < 2) { var r = this[0]; if ("string" == typeof n) { if (!r) return; return r.style[k(n)] || getComputedStyle(r, "").getPropertyValue(n) } if (nn(n)) { if (!r) return; var i = {}, o = getComputedStyle(r, ""); return O.each(n, function (n, t) { i[t] = r.style[k(t)] || o.getPropertyValue(t) }), i } } var u = ""; if ("string" == t(n)) e || 0 === e ? u = s(n) + ":" + d(n, e) : this.each(function () { this.style.removeProperty(s(n)) }); else for (S in n) n[S] || 0 === n[S] ? u += s(S) + ":" + d(S, n[S]) + ";" : this.each(function () { this.style.removeProperty(s(S)) }); return this.each(function () { this.style.cssText += ";" + u }) }, index: function (n) { return n ? this.indexOf(O(n)[0]) : this.parent().children().indexOf(this[0]) }, hasClass: function (n) { return !!n && A.some.call(this, function (n) { return this.test(x(n)) }, l(n)) }, addClass: function (n) { return n ? this.each(function (t) { if ("className" in this) { T = []; var e = x(this); y(this, n, t, e).split(/\s+/g).forEach(function (n) { O(this).hasClass(n) || T.push(n) }, this), T.length && x(this, e + (e ? " " : "") + T.join(" ")) } }) : this }, removeClass: function (n) { return this.each(function (t) { if ("className" in this) { if (n === C) return x(this, ""); T = x(this), y(this, n, t, T).split(/\s+/g).forEach(function (n) { T = T.replace(l(n), " ") }), x(this, T.trim()) } }) }, toggleClass: function (n, t) { return n ? this.each(function (e) { var r = O(this); y(this, n, e, x(this)).split(/\s+/g).forEach(function (n) { (t === C ? !r.hasClass(n) : t) ? r.addClass(n) : r.removeClass(n) }) }) : this }, scrollTop: function (n) { if (this.length) { var t = "scrollTop" in this[0]; return n === C ? t ? this[0].scrollTop : this[0].pageYOffset : this.each(t ? function () { this.scrollTop = n } : function () { this.scrollTo(this.scrollX, n) }) } }, scrollLeft: function (n) { if (this.length) { var t = "scrollLeft" in this[0]; return n === C ? t ? this[0].scrollLeft : this[0].pageXOffset : this.each(t ? function () { this.scrollLeft = n } : function () { this.scrollTo(n, this.scrollY) }) } }, position: function () { if (this.length) { var n = this[0], t = this.offsetParent(), e = this.offset(), r = F.test(t[0].nodeName) ? { top: 0, left: 0 } : t.offset(); return e.top -= parseFloat(O(n).css("margin-top")) || 0, e.left -= parseFloat(O(n).css("margin-left")) || 0, r.top += parseFloat(O(t[0]).css("border-top-width")) || 0, r.left += parseFloat(O(t[0]).css("border-left-width")) || 0, { top: e.top - r.top, left: e.left - r.left } } }, offsetParent: function () { return this.map(function () { for (var n = this.offsetParent || R.body; n && !F.test(n.nodeName) && "static" == O(n).css("position");)n = n.offsetParent; return n }) } }, O.fn.detach = O.fn.remove, ["width", "height"].forEach(function (n) { var t = n.replace(/./, function (n) { return n[0].toUpperCase() }); O.fn[n] = function (e) { var o, u = this[0]; return e === C ? r(u) ? u["inner" + t] : i(u) ? u.documentElement["scroll" + t] : (o = this.offset()) && o[n] : this.each(function (t) { u = O(this), u.css(n, y(this, e, t, u[n]())) }) } }), H.forEach(function (e, r) { var i = r % 2; O.fn[e] = function () { var e, o, u = O.map(arguments, function (n) { var r = []; return e = t(n), "array" == e ? (n.forEach(function (n) { return n.nodeType !== C ? r.push(n) : O.zepto.isZ(n) ? r = r.concat(n.get()) : void (r = r.concat(X.fragment(n))) }), r) : "object" == e || null == n ? n : X.fragment(n) }), c = this.length > 1; return u.length < 1 ? this : this.each(function (t, e) { o = i ? e : e.parentNode, e = 0 == r ? e.nextSibling : 1 == r ? e.firstChild : 2 == r ? e : null; var a = O.contains(R.documentElement, o), f = /^(text|application)\/(javascript|ecmascript)$/; u.forEach(function (t) { if (c) t = t.cloneNode(!0); else if (!o) return O(t).remove(); o.insertBefore(t, e), a && w(t, function (t) { if (null != t.nodeName && "SCRIPT" === t.nodeName.toUpperCase() && (!t.type || f.test(t.type.toLowerCase())) && !t.src) { var e = t.ownerDocument ? t.ownerDocument.defaultView : n; e.eval.call(e, t.innerHTML) } }) }) }) }, O.fn[i ? e + "To" : "insert" + (r ? "Before" : "After")] = function (n) { return O(n)[e](this), this } }), X.Z.prototype = v.prototype = O.fn, X.uniq = N, X.deserializeValue = E, O.zepto = X, O }(); return function (t) {
            function e(n) { return n._zid || (n._zid = h++) } function r(n, t, r, u) { if (t = i(t), t.ns) var c = o(t.ns); return (g[e(n)] || []).filter(function (n) { return n && (!t.e || n.e == t.e) && (!t.ns || c.test(n.ns)) && (!r || e(n.fn) === e(r)) && (!u || n.sel == u) }) } function i(n) { var t = ("" + n).split("."); return { e: t[0], ns: t.slice(1).sort().join(" ") } } function o(n) { return new RegExp("(?:^| )" + n.replace(" ", " .* ?") + "(?: |$)") } function u(n, t) { return n.del && !b && n.e in x || !!t } function c(n) { return E[n] || b && x[n] || n } function a(n, r, o, a, f, l, h) { var p = e(n), v = g[p] || (g[p] = []); r.split(/\s/).forEach(function (e) { if ("ready" == e) return t(document).ready(o); var r = i(e); r.fn = o, r.sel = f, r.e in E && (o = function (n) { var e = n.relatedTarget; if (!e || e !== this && !t.contains(this, e)) return r.fn.apply(this, arguments) }), r.del = l; var p = l || o; r.proxy = function (t) { if (t = s(t), !t.isImmediatePropagationStopped()) { t.data = a; var e = p.apply(n, t._args == d ? [t] : [t].concat(t._args)); return !1 === e && (t.preventDefault(), t.stopPropagation()), e } }, r.i = v.length, v.push(r), "addEventListener" in n && n.addEventListener(c(r.e), r.proxy, u(r, h)) }) } function f(n, t, i, o, a) { var f = e(n); (t || "").split(/\s/).forEach(function (t) { r(n, t, i, o).forEach(function (t) { delete g[f][t.i], "removeEventListener" in n && n.removeEventListener(c(t.e), t.proxy, u(t, a)) }) }) } function s(n, e) { if (e || !n.isDefaultPrevented) { e || (e = n), t.each(O, function (t, r) { var i = e[t]; n[t] = function () { return this[r] = w, i && i.apply(e, arguments) }, n[r] = C }); try { n.timeStamp || (n.timeStamp = (new Date).getTime()) } catch (n) { } (e.defaultPrevented !== d ? e.defaultPrevented : "returnValue" in e ? !1 === e.returnValue : e.getPreventDefault && e.getPreventDefault()) && (n.isDefaultPrevented = w) } return n } function l(n) { var t, e = { originalEvent: n }; for (t in n) S.test(t) || n[t] === d || (e[t] = n[t]); return s(e, n) } var d, h = 1, p = Array.prototype.slice, v = t.isFunction, m = function (n) { return "string" == typeof n }, g = {}, y = {}, b = "onfocusin" in n, x = { focus: "focusin", blur: "focusout" }, E = {
                mouseenter: "mouseover",
                mouseleave: "mouseout"
            }; y.click = y.mousedown = y.mouseup = y.mousemove = "MouseEvents", t.event = { add: a, remove: f }, t.proxy = function (n, r) { var i = 2 in arguments && p.call(arguments, 2); if (v(n)) { var o = function () { return n.apply(r, i ? i.concat(p.call(arguments)) : arguments) }; return o._zid = e(n), o } if (m(r)) return i ? (i.unshift(n[r], n), t.proxy.apply(null, i)) : t.proxy(n[r], n); throw new TypeError("expected function") }, t.fn.bind = function (n, t, e) { return this.on(n, t, e) }, t.fn.unbind = function (n, t) { return this.off(n, t) }, t.fn.one = function (n, t, e, r) { return this.on(n, t, e, r, 1) }; var w = function () { return !0 }, C = function () { return !1 }, S = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/, O = { preventDefault: "isDefaultPrevented", stopImmediatePropagation: "isImmediatePropagationStopped", stopPropagation: "isPropagationStopped" }; t.fn.delegate = function (n, t, e) { return this.on(t, n, e) }, t.fn.undelegate = function (n, t, e) { return this.off(t, n, e) }, t.fn.live = function (n, e) { return t(document.body).delegate(this.selector, n, e), this }, t.fn.die = function (n, e) { return t(document.body).undelegate(this.selector, n, e), this }, t.fn.on = function (n, e, r, i, o) { var u, c, s = this; return n && !m(n) ? (t.each(n, function (n, t) { s.on(n, e, r, t, o) }), s) : (m(e) || v(i) || !1 === i || (i = r, r = e, e = d), i !== d && !1 !== r || (i = r, r = d), !1 === i && (i = C), s.each(function (s, d) { o && (u = function (n) { return f(d, n.type, i), i.apply(this, arguments) }), e && (c = function (n) { var r, o = t(n.target).closest(e, d).get(0); if (o && o !== d) return r = t.extend(l(n), { currentTarget: o, liveFired: d }), (u || i).apply(o, [r].concat(p.call(arguments, 1))) }), a(d, n, i, r, e, c || u) })) }, t.fn.off = function (n, e, r) { var i = this; return n && !m(n) ? (t.each(n, function (n, t) { i.off(n, e, t) }), i) : (m(e) || v(r) || !1 === r || (r = e, e = d), !1 === r && (r = C), i.each(function () { f(this, n, r, e) })) }, t.fn.trigger = function (n, e) { return n = m(n) || t.isPlainObject(n) ? t.Event(n) : s(n), n._args = e, this.each(function () { n.type in x && "function" == typeof this[n.type] ? this[n.type]() : "dispatchEvent" in this ? this.dispatchEvent(n) : t(this).triggerHandler(n, e) }) }, t.fn.triggerHandler = function (n, e) { var i, o; return this.each(function (u, c) { i = l(m(n) ? t.Event(n) : n), i._args = e, i.target = c, t.each(r(c, n.type || n), function (n, t) { if (o = t.proxy(i), i.isImmediatePropagationStopped()) return !1 }) }), o }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function (n) { t.fn[n] = function (t) { return 0 in arguments ? this.bind(n, t) : this.trigger(n) } }), t.Event = function (n, t) { m(n) || (t = n, n = t.type); var e = document.createEvent(y[n] || "Events"), r = !0; if (t) for (var i in t) "bubbles" == i ? r = !!t[i] : e[i] = t[i]; return e.initEvent(n, r, !0), s(e) }
        }(t), function () { try { getComputedStyle(void 0) } catch (e) { var t = getComputedStyle; n.getComputedStyle = function (n, e) { try { return t(n, e) } catch (n) { return null } } } }(), function (n) { var t = n.zepto, e = t.qsa, r = /^\s*>/, i = "Zepto" + +new Date; t.qsa = function (t, o) { var u, c, a = o; try { a ? r.test(a) && (c = n(t).addClass(i), a = "." + i + " " + a) : a = "*", u = e(t, a) } catch (n) { throw n } finally { c && c.removeClass(i) } return u } }(t), t
    }(window), rp = ":eq(", ip = ")", op = rp.length, up = /((\.|#)(-)?\d{1})/g, cp = "[trackEvent()]", ap = "navigator", fp = "sendBeacon", sp = "sendBeacon() request failed", lp = zd, dp = function (n, t) { return new lp(function (e, r) { "onload" in t ? (t.onload = function () { e(t) }, t.onerror = function () { r(new Error("Failed to load script " + n)) }) : "readyState" in t && (t.onreadystatechange = function () { var n = t.readyState; "loaded" !== n && "complete" !== n || (t.onreadystatechange = null, e(t)) }) }) }, hp = function (n) { var t = document.createElement("script"); t.src = n, t.async = !0; var e = dp(n, t); return document.getElementsByTagName("head")[0].appendChild(t), e }, pp = "clickTrackId", vp = "mboxTarget", mp = "script,link," + Tf; Fo.prototype = { on: function (n, t, e) { var r = this.e || (this.e = {}); return (r[n] || (r[n] = [])).push({ fn: t, ctx: e }), this }, once: function (n, t, e) { function r() { i.off(n, r), t.apply(e, arguments) } var i = this; return r._ = t, this.on(n, r, e) }, emit: function (n) { var t = [].slice.call(arguments, 1), e = ((this.e || (this.e = {}))[n] || []).slice(), r = 0, i = e.length; for (r; r < i; r++)e[r].fn.apply(e[r].ctx, t); return this }, off: function (n, t) { var e = this.e || (this.e = {}), r = e[n], i = []; if (r && t) for (var o = 0, u = r.length; o < u; o++)r[o].fn !== t && r[o].fn._ !== t && i.push(r[o]); return i.length ? e[n] = i : delete e[n], this } }; var gp = Fo, yp = function () { return new gp }(), bp = "at-", xp = "at-body-style", Ep = "#" + xp, wp = "at-makers-style", Cp = {}, Sp = "m", Op = "f", Tp = "p", kp = { childList: !0, subtree: !0 }, Np = ha.MutationObserver, Ap = {}, jp = null, Dp = 1e3, _p = "visibilityState", Rp = "visible", Pp = {}, Ip = function (n) { return n[va] === Ya || n[va] === Qa }, Mp = "[applyOffer()]", qp = function (n) { return !a(n[_a]) }, Lp = "adobe", Up = "target", Fp = "ext", $p = J(function (n, t) { !function (e, r) { "function" == typeof Tc && Tc.amd ? Tc([], r) : "object" === (void 0 === t ? "undefined" : Fc(t)) ? n.exports = r() : e.currentExecutingScript = r() }(dd || window, function () { function n(n, t) { var e, r = null; if (t = t || f, "string" == typeof n && n) for (e = t.length; e--;)if (t[e].src === n) { r = t[e]; break } return r } function t(n) { var t, e, r = null; for (n = n || f, t = 0, e = n.length; t < e; t++)if (!n[t].hasAttribute("src")) { if (r) { r = null; break } r = n[t] } return r } function e(n, t) { var r, i, o = null, u = "number" == typeof t; return t = u ? Math.round(t) : 0, "string" == typeof n && n && (u ? r = n.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/) : (r = n.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)) && r[1] || (r = n.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)), r && r[1] && (t > 0 ? (i = n.slice(n.indexOf(r[0]) + r[0].length), o = e(i, t - 1)) : o = r[1])), o } function r() { return null } function i() { return null } function o() { if (0 === f.length) return null; var r, i, c, v, m, g = [], y = o.skipStackDepth || 1; for (r = 0; r < f.length; r++)l && s ? u.test(f[r].readyState) && g.push(f[r]) : g.push(f[r]); if (i = new Error, h && (c = i.stack), !c && p) try { throw i } catch (n) { c = n.stack } if (c && (v = e(c, y), !(m = n(v, g)) && a && v === a && (m = t(g))), m || 1 === g.length && (m = g[0]), m || d && (m = document.currentScript), !m && l && s) for (r = g.length; r--;)if ("interactive" === g[r].readyState) { m = g[r]; break } return m || (m = g[g.length - 1] || null), m } var u = /^(interactive|loaded|complete)$/, c = window.location ? window.location.href : null, a = c ? c.replace(/#.*$/, "").replace(/\?.*$/, "") || null : null, f = document.getElementsByTagName("script"), s = "readyState" in (f[0] || document.createElement("script")), l = !window.opera || "[object Opera]" !== window.opera.toString(), d = "currentScript" in document; "stackTraceLimit" in Error && Error.stackTraceLimit !== 1 / 0 && (Error.stackTraceLimit = 1 / 0); var h = !1, p = !1; !function () { try { var n = new Error; throw h = "string" == typeof n.stack && !!n.stack, n } catch (n) { p = "string" == typeof n.stack && !!n.stack } }(), o.skipStackDepth = 1; var v = o; return v.near = o, v.far = r, v.origin = i, v }) }), Bp = "[mboxCreate()]", Hp = "[mboxDefine()]", Vp = "[mboxUpdate()]", zp = "Unable to load target-vec.js", Zp = "Loading target-vec.js", Gp = "_AT", Kp = "clickHandlerForExperienceEditor", Jp = "[global mbox]", Wp = "auto-create disabled"; return { init: Oc }
}(), window.adobe.target.init(window, document, { "clientCode": "suntrust", "imsOrgId": "AA7A3BC75245B3BC0A490D4D@AdobeOrg", "serverDomain": "suntrust.tt.omtrdc.net", "crossDomain": "disabled", "timeout": 5000, "globalMboxName": "target-global-mbox", "globalMboxAutoCreate": true, "version": "1.6.3", "defaultContentHiddenStyle": "visibility:hidden;", "defaultContentVisibleStyle": "visibility:visible;", "bodyHiddenStyle": "body{opacity:0!important}", "bodyHidingEnabled": true, "deviceIdLifetime": 63244800000, "sessionIdLifetime": 1860000, "selectorsPollingTimeout": 5000, "visitorApiTimeout": 2000, "overrideMboxEdgeServer": true, "overrideMboxEdgeServerTimeout": 1860000, "optoutEnabled": false, "secureOnly": false, "supplementalDataIdParamTimeout": 30, "authoringScriptUrl": "//cdn.tt.omtrdc.net/cdn/target-vec.js", "urlSizeLimit": 2048 });
//No custom JavaScript
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpc2l0b3JBUElfU3VudHJ1c3QuanMiLCJhdC1ib2R5aGlkaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoic2NyaXB0cy1hZG9iZS10YXJnZXQtYm9keWhpZGluZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbiBlKHQsIGksIG4pIHsgZnVuY3Rpb24gcihzLCBvKSB7IGlmICghaVtzXSkgeyBpZiAoIXRbc10pIHsgdmFyIGwgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHJlcXVpcmUgJiYgcmVxdWlyZTsgaWYgKCFvICYmIGwpIHJldHVybiBsKHMsICEwKTsgaWYgKGEpIHJldHVybiBhKHMsICEwKTsgdmFyIHUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcyArIFwiJ1wiKTsgdGhyb3cgdS5jb2RlID0gXCJNT0RVTEVfTk9UX0ZPVU5EXCIsIHUgfSB2YXIgYyA9IGlbc10gPSB7IGV4cG9ydHM6IHt9IH07IHRbc11bMF0uY2FsbChjLmV4cG9ydHMsIGZ1bmN0aW9uIChlKSB7IHZhciBpID0gdFtzXVsxXVtlXTsgcmV0dXJuIHIoaSB8fCBlKSB9LCBjLCBjLmV4cG9ydHMsIGUsIHQsIGksIG4pIH0gcmV0dXJuIGlbc10uZXhwb3J0cyB9IGZvciAodmFyIGEgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHJlcXVpcmUgJiYgcmVxdWlyZSwgcyA9IDA7IHMgPCBuLmxlbmd0aDsgcysrKXIobltzXSk7IHJldHVybiByIH0oe1xyXG4gICAgMTogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IChmdW5jdGlvbiAoaSkgeyBlKFwiLi91dGlscy9wb2x5ZmlsbHNcIik7IHZhciBuID0gZShcIi4vc3RyYXRlZ2llcy9Mb2NhbFZpc2l0b3JcIiksIHIgPSBlKFwiLi9zdHJhdGVnaWVzL1Byb3h5VmlzaXRvclwiKSwgYSA9IGUoXCIuL3N0cmF0ZWdpZXMvUGxhY2Vob2xkZXJWaXNpdG9yXCIpLCBzID0gZShcIi4vdXRpbHMvY2FsbGJhY2tSZWdpc3RyeUZhY3RvcnlcIiksIG8gPSBlKFwiLi9NZXNzYWdlXCIpLCBsID0gZShcIi4vZW51bXNcIiksIHUgPSBsLk1FU1NBR0VTOyB0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCwgbCwgYykgeyBmdW5jdGlvbiBkKGUpIHsgT2JqZWN0LmFzc2lnbihJLCBlKSB9IGZ1bmN0aW9uIGYoZSkgeyBPYmplY3QuYXNzaWduKEkuc3RhdGUsIGUpLCBJLmNhbGxiYWNrUmVnaXN0cnkuZXhlY3V0ZUFsbChJLnN0YXRlKSB9IGZ1bmN0aW9uIGcoZSkgeyBpZiAoIUEuaXNJbnZhbGlkKGUpKSB7IHYgPSAhMTsgdmFyIHQgPSBBLnBhcnNlKGUpOyBJLnNldFN0YXRlQW5kUHVibGlzaCh0LnN0YXRlKSB9IH0gZnVuY3Rpb24gXyhlKSB7ICF2ICYmIEMgJiYgKHYgPSAhMCwgQS5zZW5kKGMsIGUpKSB9IGZ1bmN0aW9uIG0oKSB7IGQobmV3IG4obC5fZ2VuZXJhdGVJRCkpLCBJLmdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEKCksIEkuY2FsbGJhY2tSZWdpc3RyeS5leGVjdXRlQWxsKEkuc3RhdGUsICEwKSwgaS5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBwKSB9IGZ1bmN0aW9uIHAoZSkgeyBpZiAoIUEuaXNJbnZhbGlkKGUpKSB7IHZhciB0ID0gQS5wYXJzZShlKTsgdiA9ICExLCBpLmNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLCBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHApLCBkKG5ldyByKEkpKSwgaS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBnKSwgSS5zZXRTdGF0ZUFuZFB1Ymxpc2godC5zdGF0ZSksIEkuY2FsbGJhY2tSZWdpc3RyeS5oYXNDYWxsYmFja3MoKSAmJiBfKHUuR0VUU1RBVEUpIH0gfSBmdW5jdGlvbiBoKCkgeyBDICYmIHBvc3RNZXNzYWdlID8gKGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgcCksIF8odS5IQU5EU0hBS0UpLCB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KG0sIDI1MCkpIDogbSgpIH0gZnVuY3Rpb24gUygpIHsgaS5zX2NfaW4gfHwgKGkuc19jX2lsID0gW10sIGkuc19jX2luID0gMCksIEkuX2MgPSBcIlZpc2l0b3JcIiwgSS5faWwgPSBpLnNfY19pbCwgSS5faW4gPSBpLnNfY19pbiwgSS5faWxbSS5faW5dID0gSSwgaS5zX2NfaW4rKyB9IGZ1bmN0aW9uIEQoKSB7IGZ1bmN0aW9uIGUoZSkgeyAwICE9PSBlLmluZGV4T2YoXCJfXCIpICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbFtlXSAmJiAoSVtlXSA9IGZ1bmN0aW9uICgpIHsgfSkgfSBPYmplY3Qua2V5cyhsKS5mb3JFYWNoKGUpLCBJLmdldFN1cHBsZW1lbnRhbERhdGFJRCA9IGwuZ2V0U3VwcGxlbWVudGFsRGF0YUlEIH0gdmFyIEkgPSB0aGlzLCBDID0gdC53aGl0ZWxpc3RQYXJlbnREb21haW47IEkuc3RhdGUgPSB7fSwgSS52ZXJzaW9uID0gbC52ZXJzaW9uLCBJLm1hcmtldGluZ0Nsb3VkT3JnSUQgPSBlOyB2YXIgdiA9ICExLCBBID0gbmV3IG8oZSwgQyk7IEkuY2FsbGJhY2tSZWdpc3RyeSA9IHMoKSwgSS5maW5kRmllbGQgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoSS5zdGF0ZVtlXSkgcmV0dXJuIHQoSS5zdGF0ZVtlXSksIEkuc3RhdGVbZV0gfSwgSS5tZXNzYWdlUGFyZW50ID0gXywgSS5zZXRTdGF0ZUFuZFB1Ymxpc2ggPSBmLCBmdW5jdGlvbiAoKSB7IFMoKSwgRCgpLCBkKG5ldyBhKEkpKSwgaCgpIH0oKSB9IH0pLmNhbGwodGhpcywgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB7fSkgfSwgeyBcIi4vTWVzc2FnZVwiOiAyLCBcIi4vZW51bXNcIjogNCwgXCIuL3N0cmF0ZWdpZXMvTG9jYWxWaXNpdG9yXCI6IDUsIFwiLi9zdHJhdGVnaWVzL1BsYWNlaG9sZGVyVmlzaXRvclwiOiA2LCBcIi4vc3RyYXRlZ2llcy9Qcm94eVZpc2l0b3JcIjogNywgXCIuL3V0aWxzL2NhbGxiYWNrUmVnaXN0cnlGYWN0b3J5XCI6IDgsIFwiLi91dGlscy9wb2x5ZmlsbHNcIjogMTAgfV0sIDI6IFtmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiA9IGUoXCIuL2VudW1zXCIpLCByID0gbi5NRVNTQUdFUywgYSA9IHsgMDogXCJwcmVmaXhcIiwgMTogXCJvcmdJRFwiLCAyOiBcInN0YXRlXCIgfTsgdC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQpIHsgdGhpcy5wYXJzZSA9IGZ1bmN0aW9uIChlKSB7IHRyeSB7IHZhciB0ID0ge307IHJldHVybiBlLmRhdGEuc3BsaXQoXCJ8XCIpLmZvckVhY2goZnVuY3Rpb24gKGUsIGkpIHsgaWYgKHZvaWQgMCAhPT0gZSkgeyB0W2FbaV1dID0gMiAhPT0gaSA/IGUgOiBKU09OLnBhcnNlKGUpIH0gfSksIHQgfSBjYXRjaCAoZSkgeyB9IH0sIHRoaXMuaXNJbnZhbGlkID0gZnVuY3Rpb24gKGkpIHsgdmFyIG4gPSB0aGlzLnBhcnNlKGkpOyBpZiAoIW4gfHwgT2JqZWN0LmtleXMobikubGVuZ3RoIDwgMikgcmV0dXJuICEwOyB2YXIgYSA9IGUgIT09IG4ub3JnSUQsIHMgPSAhdCB8fCBpLm9yaWdpbiAhPT0gdCwgbyA9IC0xID09PSBPYmplY3Qua2V5cyhyKS5pbmRleE9mKG4ucHJlZml4KTsgcmV0dXJuIGEgfHwgcyB8fCBvIH0sIHRoaXMuc2VuZCA9IGZ1bmN0aW9uIChpLCBuLCByKSB7IHZhciBhID0gbiArIFwifFwiICsgZTsgciAmJiByID09PSBPYmplY3QocikgJiYgKGEgKz0gXCJ8XCIgKyBKU09OLnN0cmluZ2lmeShyKSk7IHRyeSB7IGkucG9zdE1lc3NhZ2UoYSwgdCkgfSBjYXRjaCAoZSkgeyB9IH0gfSB9LCB7IFwiLi9lbnVtc1wiOiA0IH1dLCAzOiBbZnVuY3Rpb24gKGUsIHQsIGkpIHtcclxuICAgICAgICAoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gbigpIHsgZnVuY3Rpb24gZSgpIHsgby53aW5kb3dMb2FkZWQgPSAhMCB9IGkuYWRkRXZlbnRMaXN0ZW5lciA/IGkuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZSkgOiBpLmF0dGFjaEV2ZW50ICYmIGkuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIiwgZSksIG8uY29kZUxvYWRFbmQgPSAobmV3IERhdGUpLmdldFRpbWUoKSB9LyoqIEBsaWNlbnNlID09PT09PT09PT09PT09IERPIE5PVCBBTFRFUiBBTllUSElORyBCRUxPVyBUSElTIExJTkUgISA9PT09PT09PT09PT1cclxuXHJcbkFkb2JlIFZpc2l0b3IgQVBJIGZvciBKYXZhU2NyaXB0IHZlcnNpb246IDIuMy4wXHJcbkNvcHlyaWdodCAxOTk2LTIwMTUgQWRvYmUsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZFxyXG5Nb3JlIGluZm8gYXZhaWxhYmxlIGF0IGh0dHBzOi8vbWFya2V0aW5nLmFkb2JlLmNvbS9yZXNvdXJjZXMvaGVscC9lbl9VUy9tY3ZpZC9cclxuKi9cclxuICAgICAgICAgICAgdmFyIHIgPSBlKFwiLi9DaGlsZFZpc2l0b3JcIiksIGEgPSBlKFwiLi9NZXNzYWdlXCIpLCBzID0gZShcIi4vdXRpbHMvbWFrZUNoaWxkTWVzc2FnZUxpc3RlbmVyXCIpLCBvID0gZnVuY3Rpb24gKGUsIHQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG4oZSkgeyBmdW5jdGlvbiB0KGUsIHQpIHsgZSAmJiBlLm1hdGNoKHAuVkFMSURfVklTSVRPUl9JRF9SRUdFWCkgJiYgdChlKSB9IHQoZVtEXSwgZi5zZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCksIGYuX3NldEZpZWxkRXhwaXJlKGssIC0xKSwgdChlW0VdLCBmLnNldEFuYWx5dGljc1Zpc2l0b3JJRCkgfSBmdW5jdGlvbiByKGUpIHsgZSA9IGUgfHwge30sIGYuX3N1cHBsZW1lbnRhbERhdGFJREN1cnJlbnQgPSBlLnN1cHBsZW1lbnRhbERhdGFJREN1cnJlbnQgfHwgXCJcIiwgZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkID0gZS5zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQgfHwge30sIGYuX3N1cHBsZW1lbnRhbERhdGFJRExhc3QgPSBlLnN1cHBsZW1lbnRhbERhdGFJRExhc3QgfHwgXCJcIiwgZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkID0gZS5zdXBwbGVtZW50YWxEYXRhSURMYXN0Q29uc3VtZWQgfHwge30gfSBmdW5jdGlvbiBvKGUpIHsgZm9yICh2YXIgdCA9IFwiXCIsIGkgPSAwLCBuID0gZS5sZW5ndGg7IGkgPCBuOyBpKyspIHsgdmFyIHIgPSBlW2ldLCBhID0gclswXSwgcyA9IHJbMV07IG51bGwgIT0gcyAmJiBzICE9PSBMICYmICh0ID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgcmV0dXJuIGkgPSBpID8gaSArPSBcInxcIiA6IGksIGkgKz0gZSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHQpIH0oYSwgcywgdCkpIH0gcmV0dXJuIGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gUC5nZXRUaW1lc3RhbXBJblNlY29uZHMoKTsgcmV0dXJuIGUgPSBlID8gZSArPSBcInxcIiA6IGUsIGUgKz0gXCJUUz1cIiArIHQgfSh0KSB9IGZ1bmN0aW9uIGwoZSkgeyB2YXIgdCA9IGUubWludXRlc1RvTGl2ZSwgaSA9IFwiXCI7IHJldHVybiBmLmlkU3luY0Rpc2FibGVTeW5jcyAmJiAoaSA9IGkgfHwgXCJFcnJvcjogaWQgc3luY3MgaGF2ZSBiZWVuIGRpc2FibGVkXCIpLCBcInN0cmluZ1wiID09IHR5cGVvZiBlLmRwaWQgJiYgZS5kcGlkLmxlbmd0aCB8fCAoaSA9IGkgfHwgXCJFcnJvcjogY29uZmlnLmRwaWQgaXMgZW1wdHlcIiksIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUudXJsICYmIGUudXJsLmxlbmd0aCB8fCAoaSA9IGkgfHwgXCJFcnJvcjogY29uZmlnLnVybCBpcyBlbXB0eVwiKSwgdm9pZCAwID09PSB0ID8gdCA9IDIwMTYwIDogKHQgPSBwYXJzZUludCh0LCAxMCksIChpc05hTih0KSB8fCB0IDw9IDApICYmIChpID0gaSB8fCBcIkVycm9yOiBjb25maWcubWludXRlc1RvTGl2ZSBuZWVkcyB0byBiZSBhIHBvc2l0aXZlIG51bWJlclwiKSksIHsgZXJyb3I6IGksIHR0bDogdCB9IH0gZnVuY3Rpb24gdShlKSB7IGZvciAodmFyIHQgPSAwLCBpID0gZS5sZW5ndGg7IHQgPCBpOyB0KyspaWYgKCFwLlBPU0lUSVZFX0lOVF9SRUdFWC50ZXN0KGVbdF0pKSByZXR1cm4gITE7IHJldHVybiAhMCB9IGZ1bmN0aW9uIGMoZSwgdCkgeyBmb3IgKDsgZS5sZW5ndGggPCB0Lmxlbmd0aDspZS5wdXNoKFwiMFwiKTsgZm9yICg7IHQubGVuZ3RoIDwgZS5sZW5ndGg7KXQucHVzaChcIjBcIikgfSBmdW5jdGlvbiBkKGUsIHQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7IHZhciBuID0gcGFyc2VJbnQoZVtpXSwgMTApLCByID0gcGFyc2VJbnQodFtpXSwgMTApOyBpZiAobiA+IHIpIHJldHVybiAxOyBpZiAociA+IG4pIHJldHVybiAtMSB9IHJldHVybiAwIH0gaWYgKCFlKSB0aHJvdyBuZXcgRXJyb3IoXCJWaXNpdG9yIHJlcXVpcmVzIEFkb2JlIE1hcmtldGluZyBDbG91ZCBPcmcgSURcIik7IHZhciBmID0gdGhpczsgZi52ZXJzaW9uID0gXCIyLjMuMFwiOyB2YXIgZyA9IGksIF8gPSBnLlZpc2l0b3I7IF8udmVyc2lvbiA9IGYudmVyc2lvbiwgZy5zX2NfaW4gfHwgKGcuc19jX2lsID0gW10sIGcuc19jX2luID0gMCksIGYuX2MgPSBcIlZpc2l0b3JcIiwgZi5faWwgPSBnLnNfY19pbCwgZi5faW4gPSBnLnNfY19pbiwgZi5faWxbZi5faW5dID0gZiwgZy5zX2NfaW4rKyAsIGYuX2xvZyA9IHsgcmVxdWVzdHM6IFtdIH07IHZhciBtID0gZy5kb2N1bWVudCwgcCA9IHsgUE9TVF9NRVNTQUdFX0VOQUJMRUQ6ICEhZy5wb3N0TWVzc2FnZSwgREFZU19CRVRXRUVOX1NZTkNfSURfQ0FMTFM6IDEsIE1JTExJU19QRVJfREFZOiA4NjRlNSwgQURPQkVfTUM6IFwiYWRvYmVfbWNcIiwgQURPQkVfTUNfU0RJRDogXCJhZG9iZV9tY19zZGlkXCIsIFZBTElEX1ZJU0lUT1JfSURfUkVHRVg6IC9eWzAtOWEtZkEtRlxcLV0rJC8sIEFET0JFX01DX1RUTF9JTl9NSU46IDUsIFBPU0lUSVZFX0lOVF9SRUdFWDogL15cXGQrJC8sIFZFUlNJT05fUkVHRVg6IC92VmVyc2lvblxcfCgoXFxkK1xcLik/KFxcZCtcXC4pPyhcXCp8XFxkKykpKD89JHxcXHwpLywgSEFTX0pTT05fU1RSSU5HSUZZOiB3aW5kb3cuSlNPTiA9PT0gT2JqZWN0KHdpbmRvdy5KU09OKSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHdpbmRvdy5KU09OLnN0cmluZ2lmeSB9LCBoID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICFPYmplY3QucHJvdG90eXBlW2VdIH07IGYuX2hhc2ggPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCwgaSwgbiA9IDA7IGlmIChlKSBmb3IgKHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKylpID0gZS5jaGFyQ29kZUF0KHQpLCBuID0gKG4gPDwgNSkgLSBuICsgaSwgbiAmPSBuOyByZXR1cm4gbiB9LCBmLl9nZW5lcmF0ZUlEID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIGksIG4sIHIgPSBcIjAxMjM0NTY3ODlcIiwgYSA9IFwiXCIsIHMgPSBcIlwiLCBvID0gOCwgbCA9IDEwLCB1ID0gMTA7IGlmICh0ID09PSBEICYmIChOLmlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEID0gITApLCAxID09PSBlKSB7IGZvciAociArPSBcIkFCQ0RFRlwiLCBpID0gMDsgaSA8IDE2OyBpKyspbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG8pLCBhICs9IHIuc3Vic3RyaW5nKG4sIG4gKyAxKSwgbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG8pLCBzICs9IHIuc3Vic3RyaW5nKG4sIG4gKyAxKSwgbyA9IDE2OyByZXR1cm4gYSArIFwiLVwiICsgcyB9IGZvciAoaSA9IDA7IGkgPCAxOTsgaSsrKW4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsKSwgYSArPSByLnN1YnN0cmluZyhuLCBuICsgMSksIDAgPT09IGkgJiYgOSA9PT0gbiA/IGwgPSAzIDogKDEgPT09IGkgfHwgMiA9PT0gaSkgJiYgMTAgIT09IGwgJiYgbiA8IDIgPyBsID0gMTAgOiBpID4gMiAmJiAobCA9IDEwKSwgbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHUpLCBzICs9IHIuc3Vic3RyaW5nKG4sIG4gKyAxKSwgMCA9PT0gaSAmJiA5ID09PSBuID8gdSA9IDMgOiAoMSA9PT0gaSB8fCAyID09PSBpKSAmJiAxMCAhPT0gdSAmJiBuIDwgMiA/IHUgPSAxMCA6IGkgPiAyICYmICh1ID0gMTApOyByZXR1cm4gYSArIHMgfSwgZi5fZ2V0RG9tYWluID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQ7IGlmICghZSAmJiBnLmxvY2F0aW9uICYmIChlID0gZy5sb2NhdGlvbi5ob3N0bmFtZSksIHQgPSBlKSBpZiAoL15bMC05Ll0rJC8udGVzdCh0KSkgdCA9IFwiXCI7IGVsc2UgeyB2YXIgaSA9IFwiLGFjLGFkLGFlLGFmLGFnLGFpLGFsLGFtLGFuLGFvLGFxLGFyLGFzLGF0LGF1LGF3LGF4LGF6LGJhLGJiLGJlLGJmLGJnLGJoLGJpLGJqLGJtLGJvLGJyLGJzLGJ0LGJ2LGJ3LGJ5LGJ6LGNhLGNjLGNkLGNmLGNnLGNoLGNpLGNsLGNtLGNuLGNvLGNyLGN1LGN2LGN3LGN4LGN6LGRlLGRqLGRrLGRtLGRvLGR6LGVjLGVlLGVnLGVzLGV0LGV1LGZpLGZtLGZvLGZyLGdhLGdiLGdkLGdlLGdmLGdnLGdoLGdpLGdsLGdtLGduLGdwLGdxLGdyLGdzLGd0LGd3LGd5LGhrLGhtLGhuLGhyLGh0LGh1LGlkLGllLGltLGluLGlvLGlxLGlyLGlzLGl0LGplLGpvLGpwLGtnLGtpLGttLGtuLGtwLGtyLGt5LGt6LGxhLGxiLGxjLGxpLGxrLGxyLGxzLGx0LGx1LGx2LGx5LG1hLG1jLG1kLG1lLG1nLG1oLG1rLG1sLG1uLG1vLG1wLG1xLG1yLG1zLG10LG11LG12LG13LG14LG15LG5hLG5jLG5lLG5mLG5nLG5sLG5vLG5yLG51LG56LG9tLHBhLHBlLHBmLHBoLHBrLHBsLHBtLHBuLHByLHBzLHB0LHB3LHB5LHFhLHJlLHJvLHJzLHJ1LHJ3LHNhLHNiLHNjLHNkLHNlLHNnLHNoLHNpLHNqLHNrLHNsLHNtLHNuLHNvLHNyLHN0LHN1LHN2LHN4LHN5LHN6LHRjLHRkLHRmLHRnLHRoLHRqLHRrLHRsLHRtLHRuLHRvLHRwLHRyLHR0LHR2LHR3LHR6LHVhLHVnLHVrLHVzLHV5LHV6LHZhLHZjLHZlLHZnLHZpLHZuLHZ1LHdmLHdzLHl0LFwiLCBuID0gdC5zcGxpdChcIi5cIiksIHIgPSBuLmxlbmd0aCAtIDEsIGEgPSByIC0gMTsgaWYgKHIgPiAxICYmIG5bcl0ubGVuZ3RoIDw9IDIgJiYgKDIgPT09IG5bciAtIDFdLmxlbmd0aCB8fCBpLmluZGV4T2YoXCIsXCIgKyBuW3JdICsgXCIsXCIpIDwgMCkgJiYgYS0tICwgYSA+IDApIGZvciAodCA9IFwiXCI7IHIgPj0gYTspdCA9IG5bcl0gKyAodCA/IFwiLlwiIDogXCJcIikgKyB0LCByLS0gfSByZXR1cm4gdCB9LCBmLmNvb2tpZVJlYWQgPSBmdW5jdGlvbiAoZSkgeyBlID0gZW5jb2RlVVJJQ29tcG9uZW50KGUpOyB2YXIgdCA9IChcIjtcIiArIG0uY29va2llKS5zcGxpdChcIiBcIikuam9pbihcIjtcIiksIGkgPSB0LmluZGV4T2YoXCI7XCIgKyBlICsgXCI9XCIpLCBuID0gaSA8IDAgPyBpIDogdC5pbmRleE9mKFwiO1wiLCBpICsgMSk7IHJldHVybiBpIDwgMCA/IFwiXCIgOiBkZWNvZGVVUklDb21wb25lbnQodC5zdWJzdHJpbmcoaSArIDIgKyBlLmxlbmd0aCwgbiA8IDAgPyB0Lmxlbmd0aCA6IG4pKSB9LCBmLmNvb2tpZVdyaXRlID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4sIHIgPSBmLmNvb2tpZUxpZmV0aW1lOyBpZiAodCA9IFwiXCIgKyB0LCByID0gciA/IChcIlwiICsgcikudG9VcHBlckNhc2UoKSA6IFwiXCIsIGkgJiYgXCJTRVNTSU9OXCIgIT09IHIgJiYgXCJOT05FXCIgIT09IHIpIHsgaWYgKG4gPSBcIlwiICE9PSB0ID8gcGFyc2VJbnQociB8fCAwLCAxMCkgOiAtNjApIGkgPSBuZXcgRGF0ZSwgaS5zZXRUaW1lKGkuZ2V0VGltZSgpICsgMWUzICogbik7IGVsc2UgaWYgKDEgPT09IGkpIHsgaSA9IG5ldyBEYXRlOyB2YXIgYSA9IGkuZ2V0WWVhcigpOyBpLnNldFllYXIoYSArIDIgKyAoYSA8IDE5MDAgPyAxOTAwIDogMCkpIH0gfSBlbHNlIGkgPSAwOyByZXR1cm4gZSAmJiBcIk5PTkVcIiAhPT0gciA/IChtLmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChlKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHQpICsgXCI7IHBhdGg9LztcIiArIChpID8gXCIgZXhwaXJlcz1cIiArIGkudG9HTVRTdHJpbmcoKSArIFwiO1wiIDogXCJcIikgKyAoZi5jb29raWVEb21haW4gPyBcIiBkb21haW49XCIgKyBmLmNvb2tpZURvbWFpbiArIFwiO1wiIDogXCJcIiksIGYuY29va2llUmVhZChlKSA9PT0gdCkgOiAwIH0sIGYuX2NhbGxiYWNrTGlzdCA9IG51bGwsIGYuX2NhbGxDYWxsYmFjayA9IGZ1bmN0aW9uIChlLCB0KSB7IHRyeSB7IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSA/IGUuYXBwbHkoZywgdCkgOiBlWzFdLmFwcGx5KGVbMF0sIHQpIH0gY2F0Y2ggKGUpIHsgfSB9LCBmLl9yZWdpc3RlckNhbGxiYWNrID0gZnVuY3Rpb24gKGUsIHQpIHsgdCAmJiAobnVsbCA9PSBmLl9jYWxsYmFja0xpc3QgJiYgKGYuX2NhbGxiYWNrTGlzdCA9IHt9KSwgdm9pZCAwID09IGYuX2NhbGxiYWNrTGlzdFtlXSAmJiAoZi5fY2FsbGJhY2tMaXN0W2VdID0gW10pLCBmLl9jYWxsYmFja0xpc3RbZV0ucHVzaCh0KSkgfSwgZi5fY2FsbEFsbENhbGxiYWNrcyA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChudWxsICE9IGYuX2NhbGxiYWNrTGlzdCkgeyB2YXIgaSA9IGYuX2NhbGxiYWNrTGlzdFtlXTsgaWYgKGkpIGZvciAoOyBpLmxlbmd0aCA+IDA7KWYuX2NhbGxDYWxsYmFjayhpLnNoaWZ0KCksIHQpIH0gfSwgZi5fYWRkUXVlcnlzdHJpbmdQYXJhbSA9IGZ1bmN0aW9uIChlLCB0LCBpLCBuKSB7IHZhciByID0gZW5jb2RlVVJJQ29tcG9uZW50KHQpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoaSksIGEgPSBQLnBhcnNlSGFzaChlKSwgcyA9IFAuaGFzaGxlc3NVcmwoZSk7IGlmICgtMSA9PT0gcy5pbmRleE9mKFwiP1wiKSkgcmV0dXJuIHMgKyBcIj9cIiArIHIgKyBhOyB2YXIgbyA9IHMuc3BsaXQoXCI/XCIpLCBsID0gb1swXSArIFwiP1wiLCB1ID0gb1sxXTsgcmV0dXJuIGwgKyBQLmFkZFF1ZXJ5UGFyYW1BdExvY2F0aW9uKHUsIHIsIG4pICsgYSB9LCBmLl9leHRyYWN0UGFyYW1Gcm9tVXJpID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIGkgPSBuZXcgUmVnRXhwKFwiW1xcXFw/JiNdXCIgKyB0ICsgXCI9KFteJiNdKilcIiksIG4gPSBpLmV4ZWMoZSk7IGlmIChuICYmIG4ubGVuZ3RoKSByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KG5bMV0pIH0sIGYuX3BhcnNlQWRvYmVNY0Zyb21VcmwgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUgfHwgZy5sb2NhdGlvbi5ocmVmOyB0cnkgeyB2YXIgaSA9IGYuX2V4dHJhY3RQYXJhbUZyb21VcmkodCwgcC5BRE9CRV9NQyk7IGlmIChpKSByZXR1cm4gUC5wYXJzZVBpcGVEZWxpbWV0ZWRLZXlWYWx1ZXMoaSkgfSBjYXRjaCAoZSkgeyB9IH0sIGYuX3BhcnNlQWRvYmVNY1NkaWRGcm9tVXJsID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlIHx8IGcubG9jYXRpb24uaHJlZjsgdHJ5IHsgdmFyIGkgPSBmLl9leHRyYWN0UGFyYW1Gcm9tVXJpKHQsIHAuQURPQkVfTUNfU0RJRCk7IGlmIChpKSByZXR1cm4gUC5wYXJzZVBpcGVEZWxpbWV0ZWRLZXlWYWx1ZXMoaSkgfSBjYXRjaCAoZSkgeyB9IH0sIGYuX2F0dGVtcHRUb1BvcHVsYXRlU2RpZEZyb21VcmwgPSBmdW5jdGlvbiAodCkgeyB2YXIgaSA9IGYuX3BhcnNlQWRvYmVNY1NkaWRGcm9tVXJsKHQpLCBuID0gMWU5OyBpICYmIGkuVFMgJiYgKG4gPSBQLmdldFRpbWVzdGFtcEluU2Vjb25kcygpIC0gaS5UUyksIGkgJiYgaS5TRElEICYmIGlbSV0gPT09IGUgJiYgbiA8IGYuc2RpZFBhcmFtRXhwaXJ5ICYmIChmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50ID0gaS5TRElELCBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQuU0RJRF9VUkxfUEFSQU0gPSAhMCkgfSwgZi5fYXR0ZW1wdFRvUG9wdWxhdGVJZHNGcm9tVXJsID0gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IGYuX3BhcnNlQWRvYmVNY0Zyb21VcmwoKTsgaWYgKHQgJiYgdC5UUykgeyB2YXIgaSA9IFAuZ2V0VGltZXN0YW1wSW5TZWNvbmRzKCksIHIgPSBpIC0gdC5UUzsgaWYgKE1hdGguZmxvb3IociAvIDYwKSA+IHAuQURPQkVfTUNfVFRMX0lOX01JTiB8fCB0W0ldICE9PSBlKSByZXR1cm47IG4odCkgfSB9LCBmLnJlc2V0U3RhdGUgPSBmdW5jdGlvbiAoZSkgeyBlID8gZi5fbWVyZ2VTZXJ2ZXJTdGF0ZShlKSA6IHIoKSB9LCBmLl9tZXJnZVNlcnZlclN0YXRlID0gZnVuY3Rpb24gKGUpIHsgaWYgKGUpIHRyeSB7IGlmIChlID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIFAuaXNPYmplY3QoZSkgPyBlIDogUC5wYXJzZUpTT04oZSkgfShlKSwgZVtmLm1hcmtldGluZ0Nsb3VkT3JnSURdKSB7IHZhciB0ID0gZVtmLm1hcmtldGluZ0Nsb3VkT3JnSURdOyAhZnVuY3Rpb24gKGUpIHsgUC5pc09iamVjdChlKSAmJiBmLnNldEN1c3RvbWVySURzKGUpIH0odC5jdXN0b21lcklEcyksIHIodC5zZGlkKSB9IH0gY2F0Y2ggKGUpIHsgdGhyb3cgbmV3IEVycm9yKFwiYHNlcnZlclN0YXRlYCBoYXMgYW4gaW52YWxpZCBmb3JtYXQuXCIpIH0gfSwgZi5fdGltZW91dCA9IG51bGwsIGYuX2xvYWREYXRhID0gZnVuY3Rpb24gKGUsIHQsIGksIG4pIHsgdCA9IGYuX2FkZFF1ZXJ5c3RyaW5nUGFyYW0odCwgXCJkX2ZpZWxkZ3JvdXBcIiwgZSwgMSksIG4udXJsID0gZi5fYWRkUXVlcnlzdHJpbmdQYXJhbShuLnVybCwgXCJkX2ZpZWxkZ3JvdXBcIiwgZSwgMSksIG4uY29yc1VybCA9IGYuX2FkZFF1ZXJ5c3RyaW5nUGFyYW0obi5jb3JzVXJsLCBcImRfZmllbGRncm91cFwiLCBlLCAxKSwgTi5maWVsZEdyb3VwT2JqW2VdID0gITAsIG4gPT09IE9iamVjdChuKSAmJiBuLmNvcnNVcmwgJiYgXCJYTUxIdHRwUmVxdWVzdFwiID09PSBmLl9yZXF1ZXN0UHJvY3MuY29yc01ldGFkYXRhLmNvcnNUeXBlID8gZi5fcmVxdWVzdFByb2NzLmZpcmVDT1JTKG4sIGksIGUpIDogZi51c2VDT1JTT25seSB8fCBmLl9sb2FkSlNPTlAoZSwgdCwgaSkgfSwgZi5fbG9hZEpTT05QID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4sIHIgPSAwLCBhID0gMDsgaWYgKHQgJiYgbSkgeyBmb3IgKG4gPSAwOyAhciAmJiBuIDwgMjspIHsgdHJ5IHsgciA9IG0uZ2V0RWxlbWVudHNCeVRhZ05hbWUobiA+IDAgPyBcIkhFQURcIiA6IFwiaGVhZFwiKSwgciA9IHIgJiYgci5sZW5ndGggPiAwID8gclswXSA6IDAgfSBjYXRjaCAoZSkgeyByID0gMCB9IG4rKyB9IGlmICghcikgdHJ5IHsgbS5ib2R5ICYmIChyID0gbS5ib2R5KSB9IGNhdGNoIChlKSB7IHIgPSAwIH0gaWYgKHIpIGZvciAobiA9IDA7ICFhICYmIG4gPCAyOykgeyB0cnkgeyBhID0gbS5jcmVhdGVFbGVtZW50KG4gPiAwID8gXCJTQ1JJUFRcIiA6IFwic2NyaXB0XCIpIH0gY2F0Y2ggKGUpIHsgYSA9IDAgfSBuKysgfSB9IGlmICghdCB8fCAhciB8fCAhYSkgcmV0dXJuIHZvaWQgKGkgJiYgaSgpKTsgYS50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIiwgYS5zcmMgPSB0LCByLmZpcnN0Q2hpbGQgPyByLmluc2VydEJlZm9yZShhLCByLmZpcnN0Q2hpbGQpIDogci5hcHBlbmRDaGlsZChhKTsgdmFyIHMgPSBmLmxvYWRUaW1lb3V0OyBpICYmIChudWxsID09IGYuX3RpbWVvdXQgJiYgKGYuX3RpbWVvdXQgPSB7fSksIGYuX3RpbWVvdXRbZV0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgaSghMCkgfSwgcykpLCBmLl9sb2cucmVxdWVzdHMucHVzaCh0KSB9LCBmLl9jbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoZSkgeyBudWxsICE9IGYuX3RpbWVvdXQgJiYgZi5fdGltZW91dFtlXSAmJiAoY2xlYXJUaW1lb3V0KGYuX3RpbWVvdXRbZV0pLCBmLl90aW1lb3V0W2VdID0gMCkgfSwgZi5faXNBbGxvd2VkRG9uZSA9ICExLCBmLl9pc0FsbG93ZWRGbGFnID0gITEsIGYuaXNBbGxvd2VkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZi5faXNBbGxvd2VkRG9uZSB8fCAoZi5faXNBbGxvd2VkRG9uZSA9ICEwLCAoZi5jb29raWVSZWFkKGYuY29va2llTmFtZSkgfHwgZi5jb29raWVXcml0ZShmLmNvb2tpZU5hbWUsIFwiVFwiLCAxKSkgJiYgKGYuX2lzQWxsb3dlZEZsYWcgPSAhMCkpLCBmLl9pc0FsbG93ZWRGbGFnIH0sIGYuX2ZpZWxkcyA9IG51bGwsIGYuX2ZpZWxkc0V4cGlyZWQgPSBudWxsOyB2YXIgUyA9IFwiTUNcIiwgRCA9IFwiTUNNSURcIiwgSSA9IFwiTUNPUkdJRFwiLCBDID0gXCJNQ0NJREhcIiwgdiA9IFwiTUNTWU5DU1wiLCBBID0gXCJNQ1NZTkNTT1BcIiwgeSA9IFwiTUNJRFRTXCIsIE0gPSBcIk1DT1BUT1VUXCIsIGIgPSBcIkFcIiwgRSA9IFwiTUNBSURcIiwgTyA9IFwiQUFNXCIsIFQgPSBcIk1DQUFNTEhcIiwgayA9IFwiTUNBQU1CXCIsIEwgPSBcIk5PTkVcIjsgZi5fc2V0dGluZ3NEaWdlc3QgPSAwLCBmLl9nZXRTZXR0aW5nc0RpZ2VzdCA9IGZ1bmN0aW9uICgpIHsgaWYgKCFmLl9zZXR0aW5nc0RpZ2VzdCkgeyB2YXIgZSA9IGYudmVyc2lvbjsgZi5hdWRpZW5jZU1hbmFnZXJTZXJ2ZXIgJiYgKGUgKz0gXCJ8XCIgKyBmLmF1ZGllbmNlTWFuYWdlclNlcnZlciksIGYuYXVkaWVuY2VNYW5hZ2VyU2VydmVyU2VjdXJlICYmIChlICs9IFwifFwiICsgZi5hdWRpZW5jZU1hbmFnZXJTZXJ2ZXJTZWN1cmUpLCBmLl9zZXR0aW5nc0RpZ2VzdCA9IGYuX2hhc2goZSkgfSByZXR1cm4gZi5fc2V0dGluZ3NEaWdlc3QgfSwgZi5fcmVhZFZpc2l0b3JEb25lID0gITEsIGYuX3JlYWRWaXNpdG9yID0gZnVuY3Rpb24gKCkgeyBpZiAoIWYuX3JlYWRWaXNpdG9yRG9uZSkgeyBmLl9yZWFkVmlzaXRvckRvbmUgPSAhMDsgdmFyIGUsIHQsIGksIG4sIHIsIGEsIHMgPSBmLl9nZXRTZXR0aW5nc0RpZ2VzdCgpLCBvID0gITEsIGwgPSBmLmNvb2tpZVJlYWQoZi5jb29raWVOYW1lKSwgdSA9IG5ldyBEYXRlOyBpZiAobnVsbCA9PSBmLl9maWVsZHMgJiYgKGYuX2ZpZWxkcyA9IHt9KSwgbCAmJiBcIlRcIiAhPT0gbCkgZm9yIChsID0gbC5zcGxpdChcInxcIiksIGxbMF0ubWF0Y2goL15bXFwtMC05XSskLykgJiYgKHBhcnNlSW50KGxbMF0sIDEwKSAhPT0gcyAmJiAobyA9ICEwKSwgbC5zaGlmdCgpKSwgbC5sZW5ndGggJSAyID09IDEgJiYgbC5wb3AoKSwgZSA9IDA7IGUgPCBsLmxlbmd0aDsgZSArPSAyKXQgPSBsW2VdLnNwbGl0KFwiLVwiKSwgaSA9IHRbMF0sIG4gPSBsW2UgKyAxXSwgdC5sZW5ndGggPiAxID8gKHIgPSBwYXJzZUludCh0WzFdLCAxMCksIGEgPSB0WzFdLmluZGV4T2YoXCJzXCIpID4gMCkgOiAociA9IDAsIGEgPSAhMSksIG8gJiYgKGkgPT09IEMgJiYgKG4gPSBcIlwiKSwgciA+IDAgJiYgKHIgPSB1LmdldFRpbWUoKSAvIDFlMyAtIDYwKSksIGkgJiYgbiAmJiAoZi5fc2V0RmllbGQoaSwgbiwgMSksIHIgPiAwICYmIChmLl9maWVsZHNbXCJleHBpcmVcIiArIGldID0gciArIChhID8gXCJzXCIgOiBcIlwiKSwgKHUuZ2V0VGltZSgpID49IDFlMyAqIHIgfHwgYSAmJiAhZi5jb29raWVSZWFkKGYuc2Vzc2lvbkNvb2tpZU5hbWUpKSAmJiAoZi5fZmllbGRzRXhwaXJlZCB8fCAoZi5fZmllbGRzRXhwaXJlZCA9IHt9KSwgZi5fZmllbGRzRXhwaXJlZFtpXSA9ICEwKSkpOyAhZi5fZ2V0RmllbGQoRSkgJiYgUC5pc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkKCkgJiYgKGwgPSBmLmNvb2tpZVJlYWQoXCJzX3ZpXCIpKSAmJiAobCA9IGwuc3BsaXQoXCJ8XCIpLCBsLmxlbmd0aCA+IDEgJiYgbFswXS5pbmRleE9mKFwidjFcIikgPj0gMCAmJiAobiA9IGxbMV0sIGUgPSBuLmluZGV4T2YoXCJbXCIpLCBlID49IDAgJiYgKG4gPSBuLnN1YnN0cmluZygwLCBlKSksIG4gJiYgbi5tYXRjaChwLlZBTElEX1ZJU0lUT1JfSURfUkVHRVgpICYmIGYuX3NldEZpZWxkKEUsIG4pKSkgfSB9LCBmLl9hcHBlbmRWZXJzaW9uVG8gPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IFwidlZlcnNpb258XCIgKyBmLnZlcnNpb24sIGkgPSBlID8gZi5fZ2V0Q29va2llVmVyc2lvbihlKSA6IG51bGw7IHJldHVybiBpID8gUC5hcmVWZXJzaW9uc0RpZmZlcmVudChpLCBmLnZlcnNpb24pICYmIChlID0gZS5yZXBsYWNlKHAuVkVSU0lPTl9SRUdFWCwgdCkpIDogZSArPSAoZSA/IFwifFwiIDogXCJcIikgKyB0LCBlIH0sIGYuX3dyaXRlVmlzaXRvciA9IGZ1bmN0aW9uICgpIHsgdmFyIGUsIHQsIGkgPSBmLl9nZXRTZXR0aW5nc0RpZ2VzdCgpOyBmb3IgKGUgaW4gZi5fZmllbGRzKSBoKGUpICYmIGYuX2ZpZWxkc1tlXSAmJiBcImV4cGlyZVwiICE9PSBlLnN1YnN0cmluZygwLCA2KSAmJiAodCA9IGYuX2ZpZWxkc1tlXSwgaSArPSAoaSA/IFwifFwiIDogXCJcIikgKyBlICsgKGYuX2ZpZWxkc1tcImV4cGlyZVwiICsgZV0gPyBcIi1cIiArIGYuX2ZpZWxkc1tcImV4cGlyZVwiICsgZV0gOiBcIlwiKSArIFwifFwiICsgdCk7IGkgPSBmLl9hcHBlbmRWZXJzaW9uVG8oaSksIGYuY29va2llV3JpdGUoZi5jb29raWVOYW1lLCBpLCAxKSB9LCBmLl9nZXRGaWVsZCA9IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBudWxsID09IGYuX2ZpZWxkcyB8fCAhdCAmJiBmLl9maWVsZHNFeHBpcmVkICYmIGYuX2ZpZWxkc0V4cGlyZWRbZV0gPyBudWxsIDogZi5fZmllbGRzW2VdIH0sIGYuX3NldEZpZWxkID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgbnVsbCA9PSBmLl9maWVsZHMgJiYgKGYuX2ZpZWxkcyA9IHt9KSwgZi5fZmllbGRzW2VdID0gdCwgaSB8fCBmLl93cml0ZVZpc2l0b3IoKSB9LCBmLl9nZXRGaWVsZExpc3QgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgaSA9IGYuX2dldEZpZWxkKGUsIHQpOyByZXR1cm4gaSA/IGkuc3BsaXQoXCIqXCIpIDogbnVsbCB9LCBmLl9zZXRGaWVsZExpc3QgPSBmdW5jdGlvbiAoZSwgdCwgaSkgeyBmLl9zZXRGaWVsZChlLCB0ID8gdC5qb2luKFwiKlwiKSA6IFwiXCIsIGkpIH0sIGYuX2dldEZpZWxkTWFwID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIGkgPSBmLl9nZXRGaWVsZExpc3QoZSwgdCk7IGlmIChpKSB7IHZhciBuLCByID0ge307IGZvciAobiA9IDA7IG4gPCBpLmxlbmd0aDsgbiArPSAyKXJbaVtuXV0gPSBpW24gKyAxXTsgcmV0dXJuIHIgfSByZXR1cm4gbnVsbCB9LCBmLl9zZXRGaWVsZE1hcCA9IGZ1bmN0aW9uIChlLCB0LCBpKSB7IHZhciBuLCByID0gbnVsbDsgaWYgKHQpIHsgciA9IFtdOyBmb3IgKG4gaW4gdCkgaChuKSAmJiAoci5wdXNoKG4pLCByLnB1c2godFtuXSkpIH0gZi5fc2V0RmllbGRMaXN0KGUsIHIsIGkpIH0sIGYuX3NldEZpZWxkRXhwaXJlID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4gPSBuZXcgRGF0ZTsgbi5zZXRUaW1lKG4uZ2V0VGltZSgpICsgMWUzICogdCksIG51bGwgPT0gZi5fZmllbGRzICYmIChmLl9maWVsZHMgPSB7fSksIGYuX2ZpZWxkc1tcImV4cGlyZVwiICsgZV0gPSBNYXRoLmZsb29yKG4uZ2V0VGltZSgpIC8gMWUzKSArIChpID8gXCJzXCIgOiBcIlwiKSwgdCA8IDAgPyAoZi5fZmllbGRzRXhwaXJlZCB8fCAoZi5fZmllbGRzRXhwaXJlZCA9IHt9KSwgZi5fZmllbGRzRXhwaXJlZFtlXSA9ICEwKSA6IGYuX2ZpZWxkc0V4cGlyZWQgJiYgKGYuX2ZpZWxkc0V4cGlyZWRbZV0gPSAhMSksIGkgJiYgKGYuY29va2llUmVhZChmLnNlc3Npb25Db29raWVOYW1lKSB8fCBmLmNvb2tpZVdyaXRlKGYuc2Vzc2lvbkNvb2tpZU5hbWUsIFwiMVwiKSkgfSwgZi5fZmluZFZpc2l0b3JJRCA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlICYmIChcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIChlID0gZS5kX21pZCA/IGUuZF9taWQgOiBlLnZpc2l0b3JJRCA/IGUudmlzaXRvcklEIDogZS5pZCA/IGUuaWQgOiBlLnV1aWQgPyBlLnV1aWQgOiBcIlwiICsgZSksIGUgJiYgXCJOT1RBUkdFVFwiID09PSAoZSA9IGUudG9VcHBlckNhc2UoKSkgJiYgKGUgPSBMKSwgZSAmJiAoZSA9PT0gTCB8fCBlLm1hdGNoKHAuVkFMSURfVklTSVRPUl9JRF9SRUdFWCkpIHx8IChlID0gXCJcIikpLCBlIH0sIGYuX3NldEZpZWxkcyA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChmLl9jbGVhclRpbWVvdXQoZSksIG51bGwgIT0gZi5fbG9hZGluZyAmJiAoZi5fbG9hZGluZ1tlXSA9ICExKSwgTi5maWVsZEdyb3VwT2JqW2VdICYmIE4uc2V0U3RhdGUoZSwgITEpLCBlID09PSBTKSB7ICEwICE9PSBOLmlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEICYmIChOLmlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEID0gITEpOyB2YXIgaSA9IGYuX2dldEZpZWxkKEQpOyBpZiAoIWkgfHwgZi5vdmVyd3JpdGVDcm9zc0RvbWFpbk1DSURBbmRBSUQpIHsgaWYgKCEoaSA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIHQgJiYgdC5taWQgPyB0Lm1pZCA6IGYuX2ZpbmRWaXNpdG9ySUQodCkpKSB7IGlmIChmLl91c2Uxc3RQYXJ0eU1hcmtldGluZ0Nsb3VkU2VydmVyICYmICFmLnRyaWVkMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlcikgcmV0dXJuIGYudHJpZWQxc3RQYXJ0eU1hcmtldGluZ0Nsb3VkU2VydmVyID0gITAsIHZvaWQgZi5nZXRBbmFseXRpY3NWaXNpdG9ySUQobnVsbCwgITEsICEwKTsgaSA9IGYuX2dlbmVyYXRlSUQoMCwgRCkgfSBmLl9zZXRGaWVsZChELCBpKSB9IGkgJiYgaSAhPT0gTCB8fCAoaSA9IFwiXCIpLCBcIm9iamVjdFwiID09IHR5cGVvZiB0ICYmICgodC5kX3JlZ2lvbiB8fCB0LmRjc19yZWdpb24gfHwgdC5kX2Jsb2IgfHwgdC5ibG9iKSAmJiBmLl9zZXRGaWVsZHMoTywgdCksIGYuX3VzZTFzdFBhcnR5TWFya2V0aW5nQ2xvdWRTZXJ2ZXIgJiYgdC5taWQgJiYgZi5fc2V0RmllbGRzKGIsIHsgaWQ6IHQuaWQgfSkpLCBmLl9jYWxsQWxsQ2FsbGJhY2tzKEQsIFtpXSkgfSBpZiAoZSA9PT0gTyAmJiBcIm9iamVjdFwiID09IHR5cGVvZiB0KSB7IHZhciBuID0gNjA0ODAwOyB2b2lkIDAgIT0gdC5pZF9zeW5jX3R0bCAmJiB0LmlkX3N5bmNfdHRsICYmIChuID0gcGFyc2VJbnQodC5pZF9zeW5jX3R0bCwgMTApKTsgdmFyIHIgPSBmLl9nZXRGaWVsZChUKTsgciB8fCAociA9IHQuZF9yZWdpb24sIHIgfHwgKHIgPSB0LmRjc19yZWdpb24pLCByICYmIChmLl9zZXRGaWVsZEV4cGlyZShULCBuKSwgZi5fc2V0RmllbGQoVCwgcikpKSwgciB8fCAociA9IFwiXCIpLCBmLl9jYWxsQWxsQ2FsbGJhY2tzKFQsIFtyXSk7IHZhciBhID0gZi5fZ2V0RmllbGQoayk7ICh0LmRfYmxvYiB8fCB0LmJsb2IpICYmIChhID0gdC5kX2Jsb2IsIGEgfHwgKGEgPSB0LmJsb2IpLCBmLl9zZXRGaWVsZEV4cGlyZShrLCBuKSwgZi5fc2V0RmllbGQoaywgYSkpLCBhIHx8IChhID0gXCJcIiksIGYuX2NhbGxBbGxDYWxsYmFja3MoaywgW2FdKSwgIXQuZXJyb3JfbXNnICYmIGYuX25ld0N1c3RvbWVySURzSGFzaCAmJiBmLl9zZXRGaWVsZChDLCBmLl9uZXdDdXN0b21lcklEc0hhc2gpIH0gaWYgKGUgPT09IGIpIHsgdmFyIHMgPSBmLl9nZXRGaWVsZChFKTsgcyAmJiAhZi5vdmVyd3JpdGVDcm9zc0RvbWFpbk1DSURBbmRBSUQgfHwgKHMgPSBmLl9maW5kVmlzaXRvcklEKHQpLCBzID8gcyAhPT0gTCAmJiBmLl9zZXRGaWVsZEV4cGlyZShrLCAtMSkgOiBzID0gTCwgZi5fc2V0RmllbGQoRSwgcykpLCBzICYmIHMgIT09IEwgfHwgKHMgPSBcIlwiKSwgZi5fY2FsbEFsbENhbGxiYWNrcyhFLCBbc10pIH0gaWYgKGYuaWRTeW5jRGlzYWJsZVN5bmNzKSB3LmlkQ2FsbE5vdFByb2Nlc3NzZWQgPSAhMDsgZWxzZSB7IHcuaWRDYWxsTm90UHJvY2Vzc3NlZCA9ICExOyB2YXIgbyA9IHt9OyBvLmlicyA9IHQuaWJzLCBvLnN1YmRvbWFpbiA9IHQuc3ViZG9tYWluLCB3LnByb2Nlc3NJRENhbGxEYXRhKG8pIH0gaWYgKHQgPT09IE9iamVjdCh0KSkgeyB2YXIgbCwgdTsgZi5pc0FsbG93ZWQoKSAmJiAobCA9IGYuX2dldEZpZWxkKE0pKSwgbCB8fCAobCA9IEwsIHQuZF9vcHRvdXQgJiYgdC5kX29wdG91dCBpbnN0YW5jZW9mIEFycmF5ICYmIChsID0gdC5kX29wdG91dC5qb2luKFwiLFwiKSksIHUgPSBwYXJzZUludCh0LmRfb3R0bCwgMTApLCBpc05hTih1KSAmJiAodSA9IDcyMDApLCBmLl9zZXRGaWVsZEV4cGlyZShNLCB1LCAhMCksIGYuX3NldEZpZWxkKE0sIGwpKSwgZi5fY2FsbEFsbENhbGxiYWNrcyhNLCBbbF0pIH0gfSwgZi5fbG9hZGluZyA9IG51bGwsIGYuX2dldFJlbW90ZUZpZWxkID0gZnVuY3Rpb24gKGUsIHQsIGksIG4sIHIpIHsgdmFyIGEsIHMgPSBcIlwiLCBvID0gUC5pc0ZpcnN0UGFydHlBbmFseXRpY3NWaXNpdG9ySURDYWxsKGUpOyBpZiAoZi5pc0FsbG93ZWQoKSkgeyBmLl9yZWFkVmlzaXRvcigpLCBzID0gZi5fZ2V0RmllbGQoZSwgITAgPT09IHhbZV0pOyBpZiAoZnVuY3Rpb24gKCkgeyByZXR1cm4gKCFzIHx8IGYuX2ZpZWxkc0V4cGlyZWQgJiYgZi5fZmllbGRzRXhwaXJlZFtlXSkgJiYgKCFmLmRpc2FibGVUaGlyZFBhcnR5Q2FsbHMgfHwgbykgfSgpKSB7IGlmIChlID09PSBEIHx8IGUgPT09IE0gPyBhID0gUyA6IGUgPT09IFQgfHwgZSA9PT0gayA/IGEgPSBPIDogZSA9PT0gRSAmJiAoYSA9IGIpLCBhKSByZXR1cm4gIXQgfHwgbnVsbCAhPSBmLl9sb2FkaW5nICYmIGYuX2xvYWRpbmdbYV0gfHwgKG51bGwgPT0gZi5fbG9hZGluZyAmJiAoZi5fbG9hZGluZyA9IHt9KSwgZi5fbG9hZGluZ1thXSA9ICEwLCBmLl9sb2FkRGF0YShhLCB0LCBmdW5jdGlvbiAodCkgeyBpZiAoIWYuX2dldEZpZWxkKGUpKSB7IHQgJiYgTi5zZXRTdGF0ZShhLCAhMCk7IHZhciBpID0gXCJcIjsgZSA9PT0gRCA/IGkgPSBmLl9nZW5lcmF0ZUlEKDAsIEQpIDogYSA9PT0gTyAmJiAoaSA9IHsgZXJyb3JfbXNnOiBcInRpbWVvdXRcIiB9KSwgZi5fc2V0RmllbGRzKGEsIGkpIH0gfSwgcikpLCBmLl9yZWdpc3RlckNhbGxiYWNrKGUsIGkpLCBzIHx8ICh0IHx8IGYuX3NldEZpZWxkcyhhLCB7IGlkOiBMIH0pLCBcIlwiKSB9IGVsc2UgcyB8fCAoZSA9PT0gRCA/IChmLl9yZWdpc3RlckNhbGxiYWNrKGUsIGkpLCBzID0gZi5fZ2VuZXJhdGVJRCgwLCBEKSwgZi5zZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRChzKSkgOiBlID09PSBFID8gKGYuX3JlZ2lzdGVyQ2FsbGJhY2soZSwgaSksIHMgPSBcIlwiLCBmLnNldEFuYWx5dGljc1Zpc2l0b3JJRChzKSkgOiAocyA9IFwiXCIsIG4gPSAhMCkpIH0gcmV0dXJuIGUgIT09IEQgJiYgZSAhPT0gRSB8fCBzICE9PSBMIHx8IChzID0gXCJcIiwgbiA9ICEwKSwgaSAmJiBuICYmIGYuX2NhbGxDYWxsYmFjayhpLCBbc10pLCBzIH0sIGYuX3NldE1hcmtldGluZ0Nsb3VkRmllbGRzID0gZnVuY3Rpb24gKGUpIHsgZi5fcmVhZFZpc2l0b3IoKSwgZi5fc2V0RmllbGRzKFMsIGUpIH0sIGYuc2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgPSBmdW5jdGlvbiAoZSkgeyBmLl9zZXRNYXJrZXRpbmdDbG91ZEZpZWxkcyhlKSB9LCBmLl91c2Uxc3RQYXJ0eU1hcmtldGluZ0Nsb3VkU2VydmVyID0gITEsIGYuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoZi5pc0FsbG93ZWQoKSkgeyBmLm1hcmtldGluZ0Nsb3VkU2VydmVyICYmIGYubWFya2V0aW5nQ2xvdWRTZXJ2ZXIuaW5kZXhPZihcIi5kZW1kZXgubmV0XCIpIDwgMCAmJiAoZi5fdXNlMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlciA9ICEwKTsgdmFyIGkgPSBmLl9nZXRBdWRpZW5jZU1hbmFnZXJVUkxEYXRhKFwiX3NldE1hcmtldGluZ0Nsb3VkRmllbGRzXCIpLCBuID0gaS51cmw7IHJldHVybiBmLl9nZXRSZW1vdGVGaWVsZChELCBuLCBlLCB0LCBpKSB9IHJldHVybiBcIlwiIH0sIGYuX21hcEN1c3RvbWVySURzID0gZnVuY3Rpb24gKGUpIHsgZi5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKGUsICEwKSB9LCBfLkF1dGhTdGF0ZSA9IHsgVU5LTk9XTjogMCwgQVVUSEVOVElDQVRFRDogMSwgTE9HR0VEX09VVDogMiB9LCBmLl9jdXJyZW50Q3VzdG9tZXJJRHMgPSB7fSwgZi5fY3VzdG9tZXJJRHNIYXNoQ2hhbmdlZCA9ICExLCBmLl9uZXdDdXN0b21lcklEc0hhc2ggPSBcIlwiLCBmLnNldEN1c3RvbWVySURzID0gZnVuY3Rpb24gKGUpIHsgZnVuY3Rpb24gdCgpIHsgZi5fY3VzdG9tZXJJRHNIYXNoQ2hhbmdlZCA9ICExIH0gaWYgKGYuaXNBbGxvd2VkKCkgJiYgZSkgeyBmLl9yZWFkVmlzaXRvcigpOyB2YXIgaSwgbjsgZm9yIChpIGluIGUpIGlmIChoKGkpICYmIChuID0gZVtpXSkpIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBuKSB7IHZhciByID0ge307IG4uaWQgJiYgKHIuaWQgPSBuLmlkKSwgdm9pZCAwICE9IG4uYXV0aFN0YXRlICYmIChyLmF1dGhTdGF0ZSA9IG4uYXV0aFN0YXRlKSwgZi5fY3VycmVudEN1c3RvbWVySURzW2ldID0gciB9IGVsc2UgZi5fY3VycmVudEN1c3RvbWVySURzW2ldID0geyBpZDogbiB9OyB2YXIgYSA9IGYuZ2V0Q3VzdG9tZXJJRHMoKSwgcyA9IGYuX2dldEZpZWxkKEMpLCBvID0gXCJcIjsgcyB8fCAocyA9IDApOyBmb3IgKGkgaW4gYSkgaChpKSAmJiAobiA9IGFbaV0sIG8gKz0gKG8gPyBcInxcIiA6IFwiXCIpICsgaSArIFwifFwiICsgKG4uaWQgPyBuLmlkIDogXCJcIikgKyAobi5hdXRoU3RhdGUgPyBuLmF1dGhTdGF0ZSA6IFwiXCIpKTsgZi5fbmV3Q3VzdG9tZXJJRHNIYXNoID0gZi5faGFzaChvKSwgZi5fbmV3Q3VzdG9tZXJJRHNIYXNoICE9PSBzICYmIChmLl9jdXN0b21lcklEc0hhc2hDaGFuZ2VkID0gITAsIGYuX21hcEN1c3RvbWVySURzKHQpKSB9IH0sIGYuZ2V0Q3VzdG9tZXJJRHMgPSBmdW5jdGlvbiAoKSB7IGYuX3JlYWRWaXNpdG9yKCk7IHZhciBlLCB0LCBpID0ge307IGZvciAoZSBpbiBmLl9jdXJyZW50Q3VzdG9tZXJJRHMpIGgoZSkgJiYgKHQgPSBmLl9jdXJyZW50Q3VzdG9tZXJJRHNbZV0sIGlbZV0gfHwgKGlbZV0gPSB7fSksIHQuaWQgJiYgKGlbZV0uaWQgPSB0LmlkKSwgdm9pZCAwICE9IHQuYXV0aFN0YXRlID8gaVtlXS5hdXRoU3RhdGUgPSB0LmF1dGhTdGF0ZSA6IGlbZV0uYXV0aFN0YXRlID0gXy5BdXRoU3RhdGUuVU5LTk9XTik7IHJldHVybiBpIH0sIGYuX3NldEFuYWx5dGljc0ZpZWxkcyA9IGZ1bmN0aW9uIChlKSB7IGYuX3JlYWRWaXNpdG9yKCksIGYuX3NldEZpZWxkcyhiLCBlKSB9LCBmLnNldEFuYWx5dGljc1Zpc2l0b3JJRCA9IGZ1bmN0aW9uIChlKSB7IGYuX3NldEFuYWx5dGljc0ZpZWxkcyhlKSB9LCBmLmdldEFuYWx5dGljc1Zpc2l0b3JJRCA9IGZ1bmN0aW9uIChlLCB0LCBpKSB7IGlmICghUC5pc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkKCkgJiYgIWkpIHJldHVybiBmLl9jYWxsQ2FsbGJhY2soZSwgW1wiXCJdKSwgXCJcIjsgaWYgKGYuaXNBbGxvd2VkKCkpIHsgdmFyIG4gPSBcIlwiOyBpZiAoaSB8fCAobiA9IGYuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoZnVuY3Rpb24gKHQpIHsgZi5nZXRBbmFseXRpY3NWaXNpdG9ySUQoZSwgITApIH0pKSwgbiB8fCBpKSB7IHZhciByID0gaSA/IGYubWFya2V0aW5nQ2xvdWRTZXJ2ZXIgOiBmLnRyYWNraW5nU2VydmVyLCBhID0gXCJcIjsgZi5sb2FkU1NMICYmIChpID8gZi5tYXJrZXRpbmdDbG91ZFNlcnZlclNlY3VyZSAmJiAociA9IGYubWFya2V0aW5nQ2xvdWRTZXJ2ZXJTZWN1cmUpIDogZi50cmFja2luZ1NlcnZlclNlY3VyZSAmJiAociA9IGYudHJhY2tpbmdTZXJ2ZXJTZWN1cmUpKTsgdmFyIHMgPSB7fTsgaWYgKHIpIHsgdmFyIG8gPSBcImh0dHBcIiArIChmLmxvYWRTU0wgPyBcInNcIiA6IFwiXCIpICsgXCI6Ly9cIiArIHIgKyBcIi9pZFwiLCBsID0gXCJkX3Zpc2lkX3Zlcj1cIiArIGYudmVyc2lvbiArIFwiJm1jb3JnaWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZi5tYXJrZXRpbmdDbG91ZE9yZ0lEKSArIChuID8gXCImbWlkPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pIDogXCJcIikgKyAoZi5pZFN5bmNEaXNhYmxlM3JkUGFydHlTeW5jaW5nID8gXCImZF9jb3BwYT10cnVlXCIgOiBcIlwiKSwgdSA9IFtcInNfY19pbFwiLCBmLl9pbiwgXCJfc2V0XCIgKyAoaSA/IFwiTWFya2V0aW5nQ2xvdWRcIiA6IFwiQW5hbHl0aWNzXCIpICsgXCJGaWVsZHNcIl07IGEgPSBvICsgXCI/XCIgKyBsICsgXCImY2FsbGJhY2s9c19jX2lsJTVCXCIgKyBmLl9pbiArIFwiJTVELl9zZXRcIiArIChpID8gXCJNYXJrZXRpbmdDbG91ZFwiIDogXCJBbmFseXRpY3NcIikgKyBcIkZpZWxkc1wiLCBzLmNvcnNVcmwgPSBvICsgXCI/XCIgKyBsLCBzLmNhbGxiYWNrID0gdSB9IHJldHVybiBzLnVybCA9IGEsIGYuX2dldFJlbW90ZUZpZWxkKGkgPyBEIDogRSwgYSwgZSwgdCwgcykgfSB9IHJldHVybiBcIlwiIH0sIGYuX3NldEF1ZGllbmNlTWFuYWdlckZpZWxkcyA9IGZ1bmN0aW9uIChlKSB7IGYuX3JlYWRWaXNpdG9yKCksIGYuX3NldEZpZWxkcyhPLCBlKSB9LCBmLl9nZXRBdWRpZW5jZU1hbmFnZXJVUkxEYXRhID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBmLmF1ZGllbmNlTWFuYWdlclNlcnZlciwgaSA9IFwiXCIsIG4gPSBmLl9nZXRGaWVsZChEKSwgciA9IGYuX2dldEZpZWxkKGssICEwKSwgYSA9IGYuX2dldEZpZWxkKEUpLCBzID0gYSAmJiBhICE9PSBMID8gXCImZF9jaWRfaWM9QVZJRCUwMVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGEpIDogXCJcIjsgaWYgKGYubG9hZFNTTCAmJiBmLmF1ZGllbmNlTWFuYWdlclNlcnZlclNlY3VyZSAmJiAodCA9IGYuYXVkaWVuY2VNYW5hZ2VyU2VydmVyU2VjdXJlKSwgdCkgeyB2YXIgbywgbCwgdSA9IGYuZ2V0Q3VzdG9tZXJJRHMoKTsgaWYgKHUpIGZvciAobyBpbiB1KSBoKG8pICYmIChsID0gdVtvXSwgcyArPSBcIiZkX2NpZF9pYz1cIiArIGVuY29kZVVSSUNvbXBvbmVudChvKSArIFwiJTAxXCIgKyBlbmNvZGVVUklDb21wb25lbnQobC5pZCA/IGwuaWQgOiBcIlwiKSArIChsLmF1dGhTdGF0ZSA/IFwiJTAxXCIgKyBsLmF1dGhTdGF0ZSA6IFwiXCIpKTsgZSB8fCAoZSA9IFwiX3NldEF1ZGllbmNlTWFuYWdlckZpZWxkc1wiKTsgdmFyIGMgPSBcImh0dHBcIiArIChmLmxvYWRTU0wgPyBcInNcIiA6IFwiXCIpICsgXCI6Ly9cIiArIHQgKyBcIi9pZFwiLCBkID0gXCJkX3Zpc2lkX3Zlcj1cIiArIGYudmVyc2lvbiArIFwiJmRfcnRiZD1qc29uJmRfdmVyPTJcIiArICghbiAmJiBmLl91c2Uxc3RQYXJ0eU1hcmtldGluZ0Nsb3VkU2VydmVyID8gXCImZF92ZXJpZnk9MVwiIDogXCJcIikgKyBcIiZkX29yZ2lkPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGYubWFya2V0aW5nQ2xvdWRPcmdJRCkgKyBcIiZkX25zaWQ9XCIgKyAoZi5pZFN5bmNDb250YWluZXJJRCB8fCAwKSArIChuID8gXCImZF9taWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQobikgOiBcIlwiKSArIChmLmlkU3luY0Rpc2FibGUzcmRQYXJ0eVN5bmNpbmcgPyBcIiZkX2NvcHBhPXRydWVcIiA6IFwiXCIpICsgKHIgPyBcIiZkX2Jsb2I9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocikgOiBcIlwiKSArIHMsIGcgPSBbXCJzX2NfaWxcIiwgZi5faW4sIGVdOyByZXR1cm4gaSA9IGMgKyBcIj9cIiArIGQgKyBcIiZkX2NiPXNfY19pbCU1QlwiICsgZi5faW4gKyBcIiU1RC5cIiArIGUsIHsgdXJsOiBpLCBjb3JzVXJsOiBjICsgXCI/XCIgKyBkLCBjYWxsYmFjazogZyB9IH0gcmV0dXJuIHsgdXJsOiBpIH0gfSwgZi5nZXRBdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoZi5pc0FsbG93ZWQoKSkgeyBpZiAoZi5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRChmdW5jdGlvbiAodCkgeyBmLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludChlLCAhMCkgfSkpIHsgdmFyIGkgPSBmLl9nZXRGaWVsZChFKTsgaWYgKCFpICYmIFAuaXNUcmFja2luZ1NlcnZlclBvcHVsYXRlZCgpICYmIChpID0gZi5nZXRBbmFseXRpY3NWaXNpdG9ySUQoZnVuY3Rpb24gKHQpIHsgZi5nZXRBdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQoZSwgITApIH0pKSwgaSB8fCAhUC5pc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkKCkpIHsgdmFyIG4gPSBmLl9nZXRBdWRpZW5jZU1hbmFnZXJVUkxEYXRhKCksIHIgPSBuLnVybDsgcmV0dXJuIGYuX2dldFJlbW90ZUZpZWxkKFQsIHIsIGUsIHQsIG4pIH0gfSB9IHJldHVybiBcIlwiIH0sIGYuZ2V0TG9jYXRpb25IaW50ID0gZi5nZXRBdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQsIGYuZ2V0QXVkaWVuY2VNYW5hZ2VyQmxvYiA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChmLmlzQWxsb3dlZCgpKSB7IGlmIChmLmdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEKGZ1bmN0aW9uICh0KSB7IGYuZ2V0QXVkaWVuY2VNYW5hZ2VyQmxvYihlLCAhMCkgfSkpIHsgdmFyIGkgPSBmLl9nZXRGaWVsZChFKTsgaWYgKCFpICYmIFAuaXNUcmFja2luZ1NlcnZlclBvcHVsYXRlZCgpICYmIChpID0gZi5nZXRBbmFseXRpY3NWaXNpdG9ySUQoZnVuY3Rpb24gKHQpIHsgZi5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKGUsICEwKSB9KSksIGkgfHwgIVAuaXNUcmFja2luZ1NlcnZlclBvcHVsYXRlZCgpKSB7IHZhciBuID0gZi5fZ2V0QXVkaWVuY2VNYW5hZ2VyVVJMRGF0YSgpLCByID0gbi51cmw7IHJldHVybiBmLl9jdXN0b21lcklEc0hhc2hDaGFuZ2VkICYmIGYuX3NldEZpZWxkRXhwaXJlKGssIC0xKSwgZi5fZ2V0UmVtb3RlRmllbGQoaywgciwgZSwgdCwgbikgfSB9IH0gcmV0dXJuIFwiXCIgfSwgZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudCA9IFwiXCIsIGYuX3N1cHBsZW1lbnRhbERhdGFJREN1cnJlbnRDb25zdW1lZCA9IHt9LCBmLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0ID0gXCJcIiwgZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkID0ge30sIGYuZ2V0U3VwcGxlbWVudGFsRGF0YUlEID0gZnVuY3Rpb24gKGUsIHQpIHsgZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudCB8fCB0IHx8IChmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50ID0gZi5fZ2VuZXJhdGVJRCgxKSk7IHZhciBpID0gZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudDsgcmV0dXJuIGYuX3N1cHBsZW1lbnRhbERhdGFJRExhc3QgJiYgIWYuX3N1cHBsZW1lbnRhbERhdGFJRExhc3RDb25zdW1lZFtlXSA/IChpID0gZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdCwgZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkW2VdID0gITApIDogaSAmJiAoZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkW2VdICYmIChmLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0ID0gZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudCwgZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkID0gZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkLCBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50ID0gaSA9IHQgPyBcIlwiIDogZi5fZ2VuZXJhdGVJRCgxKSwgZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkID0ge30pLCBpICYmIChmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWRbZV0gPSAhMCkpLCBpIH0sIF8uT3B0T3V0ID0geyBHTE9CQUw6IFwiZ2xvYmFsXCIgfSwgZi5nZXRPcHRPdXQgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoZi5pc0FsbG93ZWQoKSkgeyB2YXIgaSA9IGYuX2dldEF1ZGllbmNlTWFuYWdlclVSTERhdGEoXCJfc2V0TWFya2V0aW5nQ2xvdWRGaWVsZHNcIiksIG4gPSBpLnVybDsgcmV0dXJuIGYuX2dldFJlbW90ZUZpZWxkKE0sIG4sIGUsIHQsIGkpIH0gcmV0dXJuIFwiXCIgfSwgZi5pc09wdGVkT3V0ID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgaWYgKGYuaXNBbGxvd2VkKCkpIHsgdCB8fCAodCA9IF8uT3B0T3V0LkdMT0JBTCk7IHZhciBuID0gZi5nZXRPcHRPdXQoZnVuY3Rpb24gKGkpIHsgdmFyIG4gPSBpID09PSBfLk9wdE91dC5HTE9CQUwgfHwgaS5pbmRleE9mKHQpID49IDA7IGYuX2NhbGxDYWxsYmFjayhlLCBbbl0pIH0sIGkpOyByZXR1cm4gbiA/IG4gPT09IF8uT3B0T3V0LkdMT0JBTCB8fCBuLmluZGV4T2YodCkgPj0gMCA6IG51bGwgfSByZXR1cm4gITEgfSwgZi5hcHBlbmRWaXNpdG9ySURzVG8gPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IHAuQURPQkVfTUMsIGkgPSBbW0QsIGYuX2dldEZpZWxkKEQpXSwgW0UsIGYuX2dldEZpZWxkKEUpXSwgW0ksIGYubWFya2V0aW5nQ2xvdWRPcmdJRF1dLCBuID0gbyhpKTsgdHJ5IHsgcmV0dXJuIGYuX2FkZFF1ZXJ5c3RyaW5nUGFyYW0oZSwgdCwgbikgfSBjYXRjaCAodCkgeyByZXR1cm4gZSB9IH0sIGYuYXBwZW5kU3VwcGxlbWVudGFsRGF0YUlEVG8gPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoISh0ID0gdCB8fCBmLmdldFN1cHBsZW1lbnRhbERhdGFJRChQLmdlbmVyYXRlUmFuZG9tU3RyaW5nKCksICEwKSkpIHJldHVybiBlOyB2YXIgaSA9IHAuQURPQkVfTUNfU0RJRCwgbiA9IFwiU0RJRD1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh0KSArIFwifFwiOyBuICs9IEkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmLm1hcmtldGluZ0Nsb3VkT3JnSUQpICsgXCJ8XCIsIG4gKz0gXCJUUz1cIiArIFAuZ2V0VGltZXN0YW1wSW5TZWNvbmRzKCk7IHRyeSB7IHJldHVybiBmLl9hZGRRdWVyeXN0cmluZ1BhcmFtKGUsIGksIG4pIH0gY2F0Y2ggKHQpIHsgcmV0dXJuIGUgfSB9LCBmLl94ZCA9IHsgcG9zdE1lc3NhZ2U6IGZ1bmN0aW9uIChlLCB0LCBpKSB7IHZhciBuID0gMTsgdCAmJiAocC5QT1NUX01FU1NBR0VfRU5BQkxFRCA/IGkucG9zdE1lc3NhZ2UoZSwgdC5yZXBsYWNlKC8oW146XSs6XFwvXFwvW15cXC9dKykuKi8sIFwiJDFcIikpIDogdCAmJiAoaS5sb2NhdGlvbiA9IHQucmVwbGFjZSgvIy4qJC8sIFwiXCIpICsgXCIjXCIgKyArbmV3IERhdGUgKyBuKysgKyBcIiZcIiArIGUpKSB9LCByZWNlaXZlTWVzc2FnZTogZnVuY3Rpb24gKGUsIHQpIHsgdmFyIGk7IHRyeSB7IHAuUE9TVF9NRVNTQUdFX0VOQUJMRUQgJiYgKGUgJiYgKGkgPSBmdW5jdGlvbiAoaSkgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCAmJiBpLm9yaWdpbiAhPT0gdCB8fCBcIltvYmplY3QgRnVuY3Rpb25dXCIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSAmJiAhMSA9PT0gdChpLm9yaWdpbikpIHJldHVybiAhMTsgZShpKSB9KSwgZy5hZGRFdmVudExpc3RlbmVyID8gZ1tlID8gXCJhZGRFdmVudExpc3RlbmVyXCIgOiBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIl0oXCJtZXNzYWdlXCIsIGksICExKSA6IGdbZSA/IFwiYXR0YWNoRXZlbnRcIiA6IFwiZGV0YWNoRXZlbnRcIl0oXCLvv71cIiwgaSkpIH0gY2F0Y2ggKGUpIHsgfSB9IH07IHZhciBQID0geyBhZGRMaXN0ZW5lcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbS5hZGRFdmVudExpc3RlbmVyID8gZnVuY3Rpb24gKGUsIHQsIGkpIHsgZS5hZGRFdmVudExpc3RlbmVyKHQsIGZ1bmN0aW9uIChlKSB7IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgaSAmJiBpKGUpIH0sICExKSB9IDogbS5hdHRhY2hFdmVudCA/IGZ1bmN0aW9uIChlLCB0LCBpKSB7IGUuYXR0YWNoRXZlbnQoXCJvblwiICsgdCwgZnVuY3Rpb24gKGUpIHsgXCJmdW5jdGlvblwiID09IHR5cGVvZiBpICYmIGkoZSkgfSkgfSA6IHZvaWQgMCB9KCksIG1hcDogZnVuY3Rpb24gKGUsIHQpIHsgaWYgKEFycmF5LnByb3RvdHlwZS5tYXApIHJldHVybiBlLm1hcCh0KTsgaWYgKHZvaWQgMCA9PT0gZSB8fCBudWxsID09IGUpIHRocm93IG5ldyBUeXBlRXJyb3I7IHZhciBpID0gT2JqZWN0KGUpLCBuID0gaS5sZW5ndGggPj4+IDA7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQpIHRocm93IG5ldyBUeXBlRXJyb3I7IGZvciAodmFyIHIgPSBuZXcgQXJyYXkobiksIGEgPSBhcmd1bWVudHNbMV0sIHMgPSAwOyBzIDwgbjsgcysrKXMgaW4gaSAmJiAocltzXSA9IHQuY2FsbChhLCBpW3NdLCBzLCBpKSk7IHJldHVybiByIH0sIGVuY29kZUFuZEJ1aWxkUmVxdWVzdDogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIHRoaXMubWFwKGUsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkgfSkuam9pbih0KSB9LCBwYXJzZUhhc2g6IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5pbmRleE9mKFwiI1wiKTsgcmV0dXJuIHQgPiAwID8gZS5zdWJzdHIodCkgOiBcIlwiIH0sIGhhc2hsZXNzVXJsOiBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuaW5kZXhPZihcIiNcIik7IHJldHVybiB0ID4gMCA/IGUuc3Vic3RyKDAsIHQpIDogZSB9LCBhZGRRdWVyeVBhcmFtQXRMb2NhdGlvbjogZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4gPSBlLnNwbGl0KFwiJlwiKTsgcmV0dXJuIGkgPSBudWxsICE9IGkgPyBpIDogbi5sZW5ndGgsIG4uc3BsaWNlKGksIDAsIHQpLCBuLmpvaW4oXCImXCIpIH0sIGlzRmlyc3RQYXJ0eUFuYWx5dGljc1Zpc2l0b3JJRENhbGw6IGZ1bmN0aW9uIChlLCB0LCBpKSB7IGlmIChlICE9PSBFKSByZXR1cm4gITE7IHZhciBuOyByZXR1cm4gdCB8fCAodCA9IGYudHJhY2tpbmdTZXJ2ZXIpLCBpIHx8IChpID0gZi50cmFja2luZ1NlcnZlclNlY3VyZSksICEoXCJzdHJpbmdcIiAhPSB0eXBlb2YgKG4gPSBmLmxvYWRTU0wgPyBpIDogdCkgfHwgIW4ubGVuZ3RoKSAmJiAobi5pbmRleE9mKFwiMm83Lm5ldFwiKSA8IDAgJiYgbi5pbmRleE9mKFwib210cmRjLm5ldFwiKSA8IDApIH0sIGlzT2JqZWN0OiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gQm9vbGVhbihlICYmIGUgPT09IE9iamVjdChlKSkgfSwgaXNMZXNzVGhhbjogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIGYuX2NvbXBhcmVWZXJzaW9ucyhlLCB0KSA8IDAgfSwgYXJlVmVyc2lvbnNEaWZmZXJlbnQ6IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiAwICE9PSBmLl9jb21wYXJlVmVyc2lvbnMoZSwgdCkgfSwgcmVtb3ZlQ29va2llOiBmdW5jdGlvbiAoZSkgeyBkb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQoZSkgKyBcIj07IFBhdGg9LzsgRXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVDtcIiB9LCBpc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhIWYudHJhY2tpbmdTZXJ2ZXIgfHwgISFmLnRyYWNraW5nU2VydmVyU2VjdXJlIH0sIHBhcnNlSlNPTjogZnVuY3Rpb24gKGUsIHQpIHsgZnVuY3Rpb24gaShlLCBuKSB7IHZhciByLCBhLCBzID0gZVtuXTsgaWYgKHMgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgcykgZm9yIChyIGluIHMpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCByKSAmJiAoYSA9IGkocywgciksIHZvaWQgMCAhPT0gYSA/IHNbcl0gPSBhIDogZGVsZXRlIHNbcl0pOyByZXR1cm4gdC5jYWxsKGUsIG4sIHMpIH0gaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIEpTT04gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBKU09OLnBhcnNlKSByZXR1cm4gSlNPTi5wYXJzZShlLCB0KTsgdmFyIG4sIHIgPSAvXltcXF0sOnt9XFxzXSokLywgYSA9IC9cXFxcKD86W1wiXFxcXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2csIHMgPSAvXCJbXlwiXFxcXFxcblxccl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csIG8gPSAvKD86Xnw6fCwpKD86XFxzKlxcWykrL2csIGwgPSAvW1xcdTAwMDBcXHUwMGFkXFx1MDYwMC1cXHUwNjA0XFx1MDcwZlxcdTE3YjRcXHUxN2I1XFx1MjAwYy1cXHUyMDBmXFx1MjAyOC1cXHUyMDJmXFx1MjA2MC1cXHUyMDZmXFx1ZmVmZlxcdWZmZjAtXFx1ZmZmZl0vZzsgaWYgKGUgPSBTdHJpbmcoZSksIGwubGFzdEluZGV4ID0gMCwgbC50ZXN0KGUpICYmIChlID0gZS5yZXBsYWNlKGwsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBcIlxcXFx1XCIgKyAoXCIwMDAwXCIgKyBlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCkgfSkpLCByLnRlc3QoZS5yZXBsYWNlKGEsIFwiQFwiKS5yZXBsYWNlKHMsIFwiXVwiKS5yZXBsYWNlKG8sIFwiXCIpKSkgcmV0dXJuIG4gPSBldmFsKFwiKFwiICsgZSArIFwiKVwiKSwgXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ID8gaSh7IFwiXCI6IG4gfSwgXCJcIikgOiBuOyB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJKU09OLnBhcnNlXCIpIH0sIGdldFRpbWVzdGFtcEluU2Vjb25kczogZnVuY3Rpb24gKCkgeyByZXR1cm4gTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKSAvIDFlMykgfSwgcGFyc2VQaXBlRGVsaW1ldGVkS2V5VmFsdWVzOiBmdW5jdGlvbiAoZSkgeyBmb3IgKHZhciB0ID0ge30sIGkgPSBlLnNwbGl0KFwifFwiKSwgbiA9IDAsIHIgPSBpLmxlbmd0aDsgbiA8IHI7IG4rKykgeyB2YXIgYSA9IGlbbl0uc3BsaXQoXCI9XCIpOyB0W2FbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KGFbMV0pIH0gcmV0dXJuIHQgfSwgZ2VuZXJhdGVSYW5kb21TdHJpbmc6IGZ1bmN0aW9uIChlKSB7IGUgPSBlIHx8IDU7IGZvciAodmFyIHQgPSBcIlwiLCBpID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjsgZS0tOyl0ICs9IGlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaS5sZW5ndGgpXTsgcmV0dXJuIHQgfSB9OyBmLl9oZWxwZXJzID0gUDsgdmFyIFIgPSB7IGNvcnNNZXRhZGF0YTogZnVuY3Rpb24gKCkgeyB2YXIgZSA9IFwibm9uZVwiLCB0ID0gITA7IHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAmJiBYTUxIdHRwUmVxdWVzdCA9PT0gT2JqZWN0KFhNTEh0dHBSZXF1ZXN0KSAmJiAoXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiBuZXcgWE1MSHR0cFJlcXVlc3QgPyBlID0gXCJYTUxIdHRwUmVxdWVzdFwiIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgWERvbWFpblJlcXVlc3QgJiYgWERvbWFpblJlcXVlc3QgPT09IE9iamVjdChYRG9tYWluUmVxdWVzdCkgJiYgKHQgPSAhMSksIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChnLkhUTUxFbGVtZW50KS5pbmRleE9mKFwiQ29uc3RydWN0b3JcIikgPiAwICYmICh0ID0gITEpKSwgeyBjb3JzVHlwZTogZSwgY29yc0Nvb2tpZXNFbmFibGVkOiB0IH0gfSgpLCBnZXRDT1JTSW5zdGFuY2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwibm9uZVwiID09PSB0aGlzLmNvcnNNZXRhZGF0YS5jb3JzVHlwZSA/IG51bGwgOiBuZXcgZ1t0aGlzLmNvcnNNZXRhZGF0YS5jb3JzVHlwZV0gfSwgZmlyZUNPUlM6IGZ1bmN0aW9uIChlLCB0LCBpKSB7IGZ1bmN0aW9uIG4odCkgeyB2YXIgaTsgdHJ5IHsgaWYgKChpID0gSlNPTi5wYXJzZSh0KSkgIT09IE9iamVjdChpKSkgcmV0dXJuIHZvaWQgci5oYW5kbGVDT1JTRXJyb3IoZSwgbnVsbCwgXCJSZXNwb25zZSBpcyBub3QgSlNPTlwiKSB9IGNhdGNoICh0KSB7IHJldHVybiB2b2lkIHIuaGFuZGxlQ09SU0Vycm9yKGUsIHQsIFwiRXJyb3IgcGFyc2luZyByZXNwb25zZSBhcyBKU09OXCIpIH0gdHJ5IHsgZm9yICh2YXIgbiA9IGUuY2FsbGJhY2ssIGEgPSBnLCBzID0gMDsgcyA8IG4ubGVuZ3RoOyBzKyspYSA9IGFbbltzXV07IGEoaSkgfSBjYXRjaCAodCkgeyByLmhhbmRsZUNPUlNFcnJvcihlLCB0LCBcIkVycm9yIGZvcm1pbmcgY2FsbGJhY2sgZnVuY3Rpb25cIikgfSB9IHZhciByID0gdGhpczsgdCAmJiAoZS5sb2FkRXJyb3JIYW5kbGVyID0gdCk7IHRyeSB7IHZhciBhID0gdGhpcy5nZXRDT1JTSW5zdGFuY2UoKTsgYS5vcGVuKFwiZ2V0XCIsIGUuY29yc1VybCArIFwiJnRzPVwiICsgKG5ldyBEYXRlKS5nZXRUaW1lKCksICEwKSwgXCJYTUxIdHRwUmVxdWVzdFwiID09PSB0aGlzLmNvcnNNZXRhZGF0YS5jb3JzVHlwZSAmJiAoYS53aXRoQ3JlZGVudGlhbHMgPSAhMCwgYS50aW1lb3V0ID0gZi5sb2FkVGltZW91dCwgYS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpLCBhLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsgNCA9PT0gdGhpcy5yZWFkeVN0YXRlICYmIDIwMCA9PT0gdGhpcy5zdGF0dXMgJiYgbih0aGlzLnJlc3BvbnNlVGV4dCkgfSksIGEub25lcnJvciA9IGZ1bmN0aW9uICh0KSB7IHIuaGFuZGxlQ09SU0Vycm9yKGUsIHQsIFwib25lcnJvclwiKSB9LCBhLm9udGltZW91dCA9IGZ1bmN0aW9uICh0KSB7IHIuaGFuZGxlQ09SU0Vycm9yKGUsIHQsIFwib250aW1lb3V0XCIpIH0sIGEuc2VuZCgpLCBmLl9sb2cucmVxdWVzdHMucHVzaChlLmNvcnNVcmwpIH0gY2F0Y2ggKHQpIHsgdGhpcy5oYW5kbGVDT1JTRXJyb3IoZSwgdCwgXCJ0cnktY2F0Y2hcIikgfSB9LCBoYW5kbGVDT1JTRXJyb3I6IGZ1bmN0aW9uIChlLCB0LCBpKSB7IGYuQ09SU0Vycm9ycy5wdXNoKHsgY29yc0RhdGE6IGUsIGVycm9yOiB0LCBkZXNjcmlwdGlvbjogaSB9KSwgZS5sb2FkRXJyb3JIYW5kbGVyICYmIChcIm9udGltZW91dFwiID09PSBpID8gZS5sb2FkRXJyb3JIYW5kbGVyKCEwKSA6IGUubG9hZEVycm9ySGFuZGxlcighMSkpIH0gfTsgZi5fcmVxdWVzdFByb2NzID0gUjsgdmFyIHcgPSB7IFRIUk9UVExFX1NUQVJUOiAzZTQsIE1BWF9TWU5DU19MRU5HVEg6IDY0OSwgdGhyb3R0bGVUaW1lclNldDogITEsIGlkOiBudWxsLCBvblBhZ2VQaXhlbHM6IFtdLCBpZnJhbWVIb3N0OiBudWxsLCBnZXRJZnJhbWVIb3N0OiBmdW5jdGlvbiAoZSkgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkgeyB2YXIgdCA9IGUuc3BsaXQoXCIvXCIpOyByZXR1cm4gdFswXSArIFwiLy9cIiArIHRbMl0gfSB9LCBzdWJkb21haW46IG51bGwsIHVybDogbnVsbCwgZ2V0VXJsOiBmdW5jdGlvbiAoKSB7IHZhciBlLCB0ID0gXCJodHRwOi8vZmFzdC5cIiwgaSA9IFwiP2RfbnNpZD1cIiArIGYuaWRTeW5jQ29udGFpbmVySUQgKyBcIiNcIiArIGVuY29kZVVSSUNvbXBvbmVudChtLmxvY2F0aW9uLmhyZWYpOyByZXR1cm4gdGhpcy5zdWJkb21haW4gfHwgKHRoaXMuc3ViZG9tYWluID0gXCJub3N1YmRvbWFpbnJldHVybmVkXCIpLCBmLmxvYWRTU0wgJiYgKHQgPSBmLmlkU3luY1NTTFVzZUFrYW1haSA/IFwiaHR0cHM6Ly9mYXN0LlwiIDogXCJodHRwczovL1wiKSwgZSA9IHQgKyB0aGlzLnN1YmRvbWFpbiArIFwiLmRlbWRleC5uZXQvZGVzdDUuaHRtbFwiICsgaSwgdGhpcy5pZnJhbWVIb3N0ID0gdGhpcy5nZXRJZnJhbWVIb3N0KGUpLCB0aGlzLmlkID0gXCJkZXN0aW5hdGlvbl9wdWJsaXNoaW5nX2lmcmFtZV9cIiArIHRoaXMuc3ViZG9tYWluICsgXCJfXCIgKyBmLmlkU3luY0NvbnRhaW5lcklELCBlIH0sIGNoZWNrRFBJZnJhbWVTcmM6IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSBcIj9kX25zaWQ9XCIgKyBmLmlkU3luY0NvbnRhaW5lcklEICsgXCIjXCIgKyBlbmNvZGVVUklDb21wb25lbnQobS5sb2NhdGlvbi5ocmVmKTsgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZi5kcElmcmFtZVNyYyAmJiBmLmRwSWZyYW1lU3JjLmxlbmd0aCAmJiAodGhpcy5pZCA9IFwiZGVzdGluYXRpb25fcHVibGlzaGluZ19pZnJhbWVfXCIgKyAoZi5fc3ViZG9tYWluIHx8IHRoaXMuc3ViZG9tYWluIHx8IChuZXcgRGF0ZSkuZ2V0VGltZSgpKSArIFwiX1wiICsgZi5pZFN5bmNDb250YWluZXJJRCwgdGhpcy5pZnJhbWVIb3N0ID0gdGhpcy5nZXRJZnJhbWVIb3N0KGYuZHBJZnJhbWVTcmMpLCB0aGlzLnVybCA9IGYuZHBJZnJhbWVTcmMgKyBlKSB9LCBpZENhbGxOb3RQcm9jZXNzc2VkOiBudWxsLCBkb0F0dGFjaElmcmFtZTogITEsIHN0YXJ0ZWRBdHRhY2hpbmdJZnJhbWU6ICExLCBpZnJhbWVIYXNMb2FkZWQ6IG51bGwsIGlmcmFtZUlkQ2hhbmdlZDogbnVsbCwgbmV3SWZyYW1lQ3JlYXRlZDogbnVsbCwgb3JpZ2luYWxJZnJhbWVIYXNMb2FkZWRBbHJlYWR5OiBudWxsLCBzZW5kaW5nTWVzc2FnZXM6ICExLCBtZXNzYWdlczogW10sIG1lc3NhZ2VzUG9zdGVkOiBbXSwgbWVzc2FnZXNSZWNlaXZlZDogW10sIG1lc3NhZ2VTZW5kaW5nSW50ZXJ2YWw6IHAuUE9TVF9NRVNTQUdFX0VOQUJMRUQgPyBudWxsIDogMTAwLCBqc29uRm9yQ29tcGFyaXNvbjogW10sIGpzb25EdXBsaWNhdGVzOiBbXSwganNvbldhaXRpbmc6IFtdLCBqc29uUHJvY2Vzc2VkOiBbXSwgY2FuU2V0VGhpcmRQYXJ0eUNvb2tpZXM6ICEwLCByZWNlaXZlZFRoaXJkUGFydHlDb29raWVzTm90aWZpY2F0aW9uOiAhMSwgcmVhZHlUb0F0dGFjaElmcmFtZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gIWYuaWRTeW5jRGlzYWJsZTNyZFBhcnR5U3luY2luZyAmJiAodGhpcy5kb0F0dGFjaElmcmFtZSB8fCBmLl9kb0F0dGFjaElmcmFtZSkgJiYgKHRoaXMuc3ViZG9tYWluICYmIFwibm9zdWJkb21haW5yZXR1cm5lZFwiICE9PSB0aGlzLnN1YmRvbWFpbiB8fCBmLl9zdWJkb21haW4pICYmIHRoaXMudXJsICYmICF0aGlzLnN0YXJ0ZWRBdHRhY2hpbmdJZnJhbWUgfSwgYXR0YWNoSWZyYW1lOiBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGUoKSB7IG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLCBuLnNhbmRib3ggPSBcImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW5cIiwgbi50aXRsZSA9IFwiQWRvYmUgSUQgU3luY2luZyBpRnJhbWVcIiwgbi5pZCA9IGkuaWQsIG4uc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTogbm9uZTsgd2lkdGg6IDA7IGhlaWdodDogMDtcIiwgbi5zcmMgPSBpLnVybCwgaS5uZXdJZnJhbWVDcmVhdGVkID0gITAsIHQoKSwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSB9IGZ1bmN0aW9uIHQoKSB7IFAuYWRkTGlzdGVuZXIobiwgXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHsgbi5jbGFzc05hbWUgPSBcImFhbUlmcmFtZUxvYWRlZFwiLCBpLmlmcmFtZUhhc0xvYWRlZCA9ICEwLCBpLnJlcXVlc3RUb1Byb2Nlc3MoKSB9KSB9IHRoaXMuc3RhcnRlZEF0dGFjaGluZ0lmcmFtZSA9ICEwOyB2YXIgaSA9IHRoaXMsIG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTsgbiA/IFwiSUZSQU1FXCIgIT09IG4ubm9kZU5hbWUgPyAodGhpcy5pZCArPSBcIl8yXCIsIHRoaXMuaWZyYW1lSWRDaGFuZ2VkID0gITAsIGUoKSkgOiAodGhpcy5uZXdJZnJhbWVDcmVhdGVkID0gITEsIFwiYWFtSWZyYW1lTG9hZGVkXCIgIT09IG4uY2xhc3NOYW1lID8gKHRoaXMub3JpZ2luYWxJZnJhbWVIYXNMb2FkZWRBbHJlYWR5ID0gITEsIHQoKSkgOiAodGhpcy5vcmlnaW5hbElmcmFtZUhhc0xvYWRlZEFscmVhZHkgPSAhMCwgdGhpcy5pZnJhbWVIYXNMb2FkZWQgPSAhMCwgdGhpcy5pZnJhbWUgPSBuLCB0aGlzLnJlcXVlc3RUb1Byb2Nlc3MoKSkpIDogZSgpLCB0aGlzLmlmcmFtZSA9IG4gfSwgcmVxdWVzdFRvUHJvY2VzczogZnVuY3Rpb24gKGUpIHsgZnVuY3Rpb24gdCgpIHsgbi5qc29uRm9yQ29tcGFyaXNvbi5wdXNoKGUpLCBuLmpzb25XYWl0aW5nLnB1c2goZSksIG4ucHJvY2Vzc1N5bmNPblBhZ2UoZSkgfSB2YXIgaSwgbiA9IHRoaXM7IGlmIChlID09PSBPYmplY3QoZSkgJiYgZS5pYnMpIGlmIChwLkhBU19KU09OX1NUUklOR0lGWSkgaWYgKGkgPSBKU09OLnN0cmluZ2lmeShlLmlicyB8fCBbXSksIHRoaXMuanNvbkZvckNvbXBhcmlzb24ubGVuZ3RoKSB7IHZhciByLCBhLCBzLCBvID0gITE7IGZvciAociA9IDAsIGEgPSB0aGlzLmpzb25Gb3JDb21wYXJpc29uLmxlbmd0aDsgciA8IGE7IHIrKylpZiAocyA9IHRoaXMuanNvbkZvckNvbXBhcmlzb25bcl0sIGkgPT09IEpTT04uc3RyaW5naWZ5KHMuaWJzIHx8IFtdKSkgeyBvID0gITA7IGJyZWFrIH0gbyA/IHRoaXMuanNvbkR1cGxpY2F0ZXMucHVzaChlKSA6IHQoKSB9IGVsc2UgdCgpOyBlbHNlIHQoKTsgaWYgKCh0aGlzLnJlY2VpdmVkVGhpcmRQYXJ0eUNvb2tpZXNOb3RpZmljYXRpb24gfHwgIXAuUE9TVF9NRVNTQUdFX0VOQUJMRUQgfHwgdGhpcy5pZnJhbWVIYXNMb2FkZWQpICYmIHRoaXMuanNvbldhaXRpbmcubGVuZ3RoKSB7IHZhciBsID0gdGhpcy5qc29uV2FpdGluZy5zaGlmdCgpOyB0aGlzLnByb2Nlc3MobCksIHRoaXMucmVxdWVzdFRvUHJvY2VzcygpIH0gIWYuaWRTeW5jRGlzYWJsZVN5bmNzICYmIHRoaXMuaWZyYW1lSGFzTG9hZGVkICYmIHRoaXMubWVzc2FnZXMubGVuZ3RoICYmICF0aGlzLnNlbmRpbmdNZXNzYWdlcyAmJiAodGhpcy50aHJvdHRsZVRpbWVyU2V0IHx8ICh0aGlzLnRocm90dGxlVGltZXJTZXQgPSAhMCwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IG4ubWVzc2FnZVNlbmRpbmdJbnRlcnZhbCA9IHAuUE9TVF9NRVNTQUdFX0VOQUJMRUQgPyBudWxsIDogMTUwIH0sIHRoaXMuVEhST1RUTEVfU1RBUlQpKSwgdGhpcy5zZW5kaW5nTWVzc2FnZXMgPSAhMCwgdGhpcy5zZW5kTWVzc2FnZXMoKSkgfSwgcHJvY2Vzc1N5bmNPblBhZ2U6IGZ1bmN0aW9uIChlKSB7IHZhciB0LCBpLCBuLCByOyBpZiAoKHQgPSBlLmlicykgJiYgdCBpbnN0YW5jZW9mIEFycmF5ICYmIChpID0gdC5sZW5ndGgpKSBmb3IgKG4gPSAwOyBuIDwgaTsgbisrKXIgPSB0W25dLCByLnN5bmNPblBhZ2UgJiYgdGhpcy5jaGVja0ZpcnN0UGFydHlDb29raWUociwgXCJcIiwgXCJzeW5jT25QYWdlXCIpIH0sIHByb2Nlc3M6IGZ1bmN0aW9uIChlKSB7IHZhciB0LCBpLCBuLCByLCBhLCBzID0gZW5jb2RlVVJJQ29tcG9uZW50LCBvID0gITE7IGlmICgodCA9IGUuaWJzKSAmJiB0IGluc3RhbmNlb2YgQXJyYXkgJiYgKGkgPSB0Lmxlbmd0aCkpIGZvciAobyA9ICEwLCBuID0gMDsgbiA8IGk7IG4rKylyID0gdFtuXSwgYSA9IFtzKFwiaWJzXCIpLCBzKHIuaWQgfHwgXCJcIiksIHMoci50YWcgfHwgXCJcIiksIFAuZW5jb2RlQW5kQnVpbGRSZXF1ZXN0KHIudXJsIHx8IFtdLCBcIixcIiksIHMoci50dGwgfHwgXCJcIiksIFwiXCIsIFwiXCIsIHIuZmlyZVVSTFN5bmMgPyBcInRydWVcIiA6IFwiZmFsc2VcIl0sIHIuc3luY09uUGFnZSB8fCAodGhpcy5jYW5TZXRUaGlyZFBhcnR5Q29va2llcyA/IHRoaXMuYWRkTWVzc2FnZShhLmpvaW4oXCJ8XCIpKSA6IHIuZmlyZVVSTFN5bmMgJiYgdGhpcy5jaGVja0ZpcnN0UGFydHlDb29raWUociwgYS5qb2luKFwifFwiKSkpOyBvICYmIHRoaXMuanNvblByb2Nlc3NlZC5wdXNoKGUpIH0sIGNoZWNrRmlyc3RQYXJ0eUNvb2tpZTogZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4gPSBcInN5bmNPblBhZ2VcIiA9PT0gaSwgciA9IG4gPyBBIDogdjsgZi5fcmVhZFZpc2l0b3IoKTsgdmFyIGEsIHMsIG8gPSBmLl9nZXRGaWVsZChyKSwgbCA9ICExLCB1ID0gITEsIGMgPSBNYXRoLmNlaWwoKG5ldyBEYXRlKS5nZXRUaW1lKCkgLyBwLk1JTExJU19QRVJfREFZKTsgbyA/IChhID0gby5zcGxpdChcIipcIiksIHMgPSB0aGlzLnBydW5lU3luY0RhdGEoYSwgZS5pZCwgYyksIGwgPSBzLmRhdGFQcmVzZW50LCB1ID0gcy5kYXRhVmFsaWQsIGwgJiYgdSB8fCB0aGlzLmZpcmVTeW5jKG4sIGUsIHQsIGEsIHIsIGMpKSA6IChhID0gW10sIHRoaXMuZmlyZVN5bmMobiwgZSwgdCwgYSwgciwgYykpIH0sIHBydW5lU3luY0RhdGE6IGZ1bmN0aW9uIChlLCB0LCBpKSB7IHZhciBuLCByLCBhLCBzID0gITEsIG8gPSAhMTsgZm9yIChyID0gMDsgciA8IGUubGVuZ3RoOyByKyspbiA9IGVbcl0sIGEgPSBwYXJzZUludChuLnNwbGl0KFwiLVwiKVsxXSwgMTApLCBuLm1hdGNoKFwiXlwiICsgdCArIFwiLVwiKSA/IChzID0gITAsIGkgPCBhID8gbyA9ICEwIDogKGUuc3BsaWNlKHIsIDEpLCByLS0pKSA6IGkgPj0gYSAmJiAoZS5zcGxpY2UociwgMSksIHItLSk7IHJldHVybiB7IGRhdGFQcmVzZW50OiBzLCBkYXRhVmFsaWQ6IG8gfSB9LCBtYW5hZ2VTeW5jc1NpemU6IGZ1bmN0aW9uIChlKSB7IGlmIChlLmpvaW4oXCIqXCIpLmxlbmd0aCA+IHRoaXMuTUFYX1NZTkNTX0xFTkdUSCkgZm9yIChlLnNvcnQoZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIHBhcnNlSW50KGUuc3BsaXQoXCItXCIpWzFdLCAxMCkgLSBwYXJzZUludCh0LnNwbGl0KFwiLVwiKVsxXSwgMTApIH0pOyBlLmpvaW4oXCIqXCIpLmxlbmd0aCA+IHRoaXMuTUFYX1NZTkNTX0xFTkdUSDspZS5zaGlmdCgpIH0sIGZpcmVTeW5jOiBmdW5jdGlvbiAoZSwgdCwgaSwgbiwgciwgYSkgeyB2YXIgcyA9IHRoaXM7IGlmIChlKSB7IGlmIChcImltZ1wiID09PSB0LnRhZykgeyB2YXIgbywgbCwgdSwgYywgZCA9IHQudXJsLCBnID0gZi5sb2FkU1NMID8gXCJodHRwczpcIiA6IFwiaHR0cDpcIjsgZm9yIChvID0gMCwgbCA9IGQubGVuZ3RoOyBvIDwgbDsgbysrKSB7IHUgPSBkW29dLCBjID0gL15cXC9cXC8vLnRlc3QodSk7IHZhciBfID0gbmV3IEltYWdlOyBQLmFkZExpc3RlbmVyKF8sIFwibG9hZFwiLCBmdW5jdGlvbiAoZSwgdCwgaSwgbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyBzLm9uUGFnZVBpeGVsc1tlXSA9IG51bGwsIGYuX3JlYWRWaXNpdG9yKCk7IHZhciBhLCBvID0gZi5fZ2V0RmllbGQociksIGwgPSBbXTsgaWYgKG8pIHsgYSA9IG8uc3BsaXQoXCIqXCIpOyB2YXIgdSwgYywgZDsgZm9yICh1ID0gMCwgYyA9IGEubGVuZ3RoOyB1IDwgYzsgdSsrKWQgPSBhW3VdLCBkLm1hdGNoKFwiXlwiICsgdC5pZCArIFwiLVwiKSB8fCBsLnB1c2goZCkgfSBzLnNldFN5bmNUcmFja2luZ0RhdGEobCwgdCwgaSwgbikgfSB9KHRoaXMub25QYWdlUGl4ZWxzLmxlbmd0aCwgdCwgciwgYSkpLCBfLnNyYyA9IChjID8gZyA6IFwiXCIpICsgdSwgdGhpcy5vblBhZ2VQaXhlbHMucHVzaChfKSB9IH0gfSBlbHNlIHRoaXMuYWRkTWVzc2FnZShpKSwgdGhpcy5zZXRTeW5jVHJhY2tpbmdEYXRhKG4sIHQsIHIsIGEpIH0sIGFkZE1lc3NhZ2U6IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZW5jb2RlVVJJQ29tcG9uZW50LCBpID0gdChmLl9lbmFibGVFcnJvclJlcG9ydGluZyA/IFwiLS0tZGVzdHB1Yi1kZWJ1Zy0tLVwiIDogXCItLS1kZXN0cHViLS0tXCIpOyB0aGlzLm1lc3NhZ2VzLnB1c2goKHAuUE9TVF9NRVNTQUdFX0VOQUJMRUQgPyBcIlwiIDogaSkgKyBlKSB9LCBzZXRTeW5jVHJhY2tpbmdEYXRhOiBmdW5jdGlvbiAoZSwgdCwgaSwgbikgeyBlLnB1c2godC5pZCArIFwiLVwiICsgKG4gKyBNYXRoLmNlaWwodC50dGwgLyA2MCAvIDI0KSkpLCB0aGlzLm1hbmFnZVN5bmNzU2l6ZShlKSwgZi5fc2V0RmllbGQoaSwgZS5qb2luKFwiKlwiKSkgfSwgc2VuZE1lc3NhZ2VzOiBmdW5jdGlvbiAoKSB7IHZhciBlLCB0ID0gdGhpczsgdGhpcy5tZXNzYWdlcy5sZW5ndGggPyBwLlBPU1RfTUVTU0FHRV9FTkFCTEVEID8gKGUgPSBlbmNvZGVVUklDb21wb25lbnQoXCItLS1kZXN0cHViLWNvbWJpbmVkLS0tXCIpICsgdGhpcy5tZXNzYWdlcy5qb2luKFwiJTAxXCIpLCB0aGlzLnBvc3RNZXNzYWdlKGUpLCB0aGlzLm1lc3NhZ2VzID0gW10sIHRoaXMuc2VuZGluZ01lc3NhZ2VzID0gITEpIDogKGUgPSB0aGlzLm1lc3NhZ2VzLnNoaWZ0KCksIHRoaXMucG9zdE1lc3NhZ2UoZSksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0LnNlbmRNZXNzYWdlcygpIH0sIHRoaXMubWVzc2FnZVNlbmRpbmdJbnRlcnZhbCkpIDogdGhpcy5zZW5kaW5nTWVzc2FnZXMgPSAhMSB9LCBwb3N0TWVzc2FnZTogZnVuY3Rpb24gKGUpIHsgZi5feGQucG9zdE1lc3NhZ2UoZSwgdGhpcy51cmwsIHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cpLCB0aGlzLm1lc3NhZ2VzUG9zdGVkLnB1c2goZSkgfSwgcmVjZWl2ZU1lc3NhZ2U6IGZ1bmN0aW9uIChlKSB7IHZhciB0LCBpID0gL14tLS1kZXN0cHViLXRvLXBhcmVudC0tLS87IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgaS50ZXN0KGUpICYmICh0ID0gZS5yZXBsYWNlKGksIFwiXCIpLnNwbGl0KFwifFwiKSwgXCJjYW5TZXRUaGlyZFBhcnR5Q29va2llc1wiID09PSB0WzBdICYmICh0aGlzLmNhblNldFRoaXJkUGFydHlDb29raWVzID0gXCJ0cnVlXCIgPT09IHRbMV0sIHRoaXMucmVjZWl2ZWRUaGlyZFBhcnR5Q29va2llc05vdGlmaWNhdGlvbiA9ICEwLCB0aGlzLnJlcXVlc3RUb1Byb2Nlc3MoKSksIHRoaXMubWVzc2FnZXNSZWNlaXZlZC5wdXNoKGUpKSB9LCBwcm9jZXNzSURDYWxsRGF0YTogZnVuY3Rpb24gKGUpIHsgKG51bGwgPT0gdGhpcy51cmwgfHwgZS5zdWJkb21haW4gJiYgXCJub3N1YmRvbWFpbnJldHVybmVkXCIgPT09IHRoaXMuc3ViZG9tYWluKSAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZi5fc3ViZG9tYWluICYmIGYuX3N1YmRvbWFpbi5sZW5ndGggPyB0aGlzLnN1YmRvbWFpbiA9IGYuX3N1YmRvbWFpbiA6IHRoaXMuc3ViZG9tYWluID0gZS5zdWJkb21haW4gfHwgXCJcIiwgdGhpcy51cmwgPSB0aGlzLmdldFVybCgpKSwgZS5pYnMgaW5zdGFuY2VvZiBBcnJheSAmJiBlLmlicy5sZW5ndGggJiYgKHRoaXMuZG9BdHRhY2hJZnJhbWUgPSAhMCksIHRoaXMucmVhZHlUb0F0dGFjaElmcmFtZSgpICYmIChmLmlkU3luY0F0dGFjaElmcmFtZU9uV2luZG93TG9hZCA/IChfLndpbmRvd0xvYWRlZCB8fCBcImNvbXBsZXRlXCIgPT09IG0ucmVhZHlTdGF0ZSB8fCBcImxvYWRlZFwiID09PSBtLnJlYWR5U3RhdGUpICYmIHRoaXMuYXR0YWNoSWZyYW1lKCkgOiB0aGlzLmF0dGFjaElmcmFtZUFTQVAoKSksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZi5pZFN5bmNJRENhbGxSZXN1bHQgPyBmLmlkU3luY0lEQ2FsbFJlc3VsdChlKSA6IHRoaXMucmVxdWVzdFRvUHJvY2VzcyhlKSwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBmLmlkU3luY0FmdGVySURDYWxsUmVzdWx0ICYmIGYuaWRTeW5jQWZ0ZXJJRENhbGxSZXN1bHQoZSkgfSwgY2FuTWFrZVN5bmNJRENhbGw6IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBmLl9mb3JjZVN5bmNJRENhbGwgfHwgIWUgfHwgdCAtIGUgPiBwLkRBWVNfQkVUV0VFTl9TWU5DX0lEX0NBTExTIH0sIGF0dGFjaElmcmFtZUFTQVA6IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZSgpIHsgdC5zdGFydGVkQXR0YWNoaW5nSWZyYW1lIHx8IChkb2N1bWVudC5ib2R5ID8gdC5hdHRhY2hJZnJhbWUoKSA6IHNldFRpbWVvdXQoZSwgMzApKSB9IHZhciB0ID0gdGhpczsgZSgpIH0gfTsgZi5fZGVzdGluYXRpb25QdWJsaXNoaW5nID0gdywgZi50aW1lb3V0TWV0cmljc0xvZyA9IFtdOyB2YXIgRiwgTiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpc0NsaWVudFNpZGVNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRDogbnVsbCwgTUNJRENhbGxUaW1lZE91dDogbnVsbCwgQW5hbHl0aWNzSURDYWxsVGltZWRPdXQ6IG51bGwsIEFBTUlEQ2FsbFRpbWVkT3V0OiBudWxsLCBmaWVsZEdyb3VwT2JqOiB7fSwgc2V0U3RhdGU6IGZ1bmN0aW9uIChlLCB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTOiAhMSA9PT0gdCA/ICEwICE9PSB0aGlzLk1DSURDYWxsVGltZWRPdXQgJiYgKHRoaXMuTUNJRENhbGxUaW1lZE91dCA9ICExKSA6IHRoaXMuTUNJRENhbGxUaW1lZE91dCA9IHQ7IGJyZWFrOyBjYXNlIGI6ICExID09PSB0ID8gITAgIT09IHRoaXMuQW5hbHl0aWNzSURDYWxsVGltZWRPdXQgJiYgKHRoaXMuQW5hbHl0aWNzSURDYWxsVGltZWRPdXQgPSAhMSkgOiB0aGlzLkFuYWx5dGljc0lEQ2FsbFRpbWVkT3V0ID0gdDsgYnJlYWs7IGNhc2UgTzogITEgPT09IHQgPyAhMCAhPT0gdGhpcy5BQU1JRENhbGxUaW1lZE91dCAmJiAodGhpcy5BQU1JRENhbGxUaW1lZE91dCA9ICExKSA6IHRoaXMuQUFNSURDYWxsVGltZWRPdXQgPSB0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9OyBmLmlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gTi5pc0NsaWVudFNpZGVNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCB9LCBmLk1DSURDYWxsVGltZWRPdXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBOLk1DSURDYWxsVGltZWRPdXQgfSwgZi5BbmFseXRpY3NJRENhbGxUaW1lZE91dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE4uQW5hbHl0aWNzSURDYWxsVGltZWRPdXQgfSwgZi5BQU1JRENhbGxUaW1lZE91dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE4uQUFNSURDYWxsVGltZWRPdXQgfSwgZi5pZFN5bmNHZXRPblBhZ2VTeW5jSW5mbyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGYuX3JlYWRWaXNpdG9yKCksIGYuX2dldEZpZWxkKEEpIH0sIGYuaWRTeW5jQnlVUkwgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGwoZSB8fCB7fSk7IGlmICh0LmVycm9yKSByZXR1cm4gdC5lcnJvcjsgdmFyIGksIG4sIHIgPSBlLnVybCwgYSA9IGVuY29kZVVSSUNvbXBvbmVudCwgcyA9IHc7IHJldHVybiByID0gci5yZXBsYWNlKC9eaHR0cHM6LywgXCJcIikucmVwbGFjZSgvXmh0dHA6LywgXCJcIiksIGkgPSBQLmVuY29kZUFuZEJ1aWxkUmVxdWVzdChbXCJcIiwgZS5kcGlkLCBlLmRwdXVpZCB8fCBcIlwiXSwgXCIsXCIpLCBuID0gW1wiaWJzXCIsIGEoZS5kcGlkKSwgXCJpbWdcIiwgYShyKSwgdC50dGwsIFwiXCIsIGldLCBzLmFkZE1lc3NhZ2Uobi5qb2luKFwifFwiKSksIHMucmVxdWVzdFRvUHJvY2VzcygpLCBcIlN1Y2Nlc3NmdWxseSBxdWV1ZWRcIiB9LCBmLmlkU3luY0J5RGF0YVNvdXJjZSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlID09PSBPYmplY3QoZSkgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZS5kcHV1aWQgJiYgZS5kcHV1aWQubGVuZ3RoID8gKGUudXJsID0gXCIvL2RwbS5kZW1kZXgubmV0L2liczpkcGlkPVwiICsgZS5kcGlkICsgXCImZHB1dWlkPVwiICsgZS5kcHV1aWQsIGYuaWRTeW5jQnlVUkwoZSkpIDogXCJFcnJvcjogY29uZmlnIG9yIGNvbmZpZy5kcHV1aWQgaXMgZW1wdHlcIiB9LCBmLl9jb21wYXJlVmVyc2lvbnMgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoZSA9PT0gdCkgcmV0dXJuIDA7IHZhciBpID0gZS50b1N0cmluZygpLnNwbGl0KFwiLlwiKSwgbiA9IHQudG9TdHJpbmcoKS5zcGxpdChcIi5cIik7IHJldHVybiB1KGkuY29uY2F0KG4pKSA/IChjKGksIG4pLCBkKGksIG4pKSA6IE5hTiB9LCBmLl9nZXRDb29raWVWZXJzaW9uID0gZnVuY3Rpb24gKGUpIHsgZSA9IGUgfHwgZi5jb29raWVSZWFkKGYuY29va2llTmFtZSk7IHZhciB0ID0gcC5WRVJTSU9OX1JFR0VYLmV4ZWMoZSk7IHJldHVybiB0ICYmIHQubGVuZ3RoID4gMSA/IHRbMV0gOiBudWxsIH0sIGYuX3Jlc2V0QW1jdkNvb2tpZSA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZi5fZ2V0Q29va2llVmVyc2lvbigpOyB0ICYmICFQLmlzTGVzc1RoYW4odCwgZSkgfHwgUC5yZW1vdmVDb29raWUoZi5jb29raWVOYW1lKSB9LCBlLmluZGV4T2YoXCJAXCIpIDwgMCAmJiAoZSArPSBcIkBBZG9iZU9yZ1wiKSwgZi5tYXJrZXRpbmdDbG91ZE9yZ0lEID0gZSwgZi5jb29raWVOYW1lID0gXCJBTUNWX1wiICsgZSwgZi5zZXNzaW9uQ29va2llTmFtZSA9IFwiQU1DVlNfXCIgKyBlLCBmLmNvb2tpZURvbWFpbiA9IGYuX2dldERvbWFpbigpLCBmLmNvb2tpZURvbWFpbiA9PT0gZy5sb2NhdGlvbi5ob3N0bmFtZSAmJiAoZi5jb29raWVEb21haW4gPSBcIlwiKSwgZi5sb2FkU1NMID0gZy5sb2NhdGlvbi5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJodHRwc1wiKSA+PSAwLCBmLmxvYWRUaW1lb3V0ID0gM2U0LCBmLkNPUlNFcnJvcnMgPSBbXSwgZi5tYXJrZXRpbmdDbG91ZFNlcnZlciA9IGYuYXVkaWVuY2VNYW5hZ2VyU2VydmVyID0gXCJkcG0uZGVtZGV4Lm5ldFwiLCBmLnNkaWRQYXJhbUV4cGlyeSA9IDMwOyB2YXIgeCA9IHt9OyBpZiAoeFtUXSA9ICEwLCB4W2tdID0gITAsIHQgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgdCkgeyB2YXIgVjsgZm9yIChWIGluIHQpIGgoVikgJiYgKGZbVl0gPSB0W1ZdKTsgZi5pZFN5bmNDb250YWluZXJJRCA9IGYuaWRTeW5jQ29udGFpbmVySUQgfHwgMCwgZi5yZXNldEJlZm9yZVZlcnNpb24gJiYgZi5fcmVzZXRBbWN2Q29va2llKGYucmVzZXRCZWZvcmVWZXJzaW9uKSwgZi5fYXR0ZW1wdFRvUG9wdWxhdGVJZHNGcm9tVXJsKCksIGYuX2F0dGVtcHRUb1BvcHVsYXRlU2RpZEZyb21VcmwoKSwgZi5fcmVhZFZpc2l0b3IoKTsgdmFyIGogPSBmLl9nZXRGaWVsZCh5KSwgVSA9IE1hdGguY2VpbCgobmV3IERhdGUpLmdldFRpbWUoKSAvIHAuTUlMTElTX1BFUl9EQVkpOyAhZi5pZFN5bmNEaXNhYmxlU3luY3MgJiYgdy5jYW5NYWtlU3luY0lEQ2FsbChqLCBVKSAmJiAoZi5fc2V0RmllbGRFeHBpcmUoaywgLTEpLCBmLl9zZXRGaWVsZCh5LCBVKSksIGYuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoKSwgZi5nZXRBdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQoKSwgZi5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKCksIGYuX21lcmdlU2VydmVyU3RhdGUoZi5zZXJ2ZXJTdGF0ZSkgfSBlbHNlIGYuX2F0dGVtcHRUb1BvcHVsYXRlSWRzRnJvbVVybCgpLCBmLl9hdHRlbXB0VG9Qb3B1bGF0ZVNkaWRGcm9tVXJsKCk7IGlmICghZi5pZFN5bmNEaXNhYmxlU3luY3MpIHsgdy5jaGVja0RQSWZyYW1lU3JjKCk7IHZhciBIID0gZnVuY3Rpb24gKCkgeyB2YXIgZSA9IHc7IGUucmVhZHlUb0F0dGFjaElmcmFtZSgpICYmIGUuYXR0YWNoSWZyYW1lKCkgfTsgUC5hZGRMaXN0ZW5lcihnLCBcImxvYWRcIiwgZnVuY3Rpb24gKCkgeyBfLndpbmRvd0xvYWRlZCA9ICEwLCBIKCkgfSk7IHRyeSB7IGYuX3hkLnJlY2VpdmVNZXNzYWdlKGZ1bmN0aW9uIChlKSB7IHcucmVjZWl2ZU1lc3NhZ2UoZS5kYXRhKSB9LCB3LmlmcmFtZUhvc3QpIH0gY2F0Y2ggKGUpIHsgfSB9IGYud2hpdGVsaXN0SWZyYW1lRG9tYWlucyAmJiBwLlBPU1RfTUVTU0FHRV9FTkFCTEVEICYmIChmLndoaXRlbGlzdElmcmFtZURvbWFpbnMgPSBmLndoaXRlbGlzdElmcmFtZURvbWFpbnMgaW5zdGFuY2VvZiBBcnJheSA/IGYud2hpdGVsaXN0SWZyYW1lRG9tYWlucyA6IFtmLndoaXRlbGlzdElmcmFtZURvbWFpbnNdLCBmLndoaXRlbGlzdElmcmFtZURvbWFpbnMuZm9yRWFjaChmdW5jdGlvbiAodCkgeyB2YXIgaSA9IG5ldyBhKGUsIHQpLCBuID0gcyhmLCBpKTsgZi5feGQucmVjZWl2ZU1lc3NhZ2UobiwgdCkgfSkpXHJcbiAgICAgICAgICAgIH07IG8uZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoIWUpIHRocm93IG5ldyBFcnJvcihcIlZpc2l0b3IgcmVxdWlyZXMgQWRvYmUgTWFya2V0aW5nIENsb3VkIE9yZyBJRFwiKTsgZS5pbmRleE9mKFwiQFwiKSA8IDAgJiYgKGUgKz0gXCJAQWRvYmVPcmdcIik7IHZhciBuID0gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IGkuc19jX2lsOyBpZiAodCkgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7IHZhciByID0gdFtuXTsgaWYgKHIgJiYgXCJWaXNpdG9yXCIgPT09IHIuX2MgJiYgci5tYXJrZXRpbmdDbG91ZE9yZ0lEID09PSBlKSByZXR1cm4gciB9IH0oKTsgaWYgKG4pIHJldHVybiBuOyB2YXIgYSA9IG5ldyBvKGUpLCBzID0gYS5pc0FsbG93ZWQoKTsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgaS5zX2NfaWwuc3BsaWNlKC0taS5zX2NfaW4sIDEpIH0oKSwgZnVuY3Rpb24gKCkgeyB0cnkgeyByZXR1cm4gaS5zZWxmICE9PSBpLnBhcmVudCB9IGNhdGNoIChlKSB7IHJldHVybiAhMCB9IH0oKSAmJiAhcyAmJiBpLnBhcmVudCA/IG5ldyByKGUsIHQsIGEsIGkucGFyZW50KSA6IG5ldyBvKGUsIHQpIH0sIG4oKSwgaS5WaXNpdG9yID0gbywgdC5leHBvcnRzID0gb1xyXG4gICAgICAgIH0pLmNhbGwodGhpcywgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB7fSlcclxuICAgIH0sIHsgXCIuL0NoaWxkVmlzaXRvclwiOiAxLCBcIi4vTWVzc2FnZVwiOiAyLCBcIi4vdXRpbHMvbWFrZUNoaWxkTWVzc2FnZUxpc3RlbmVyXCI6IDkgfV0sIDQ6IFtmdW5jdGlvbiAoZSwgdCwgaSkgeyBpLk1FU1NBR0VTID0geyBIQU5EU0hBS0U6IFwiSEFORFNIQUtFXCIsIEdFVFNUQVRFOiBcIkdFVFNUQVRFXCIsIFBBUkVOVFNUQVRFOiBcIlBBUkVOVFNUQVRFXCIgfSwgaS5TVEFURV9LRVlTX01BUCA9IHsgTUNNSUQ6IFwiTUNNSURcIiwgTUNBSUQ6IFwiTUNBSURcIiwgTUNBQU1COiBcIk1DQUFNQlwiLCBNQ0FBTUxIOiBcIk1DQUFNTEhcIiwgTUNPUFRPVVQ6IFwiTUNPUFRPVVRcIiwgQ1VTVE9NRVJJRFM6IFwiQ1VTVE9NRVJJRFNcIiB9LCBpLkFTWU5DX0FQSV9NQVAgPSB7IE1DTUlEOiBcImdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEXCIsIE1DQUlEOiBcImdldEFuYWx5dGljc1Zpc2l0b3JJRFwiLCBNQ0FBTUI6IFwiZ2V0QXVkaWVuY2VNYW5hZ2VyQmxvYlwiLCBNQ0FBTUxIOiBcImdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludFwiLCBNQ09QVE9VVDogXCJnZXRPcHRPdXRcIiB9LCBpLlNZTkNfQVBJX01BUCA9IHsgQ1VTVE9NRVJJRFM6IFwiZ2V0Q3VzdG9tZXJJRHNcIiB9LCBpLkFMTF9BUElTID0geyBNQ01JRDogXCJnZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRFwiLCBNQ0FBTUI6IFwiZ2V0QXVkaWVuY2VNYW5hZ2VyQmxvYlwiLCBNQ0FBTUxIOiBcImdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludFwiLCBNQ09QVE9VVDogXCJnZXRPcHRPdXRcIiwgTUNBSUQ6IFwiZ2V0QW5hbHl0aWNzVmlzaXRvcklEXCIsIENVU1RPTUVSSURTOiBcImdldEN1c3RvbWVySURzXCIgfSwgaS5GSUVMREdST1VQX1RPX0ZJRUxEID0geyBNQzogXCJNQ01JRFwiLCBBOiBcIk1DQUlEXCIsIEFBTTogXCJNQ0FBTUJcIiB9IH0sIHt9XSwgNTogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IHZhciBuID0gZShcIi4uL2VudW1zXCIpLCByID0gbi5TVEFURV9LRVlTX01BUDsgdC5leHBvcnRzID0gZnVuY3Rpb24gKGUpIHsgZnVuY3Rpb24gdCgpIHsgfSBmdW5jdGlvbiBpKHQsIGkpIHsgdmFyIG4gPSB0aGlzOyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IGUoMCwgci5NQ01JRCksIGEgPSB7fTsgcmV0dXJuIGFbci5NQ01JRF0gPSB0LCBuLnNldFN0YXRlQW5kUHVibGlzaChhKSwgaSh0KSwgdCB9IH0gdGhpcy5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCA9IGZ1bmN0aW9uIChlKSB7IGUgPSBlIHx8IHQ7IHZhciBuID0gdGhpcy5maW5kRmllbGQoci5NQ01JRCwgZSksIGEgPSBpLmNhbGwodGhpcywgci5NQ01JRCwgZSk7IHJldHVybiB2b2lkIDAgIT09IG4gPyBuIDogYSgpIH0gfSB9LCB7IFwiLi4vZW51bXNcIjogNCB9XSwgNjogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IHZhciBuID0gZShcIi4uL2VudW1zXCIpLCByID0gbi5BU1lOQ19BUElfTUFQOyB0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7IE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgdGhpc1tyW2VdXSA9IGZ1bmN0aW9uICh0KSB7IHRoaXMuY2FsbGJhY2tSZWdpc3RyeS5hZGQoZSwgdCkgfSB9LCB0aGlzKSB9IH0sIHsgXCIuLi9lbnVtc1wiOiA0IH1dLCA3OiBbZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4gPSBlKFwiLi4vZW51bXNcIiksIHIgPSBuLk1FU1NBR0VTLCBhID0gbi5BU1lOQ19BUElfTUFQLCBzID0gbi5TWU5DX0FQSV9NQVA7IHQuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZSgpIHsgfSBmdW5jdGlvbiB0KGUsIHQpIHsgdmFyIGkgPSB0aGlzOyByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gaS5jYWxsYmFja1JlZ2lzdHJ5LmFkZChlLCB0KSwgaS5tZXNzYWdlUGFyZW50KHIuR0VUU1RBVEUpLCBcIlwiIH0gfSBmdW5jdGlvbiBpKGkpIHsgdGhpc1thW2ldXSA9IGZ1bmN0aW9uIChuKSB7IG4gPSBuIHx8IGU7IHZhciByID0gdGhpcy5maW5kRmllbGQoaSwgbiksIGEgPSB0LmNhbGwodGhpcywgaSwgbik7IHJldHVybiB2b2lkIDAgIT09IHIgPyByIDogYSgpIH0gfSBmdW5jdGlvbiBuKHQpIHsgdGhpc1tzW3RdXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZmluZEZpZWxkKHQsIGUpIHx8IHt9IH0gfSBPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGksIHRoaXMpLCBPYmplY3Qua2V5cyhzKS5mb3JFYWNoKG4sIHRoaXMpIH0gfSwgeyBcIi4uL2VudW1zXCI6IDQgfV0sIDg6IFtmdW5jdGlvbiAoZSwgdCwgaSkgeyBmdW5jdGlvbiBuKCkgeyByZXR1cm4geyBjYWxsYmFja3M6IHt9LCBhZGQ6IGZ1bmN0aW9uIChlLCB0KSB7IHRoaXMuY2FsbGJhY2tzW2VdID0gdGhpcy5jYWxsYmFja3NbZV0gfHwgW107IHZhciBpID0gdGhpcy5jYWxsYmFja3NbZV0ucHVzaCh0KSAtIDE7IHJldHVybiBmdW5jdGlvbiAoKSB7IHRoaXMuY2FsbGJhY2tzW2VdLnNwbGljZShpLCAxKSB9IH0sIGV4ZWN1dGU6IGZ1bmN0aW9uIChlLCB0KSB7IGlmICh0aGlzLmNhbGxiYWNrc1tlXSkgeyB0ID0gdm9pZCAwID09PSB0ID8gW10gOiB0LCB0ID0gdCBpbnN0YW5jZW9mIEFycmF5ID8gdCA6IFt0XTsgdHJ5IHsgZm9yICg7IHRoaXMuY2FsbGJhY2tzW2VdLmxlbmd0aDspIHsgdmFyIGkgPSB0aGlzLmNhbGxiYWNrc1tlXS5zaGlmdCgpOyBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGkgPyBpLmFwcGx5KG51bGwsIHQpIDogaSBpbnN0YW5jZW9mIEFycmF5ICYmIGlbMV0uYXBwbHkoaVswXSwgdCkgfSBkZWxldGUgdGhpcy5jYWxsYmFja3NbZV0gfSBjYXRjaCAoZSkgeyB9IH0gfSwgZXhlY3V0ZUFsbDogZnVuY3Rpb24gKGUsIHQpIHsgKHQgfHwgZSAmJiAhci5pc09iamVjdEVtcHR5KGUpKSAmJiBPYmplY3Qua2V5cyh0aGlzLmNhbGxiYWNrcykuZm9yRWFjaChmdW5jdGlvbiAodCkgeyB2YXIgaSA9IHZvaWQgMCAhPT0gZVt0XSA/IGVbdF0gOiBcIlwiOyB0aGlzLmV4ZWN1dGUodCwgaSkgfSwgdGhpcykgfSwgaGFzQ2FsbGJhY2tzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBCb29sZWFuKE9iamVjdC5rZXlzKHRoaXMuY2FsbGJhY2tzKS5sZW5ndGgpIH0gfSB9IHZhciByID0gZShcIi4vdXRpbHNcIik7IHQuZXhwb3J0cyA9IG4gfSwgeyBcIi4vdXRpbHNcIjogMTEgfV0sIDk6IFtmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiA9IGUoXCIuLi9lbnVtc1wiKSwgciA9IGUoXCIuL3V0aWxzXCIpLCBhID0gbi5NRVNTQUdFUywgcyA9IG4uQUxMX0FQSVMsIG8gPSBuLkFTWU5DX0FQSV9NQVAsIGwgPSBuLkZJRUxER1JPVVBfVE9fRklFTEQ7IHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlLCB0KSB7IGZ1bmN0aW9uIGkoKSB7IHZhciB0ID0ge307IHJldHVybiBPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7IHZhciBuID0gc1tpXSwgYSA9IGVbbl0oKTsgci5pc1ZhbHVlRW1wdHkoYSkgfHwgKHRbaV0gPSBhKSB9KSwgdCB9IGZ1bmN0aW9uIG4oKSB7IHZhciB0ID0gW107IHJldHVybiBlLl9sb2FkaW5nICYmIE9iamVjdC5rZXlzKGUuX2xvYWRpbmcpLmZvckVhY2goZnVuY3Rpb24gKGkpIHsgaWYgKGUuX2xvYWRpbmdbaV0pIHsgdmFyIG4gPSBsW2ldOyB0LnB1c2gobikgfSB9KSwgdC5sZW5ndGggPyB0IDogbnVsbCB9IGZ1bmN0aW9uIHUodCkgeyByZXR1cm4gZnVuY3Rpb24gaShyKSB7IHZhciBhID0gbigpOyBpZiAoYSkgeyB2YXIgcyA9IG9bYVswXV07IGVbc10oaSwgITApIH0gZWxzZSB0KCkgfSB9IGZ1bmN0aW9uIGMoZSwgbikgeyB2YXIgciA9IGkoKTsgdC5zZW5kKGUsIG4sIHIpIH0gZnVuY3Rpb24gZChlKSB7IGcoZSksIGMoZSwgYS5IQU5EU0hBS0UpIH0gZnVuY3Rpb24gZihlKSB7IHUoZnVuY3Rpb24gKCkgeyBjKGUsIGEuUEFSRU5UU1RBVEUpIH0pKCkgfSBmdW5jdGlvbiBnKGkpIHsgZnVuY3Rpb24gbihuKSB7IHIuY2FsbChlLCBuKSwgdC5zZW5kKGksIGEuUEFSRU5UU1RBVEUsIHsgQ1VTVE9NRVJJRFM6IGUuZ2V0Q3VzdG9tZXJJRHMoKSB9KSB9IHZhciByID0gZS5zZXRDdXN0b21lcklEczsgZS5zZXRDdXN0b21lcklEcyA9IG4gfSByZXR1cm4gZnVuY3Rpb24gKGUpIHsgaWYgKCF0LmlzSW52YWxpZChlKSkgeyAodC5wYXJzZShlKS5wcmVmaXggPT09IGEuSEFORFNIQUtFID8gZCA6IGYpKGUuc291cmNlKSB9IH0gfSB9LCB7IFwiLi4vZW51bXNcIjogNCwgXCIuL3V0aWxzXCI6IDExIH1dLCAxMDogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IE9iamVjdC5rZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBbXTsgZm9yICh2YXIgaSBpbiBlKSB0Lmhhc093blByb3BlcnR5LmNhbGwoZSwgaSkgJiYgdC5wdXNoKGkpOyByZXR1cm4gdCB9LCBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoIHx8IGZ1bmN0aW9uIChlLCB0KSB7IGZvciAodmFyIGkgPSB0aGlzLCBuID0gMCwgciA9IGkubGVuZ3RoOyBuIDwgcjsgbisrKWUuY2FsbCh0LCBpW25dLCBuLCBpKSB9LCBPYmplY3QuYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAoZSwgdCkgeyBmb3IgKHZhciBpLCBuLCByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7ICsrcikgeyBuID0gYXJndW1lbnRzW3JdOyBmb3IgKGkgaW4gbikgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIGkpICYmIChlW2ldID0gbltpXSkgfSByZXR1cm4gZSB9IH0sIHt9XSwgMTE6IFtmdW5jdGlvbiAoZSwgdCwgaSkgeyBpLmlzT2JqZWN0RW1wdHkgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSA9PT0gT2JqZWN0KGUpICYmIDAgPT09IE9iamVjdC5rZXlzKGUpLmxlbmd0aCB9LCBpLmlzVmFsdWVFbXB0eSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBcIlwiID09PSBlIHx8IGkuaXNPYmplY3RFbXB0eShlKSB9IH0sIHt9XVxyXG59LCB7fSwgWzEsIDIsIDMsIDRdKTtcclxuXHJcbnZhciB2aXNpdG9yID0gVmlzaXRvci5nZXRJbnN0YW5jZShcIkFBN0EzQkM3NTI0NUIzQkMwQTQ5MEQ0REBBZG9iZU9yZ1wiLCB7XHJcbiAgICBcInRyYWNraW5nU2VydmVyXCI6IFwib21uaS5zdW50cnVzdC5jb21cIixcclxuICAgIFwidHJhY2tpbmdTZXJ2ZXJTZWN1cmVcIjogXCJzb21uaS5zdW50cnVzdC5jb21cIixcclxuICAgIFwibWFya2V0aW5nQ2xvdWRTZXJ2ZXJcIjogXCJvbW5pLnN1bnRydXN0LmNvbVwiLFxyXG4gICAgXCJtYXJrZXRpbmdDbG91ZFNlcnZlclNlY3VyZVwiOiBcInNvbW5pLnN1bnRydXN0LmNvbVwiXHJcbn0pOyIsIi8vTm8gQ3VzdG9tIEphdmFTY3JpcHRcclxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIGF0LmpzIDEuNi4zIHwgKGMpIEFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkIHwgQWxsIHJpZ2h0cyByZXNlcnZlZFxyXG4gKiB6ZXB0by5qcyB8IChjKSAyMDEwLTIwMTYgVGhvbWFzIEZ1Y2hzIHwgemVwdG9qcy5jb20vbGljZW5zZVxyXG4qL1xyXG53aW5kb3cuYWRvYmUgPSB3aW5kb3cuYWRvYmUgfHwge30sIHdpbmRvdy5hZG9iZS50YXJnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjsgZnVuY3Rpb24gbigpIHsgfSBmdW5jdGlvbiB0KG4pIHsgaWYgKG51bGwgPT09IG4gfHwgdm9pZCAwID09PSBuKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcIik7IHJldHVybiBPYmplY3QobikgfSBmdW5jdGlvbiBlKG4pIHsgcmV0dXJuIFVjLmNhbGwobikgfSBmdW5jdGlvbiByKG4pIHsgcmV0dXJuIGUobikgfSBmdW5jdGlvbiBpKG4pIHsgdmFyIHQgPSB2b2lkIDAgPT09IG4gPyBcInVuZGVmaW5lZFwiIDogRmMobik7IHJldHVybiBudWxsICE9IG4gJiYgKFwib2JqZWN0XCIgPT09IHQgfHwgXCJmdW5jdGlvblwiID09PSB0KSB9IGZ1bmN0aW9uIG8obikgeyByZXR1cm4gISFpKG4pICYmIHIobikgPT09ICRjIH0gZnVuY3Rpb24gdShuKSB7IHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMV0gPyBhcmd1bWVudHNbMV0gOiAwOyByZXR1cm4gbyhuKSA/IHNldFRpbWVvdXQobiwgTnVtYmVyKHQpIHx8IDApIDogLTEgfSBmdW5jdGlvbiBjKCkgeyB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzBdID8gYXJndW1lbnRzWzBdIDogLTE7IC0xICE9PSBuICYmIGNsZWFyVGltZW91dChuKSB9IGZ1bmN0aW9uIGEobikgeyByZXR1cm4gbnVsbCA9PSBuIH0gZnVuY3Rpb24gZihuKSB7IHJldHVybiBuIH0gZnVuY3Rpb24gcyhuKSB7IHJldHVybiBvKG4pID8gbiA6IGYgfSBmdW5jdGlvbiBsKG4pIHsgcmV0dXJuIGEobikgPyBbXSA6IE9iamVjdC5rZXlzKG4pIH0gZnVuY3Rpb24gZChuLCB0KSB7IHJldHVybiBhKHQpID8gW10gOiAoQmModCkgPyB6YyA6IFpjKShzKG4pLCB0KSB9IGZ1bmN0aW9uIGgobikgeyByZXR1cm4gbiAmJiBuLmxlbmd0aCA/IG5bMF0gOiB2b2lkIDAgfSBmdW5jdGlvbiBwKG4pIHsgcmV0dXJuIGEobikgPyBbXSA6IFtdLmNvbmNhdC5hcHBseShbXSwgbikgfSBmdW5jdGlvbiB2KG4pIHsgZm9yICh2YXIgdCA9IHRoaXMsIGUgPSBuID8gbi5sZW5ndGggOiAwLCByID0gZTsgciAtPSAxOylpZiAoIW8obltyXSkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpOyByZXR1cm4gZnVuY3Rpb24gKCkgeyBmb3IgKHZhciByID0gYXJndW1lbnRzLmxlbmd0aCwgaSA9IEFycmF5KHIpLCBvID0gMDsgbyA8IHI7IG8rKylpW29dID0gYXJndW1lbnRzW29dOyBmb3IgKHZhciB1ID0gMCwgYyA9IGUgPyBuW3VdLmFwcGx5KHQsIGkpIDogaVswXTsgKHUgKz0gMSkgPCBlOyljID0gblt1XS5jYWxsKHQsIGMpOyByZXR1cm4gYyB9IH0gZnVuY3Rpb24gbShuLCB0KSB7IGlmICghYSh0KSkgeyAoQmModCkgPyBIYyA6IFZjKShzKG4pLCB0KSB9IH0gZnVuY3Rpb24gZyhuKSB7IHJldHVybiBudWxsICE9IG4gJiYgXCJvYmplY3RcIiA9PT0gKHZvaWQgMCA9PT0gbiA/IFwidW5kZWZpbmVkXCIgOiBGYyhuKSkgfSBmdW5jdGlvbiB5KG4pIHsgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4gfHwgIUJjKG4pICYmIGcobikgJiYgcihuKSA9PT0gR2MgfSBmdW5jdGlvbiBiKG4pIHsgaWYgKCF5KG4pKSByZXR1cm4gLTE7IGZvciAodmFyIHQgPSAwLCBlID0gbi5sZW5ndGgsIHIgPSAwOyByIDwgZTsgciArPSAxKXQgPSAodCA8PCA1KSAtIHQgKyBuLmNoYXJDb2RlQXQocikgJiA0Mjk0OTY3Mjk1OyByZXR1cm4gdCB9IGZ1bmN0aW9uIHgobikgeyByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgbiAmJiBuID4gLTEgJiYgbiAlIDEgPT0gMCAmJiBuIDw9IEtjIH0gZnVuY3Rpb24gRShuKSB7IHJldHVybiBudWxsICE9IG4gJiYgeChuLmxlbmd0aCkgJiYgIW8obikgfSBmdW5jdGlvbiB3KG4sIHQpIHsgcmV0dXJuIEpjKGZ1bmN0aW9uIChuKSB7IHJldHVybiB0W25dIH0sIG4pIH0gZnVuY3Rpb24gQyhuKSB7IGZvciAodmFyIHQgPSAwLCBlID0gbi5sZW5ndGgsIHIgPSBBcnJheShlKTsgdCA8IGU7KXJbdF0gPSBuW3RdLCB0ICs9IDE7IHJldHVybiByIH0gZnVuY3Rpb24gUyhuKSB7IHJldHVybiBuLnNwbGl0KFwiXCIpIH0gZnVuY3Rpb24gTyhuKSB7IHJldHVybiBhKG4pID8gW10gOiBFKG4pID8geShuKSA/IFMobikgOiBDKG4pIDogdyhsKG4pLCBuKSB9IGZ1bmN0aW9uIFQobikgeyBpZiAobnVsbCA9PSBuKSByZXR1cm4gITA7IGlmIChFKG4pICYmIChCYyhuKSB8fCB5KG4pIHx8IG8obi5zcGxpY2UpKSkgcmV0dXJuICFuLmxlbmd0aDsgZm9yICh2YXIgdCBpbiBuKSBpZiAoWGMuY2FsbChuLCB0KSkgcmV0dXJuICExOyByZXR1cm4gITAgfSBmdW5jdGlvbiBrKG4pIHsgcmV0dXJuIGEobikgPyBcIlwiIDogUWMuY2FsbChuKSB9IGZ1bmN0aW9uIE4obikgeyByZXR1cm4geShuKSA/ICFrKG4pIDogVChuKSB9IGZ1bmN0aW9uIEEobikgeyByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKE9iamVjdChuKSkgfSBmdW5jdGlvbiBqKG4pIHsgaWYgKCFnKG4pIHx8IHIobikgIT09IG5hKSByZXR1cm4gITE7IHZhciB0ID0gQShuKTsgaWYgKG51bGwgPT09IHQpIHJldHVybiAhMDsgdmFyIGUgPSBpYS5jYWxsKHQsIFwiY29uc3RydWN0b3JcIikgJiYgdC5jb25zdHJ1Y3RvcjsgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSAmJiBlIGluc3RhbmNlb2YgZSAmJiByYS5jYWxsKGUpID09PSBvYSB9IGZ1bmN0aW9uIEQobikgeyByZXR1cm4gZyhuKSAmJiAxID09PSBuLm5vZGVUeXBlICYmICFqKG4pIH0gZnVuY3Rpb24gXyhuKSB7IHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiBuIHx8IGcobikgJiYgcihuKSA9PT0gY2EgfSBmdW5jdGlvbiBSKG4sIHQpIHsgcmV0dXJuIGEodCkgPyBbXSA6IChCYyh0KSA/IEpjIDogYWEpKHMobiksIHQpIH0gZnVuY3Rpb24gUCgpIHsgfSBmdW5jdGlvbiBJKCkgeyByZXR1cm4gKG5ldyBEYXRlKS5nZXRUaW1lKCkgfSBmdW5jdGlvbiBNKG4sIHQsIGUpIHsgcmV0dXJuIGEoZSkgPyB0IDogKEJjKGUpID8gZmEgOiBzYSkocyhuKSwgdCwgZSkgfSBmdW5jdGlvbiBxKG4pIHsgcmV0dXJuIG51bGwgPT0gbiA/IG4gOiBkYS5jYWxsKG4pIH0gZnVuY3Rpb24gTChuLCB0KSB7IHJldHVybiBOKHQpID8gW10gOiB0LnNwbGl0KG4pIH0gZnVuY3Rpb24gVShuLCB0KSB7IHJldHVybiBuICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHQgLSBuICsgMSkpIH0gZnVuY3Rpb24gRigpIHsgdmFyIG4gPSBJKCk7IHJldHVybiBcInh4eHh4eHh4eHh4eDR4eHh5eHh4eHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IChuICsgVSgwLCAxNikpICUgMTYgfCAwOyByZXR1cm4gbiA9IE1hdGguZmxvb3IobiAvIDE2KSwgKFwieFwiID09PSB0ID8gZSA6IDMgJiBlIHwgOCkudG9TdHJpbmcoMTYpIH0pIH0gZnVuY3Rpb24gJChuKSB7IHJldHVybiBjZC50ZXN0KG4pIH0gZnVuY3Rpb24gQihuKSB7IGlmICgkKG4pKSByZXR1cm4gbjsgdmFyIHQgPSBxKEwoXCIuXCIsIG4pKSwgZSA9IHQubGVuZ3RoOyByZXR1cm4gZSA+PSAzICYmIGFkLnRlc3QodFsxXSkgPyB0WzJdICsgXCIuXCIgKyB0WzFdICsgXCIuXCIgKyB0WzBdIDogMSA9PT0gZSA/IHRbMF0gOiB0WzFdICsgXCIuXCIgKyB0WzBdIH0gZnVuY3Rpb24gSChuLCB0KSB7IG4uZW5hYmxlZCAmJiBtKGZ1bmN0aW9uIChlKSB7IGEodFtlXSkgfHwgKG5bZV0gPSB0W2VdKSB9LCBsZCkgfSBmdW5jdGlvbiBWKG4pIHsgdmFyIHQgPSBuLmRvY3VtZW50TW9kZTsgcmV0dXJuICF0IHx8IHQgPj0gMTAgfSBmdW5jdGlvbiB6KG4pIHsgdmFyIHQgPSBuLmNvbXBhdE1vZGU7IHJldHVybiB0ICYmIFwiQ1NTMUNvbXBhdFwiID09PSB0IH0gZnVuY3Rpb24gWihuLCB0LCBlKSB7IHZhciByID0gbi5sb2NhdGlvbi5wcm90b2NvbCA9PT0gZmQsIGkgPSBcIlwiOyByIHx8IChpID0gQihuLmxvY2F0aW9uLmhvc3RuYW1lKSksIGVbbWxdID0gaSwgZVt6c10gPSB6KHQpICYmIFYodCksIEgoZSwgblt0ZF0gfHwge30pIH0gZnVuY3Rpb24gRyhuKSB7IFooaGEsIHBhLCBuKTsgdmFyIHQgPSBoYS5sb2NhdGlvbi5wcm90b2NvbCA9PT0gZmQ7IHNkID0gcWMoe30sIG4pLCBzZFtybF0gPSBuW3JsXSAvIDFlMywgc2RbaWxdID0gbltpbF0gLyAxZTMsIHNkW2hsXSA9IFwieC1vbmx5XCIgPT09IHNkW0pzXSwgc2RbcGxdID0gXCJkaXNhYmxlZFwiICE9PSBzZFtKc10sIHNkW3ZsXSA9IHNkW3NsXSB8fCB0ID8gXCJodHRwczpcIiA6IFwiXCIgfSBmdW5jdGlvbiBLKCkgeyByZXR1cm4gc2QgfSBmdW5jdGlvbiBKKG4sIHQpIHsgcmV0dXJuIHQgPSB7IGV4cG9ydHM6IHt9IH0sIG4odCwgdC5leHBvcnRzKSwgdC5leHBvcnRzIH0gZnVuY3Rpb24gVyhuKSB7IHRyeSB7IHJldHVybiBkZWNvZGVVUklDb21wb25lbnQobikgfSBjYXRjaCAodCkgeyByZXR1cm4gbiB9IH0gZnVuY3Rpb24gWChuKSB7IHRyeSB7IHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobikgfSBjYXRjaCAodCkgeyByZXR1cm4gbiB9IH0gZnVuY3Rpb24gWShuLCB0KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgdCkgfSBmdW5jdGlvbiBRKG4pIHsgaWYgKE5kW25dKSByZXR1cm4gTmRbbl07IGtkLmhyZWYgPSBuOyB2YXIgdCA9IGJkKGtkLmhyZWYpOyByZXR1cm4gdC5xdWVyeUtleSA9IFRkKHQucXVlcnkpLCBOZFtuXSA9IHQsIE5kW25dIH0gZnVuY3Rpb24gbm4obiwgdCwgZSkgeyByZXR1cm4geyBuYW1lOiBuLCB2YWx1ZTogdCwgZXhwaXJlczogZSB9IH0gZnVuY3Rpb24gdG4obikgeyB2YXIgdCA9IEwoXCIjXCIsIG4pOyByZXR1cm4gVCh0KSB8fCB0Lmxlbmd0aCA8IDMgPyBudWxsIDogaXNOYU4ocGFyc2VJbnQodFsyXSwgMTApKSA/IG51bGwgOiBubihXKHRbMF0pLCBXKHRbMV0pLCBOdW1iZXIodFsyXSkpIH0gZnVuY3Rpb24gZW4obikgeyByZXR1cm4gTihuKSA/IFtdIDogTChcInxcIiwgbikgfSBmdW5jdGlvbiBybigpIHsgdmFyIG4gPSBSKHRuLCBlbihtZChWcykpKSwgdCA9IE1hdGguY2VpbChJKCkgLyAxZTMpLCBlID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGkobikgJiYgdCA8PSBuLmV4cGlyZXMgfTsgcmV0dXJuIE0oZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIG5bdC5uYW1lXSA9IHQsIG4gfSwge30sIGQoZSwgbikpIH0gZnVuY3Rpb24gb24obikgeyB2YXIgdCA9IHJuKCksIGUgPSB0W25dOyByZXR1cm4gaShlKSA/IGUudmFsdWUgOiBcIlwiIH0gZnVuY3Rpb24gdW4obikgeyByZXR1cm4gW1gobi5uYW1lKSwgWChuLnZhbHVlKSwgbi5leHBpcmVzXS5qb2luKFwiI1wiKSB9IGZ1bmN0aW9uIGNuKG4pIHsgcmV0dXJuIG4uZXhwaXJlcyB9IGZ1bmN0aW9uIGFuKG4pIHsgdmFyIHQgPSBSKGNuLCBuKTsgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHQpIH0gZnVuY3Rpb24gZm4obiwgdCkgeyB2YXIgZSA9IE8obiksIHIgPSBNYXRoLmFicygxZTMgKiBhbihlKSAtIEkoKSksIGkgPSBSKHVuLCBlKS5qb2luKFwifFwiKSwgbyA9IG5ldyBEYXRlKEkoKSArIHIpOyBnZChWcywgaSwgeyBkb21haW46IHQsIGV4cGlyZXM6IG8gfSkgfSBmdW5jdGlvbiBzbihuKSB7IHZhciB0ID0gbi5uYW1lLCBlID0gbi52YWx1ZSwgciA9IG4uZXhwaXJlcywgaSA9IG4uZG9tYWluLCBvID0gcm4oKTsgb1t0XSA9IG5uKHQsIGUsIE1hdGguY2VpbChyICsgSSgpIC8gMWUzKSksIGZuKG8sIGkpIH0gZnVuY3Rpb24gbG4obikgeyByZXR1cm4gdWEobWQobikpIH0gZnVuY3Rpb24gZG4obiwgdCkgeyB2YXIgZSA9IG4ubG9jYXRpb24sIHIgPSBlLnNlYXJjaCwgaSA9IFRkKHIpOyByZXR1cm4gdWEoaVt0XSkgfSBmdW5jdGlvbiBobihuLCB0KSB7IHZhciBlID0gbi5yZWZlcnJlciwgciA9IFEoZSksIGkgPSByLnF1ZXJ5S2V5OyByZXR1cm4gIWEoaSkgJiYgdWEoaVt0XSkgfSBmdW5jdGlvbiBwbihuLCB0LCBlKSB7IHJldHVybiBsbihlKSB8fCBkbihuLCBlKSB8fCBobih0LCBlKSB9IGZ1bmN0aW9uIHZuKCkgeyB2YXIgbiA9IEsoKSwgdCA9IG5bbWxdOyBnZChhZiwgZmYsIHsgZG9tYWluOiB0IH0pOyB2YXIgZSA9IG1kKGFmKSA9PT0gZmY7IHJldHVybiB5ZChhZiksIGUgfSBmdW5jdGlvbiBtbigpIHsgcmV0dXJuIHBuKGhhLCBwYSwgdWYpIH0gZnVuY3Rpb24gZ24oKSB7IHZhciBuID0gSygpLCB0ID0gblt6c107IHJldHVybiBuW2hsXSA/IHQgJiYgIW1uKCkgOiB0ICYmIHZuKCkgJiYgIW1uKCkgfSBmdW5jdGlvbiB5bigpIHsgcmV0dXJuIHBuKGhhLCBwYSwgb2YpIH0gZnVuY3Rpb24gYm4oKSB7IHJldHVybiBwbihoYSwgcGEsIGNmKSB9IGZ1bmN0aW9uIHhuKG4sIHQpIHsgdmFyIGUgPSBuLmNvbnNvbGU7IHJldHVybiAhYShlKSAmJiBvKGVbdF0pIH0gZnVuY3Rpb24gRW4obiwgdCkgeyB2YXIgZSA9IG4uY29uc29sZTsgeG4obiwgXCJ3YXJuXCIpICYmIGUud2Fybi5hcHBseShlLCBbamRdLmNvbmNhdCh0KSkgfSBmdW5jdGlvbiB3bihuLCB0KSB7IHZhciBlID0gbi5jb25zb2xlOyB4bihuLCBcImRlYnVnXCIpICYmIHluKCkgJiYgZS5kZWJ1Zy5hcHBseShlLCBbamRdLmNvbmNhdCh0KSkgfSBmdW5jdGlvbiBDbigpIHsgZm9yICh2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHQgPSBBcnJheShuKSwgZSA9IDA7IGUgPCBuOyBlKyspdFtlXSA9IGFyZ3VtZW50c1tlXTsgRW4oaGEsIHQpIH0gZnVuY3Rpb24gU24oKSB7IGZvciAodmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoLCB0ID0gQXJyYXkobiksIGUgPSAwOyBlIDwgbjsgZSsrKXRbZV0gPSBhcmd1bWVudHNbZV07IHduKGhhLCB0KSB9IGZ1bmN0aW9uIE9uKG4pIHsgcmV0dXJuIE0oZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHRbZV0gPSBuW2VdLCB0IH0sIHt9LCBfZCkgfSBmdW5jdGlvbiBUbihuLCB0LCBlKSB7IHZhciByID0gbltuZF0gfHwgW107IGlmIChlKSB7IHZhciBpID0gci5wdXNoOyByW1FzXSA9IERkLCByW1hsXSA9IE9uKHQpLCByW1lsXSA9IFtdLCByW1FsXSA9IFtdLCByLnB1c2ggPSBmdW5jdGlvbiAobikgeyByW1FsXS5wdXNoKG4pLCBpLmNhbGwodGhpcywgbikgfSB9IG5bbmRdID0gciB9IGZ1bmN0aW9uIGtuKG4sIHQsIGUsIHIpIHsgaWYgKHQpIHsgdmFyIGkgPSB7fTsgaVtpZF0gPSBJKCksIG5bbmRdW2VdLnB1c2gocWMoaSwgcikpIH0gfSBmdW5jdGlvbiBObigpIHsgVG4oaGEsIEsoKSwgeW4oKSkgfSBmdW5jdGlvbiBBbihuLCB0KSB7IGtuKGhhLCB5bigpLCBuLCB0KSB9IGZ1bmN0aW9uIGpuKCkgeyB2YXIgbiA9IHt9OyByZXR1cm4gbltFc10gPSAhMCwgbiB9IGZ1bmN0aW9uIERuKG4pIHsgdmFyIHQgPSB7fTsgcmV0dXJuIHRbRXNdID0gITEsIHRbeXNdID0gbiwgdCB9IGZ1bmN0aW9uIF9uKG4pIHsgcmV0dXJuIE4obikgPyBEbihfZikgOiBuLmxlbmd0aCA+IHNmID8gRG4oUmYpIDogam4oKSB9IGZ1bmN0aW9uIFJuKG4pIHsgaWYgKCFpKG4pKSByZXR1cm4gRG4oRGYpOyB2YXIgdCA9IG5bQ3NdLCBlID0gX24odCk7IHJldHVybiBlW0VzXSA/IG8oblt3c10pID8gbyhuW3lzXSkgPyBqbigpIDogRG4oSWYpIDogRG4oUGYpIDogZSB9IGZ1bmN0aW9uIFBuKG4pIHsgaWYgKCFpKG4pKSByZXR1cm4gRG4oRGYpOyB2YXIgdCA9IG5bQ3NdLCBlID0gX24odCk7IGlmICghZVtFc10pIHJldHVybiBlOyB2YXIgciA9IG5bU3NdOyByZXR1cm4gQmMocikgPyBqbigpIDogRG4oTWYpIH0gZnVuY3Rpb24gSW4obikgeyBpZiAoIWkobikpIHJldHVybiBEbihEZik7IHZhciB0ID0gbltDc10sIGUgPSBfbih0KTsgcmV0dXJuIGVbRXNdID8gam4oKSA6IGUgfSBmdW5jdGlvbiBNbihuLCB0KSB7IGlmICghaShuKSkgcmV0dXJuIERuKERmKTsgdmFyIGUgPSBuW09zXTsgaWYgKE4oZSkpIHJldHVybiBEbihxZik7IHZhciByID0gTChcIi5cIiwgZSk7IGlmICghVChkKGZ1bmN0aW9uIChuKSB7IHJldHVybiAhbGYudGVzdChuKSB9LCByKSkpIHJldHVybiBEbihMZik7IHZhciB1ID0gbltUc107IHJldHVybiAhQmModSkgfHwgVCh1KSA/IERuKFVmKSA6IFQoZChmdW5jdGlvbiAobikgeyByZXR1cm4gYSh0W25dKSB9LCB1KSkgPyBvKG5ba3NdKSA/IGpuKCkgOiBEbihGZikgOiBEbigkZikgfSBmdW5jdGlvbiBxbihuLCB0KSB7IHNuKHsgbmFtZTogSGwsIHZhbHVlOiBuLCBleHBpcmVzOiB0W2lsXSwgZG9tYWluOiB0W21sXSB9KSB9IGZ1bmN0aW9uIExuKG4pIHsgdmFyIHQgPSBLKCk7IHRbaGxdIHx8IHFuKG4sIHQpIH0gZnVuY3Rpb24gVW4oKSB7IHZhciBuID0gSygpOyByZXR1cm4gbltobF0gPyBSZCA6IChOKG9uKEhsKSkgJiYgcW4oUmQsIG4pLCBvbihIbCkpIH0gZnVuY3Rpb24gRm4obikgeyB2YXIgdCA9IEsoKTsgdFtobF0gfHwgc24oeyBuYW1lOiAkbCwgdmFsdWU6IG4sIGV4cGlyZXM6IHRbcmxdLCBkb21haW46IHRbbWxdIH0pIH0gZnVuY3Rpb24gJG4oKSB7IHJldHVybiBLKClbaGxdID8gXCJcIiA6IG9uKCRsKSB9IGZ1bmN0aW9uIEJuKG4pIHsgdmFyIHQgPSBQZC5leGVjKG4pOyByZXR1cm4gVCh0KSB8fCAyICE9PSB0Lmxlbmd0aCA/IFwiXCIgOiB0WzFdIH0gZnVuY3Rpb24gSG4oKSB7IGlmICghSygpW2NsXSkgcmV0dXJuIFwiXCI7IHZhciBuID0gbWQoQmwpOyByZXR1cm4gTihuKSA/IFwiXCIgOiBuIH0gZnVuY3Rpb24gVm4obikgeyB2YXIgdCA9IEsoKTsgaWYgKHRbY2xdKSB7IHZhciBlID0gbWQoQmwpOyBpZiAoIXVhKGUpKSB7IHZhciByID0gQm4obik7IGlmICghTihyKSkgeyB2YXIgaSA9IG5ldyBEYXRlKEkoKSArIHRbYWxdKTsgZ2QoQmwsIHIsIHsgZG9tYWluOiB0W21sXSwgZXhwaXJlczogaSB9KSB9IH0gfSB9IGZ1bmN0aW9uIHpuKG4pIHsgcmV0dXJuIG5bdmFdID09PSBYYSB9IGZ1bmN0aW9uIFpuKG4sIHQpIHsgdmFyIGUgPSBuKCksIHIgPSB0KCksIGkgPSB7fTsgcmV0dXJuIGkuc2Vzc2lvbklkID0gZSwgdWEocikgPyAoaS5kZXZpY2VJZCA9IHIsIGkpIDogaSB9IGZ1bmN0aW9uIEduKG4sIHQsIGUsIHIpIHsgdmFyIGkgPSBuZXcgbi5DdXN0b21FdmVudChlLCB7IGRldGFpbDogciB9KTsgdC5kaXNwYXRjaEV2ZW50KGkpIH0gZnVuY3Rpb24gS24obikgeyByZXR1cm4gIVQobikgJiYgIVQoZCh6biwgbikpIH0gZnVuY3Rpb24gSm4oKSB7IEduKGhhLCBwYSwgSWQsIHsgdHlwZTogSWQgfSkgfSBmdW5jdGlvbiBXbihuKSB7IHZhciB0ID0geyB0eXBlOiBNZCwgbWJveDogbi5tYm94LCB0cmFja2luZzogWm4oVW4sICRuKSB9OyBHbihoYSwgcGEsIE1kLCB0KSB9IGZ1bmN0aW9uIFhuKG4sIHQpIHsgdmFyIGUgPSBuLnJlc3BvbnNlVG9rZW5zLCByID0geyB0eXBlOiBxZCwgbWJveDogbi5tYm94LCByZWRpcmVjdDogS24odCksIHRyYWNraW5nOiBabihVbiwgJG4pIH07IFQoZSkgfHwgKHIucmVzcG9uc2VUb2tlbnMgPSBlKSwgR24oaGEsIHBhLCBxZCwgcikgfSBmdW5jdGlvbiBZbihuKSB7IEduKGhhLCBwYSwgTGQsIHsgdHlwZTogTGQsIG1ib3g6IG4ubWJveCwgbWVzc2FnZTogbi5tZXNzYWdlLCB0cmFja2luZzogWm4oVW4sICRuKSB9KSB9IGZ1bmN0aW9uIFFuKG4pIHsgdmFyIHQgPSB7IHR5cGU6IFVkLCBtYm94OiBuLm1ib3gsIHRyYWNraW5nOiBabihVbiwgJG4pIH07IEduKGhhLCBwYSwgVWQsIHQpIH0gZnVuY3Rpb24gbnQobikgeyBHbihoYSwgcGEsIEZkLCB7IHR5cGU6IEZkLCBtYm94OiBuLm1ib3gsIHRyYWNraW5nOiBabihVbiwgJG4pIH0pIH0gZnVuY3Rpb24gdHQobikgeyBHbihoYSwgcGEsICRkLCB7IHR5cGU6ICRkLCBtYm94OiBuLm1ib3gsIG1lc3NhZ2U6IG4ubWVzc2FnZSwgYWN0aW9uczogbi5hY3Rpb25zLCB0cmFja2luZzogWm4oVW4sICRuKSB9KSB9IGZ1bmN0aW9uIGV0KG4pIHsgdmFyIHQgPSB7IHR5cGU6IEJkLCBtYm94OiBuLm1ib3gsIHRyYWNraW5nOiBabihVbiwgJG4pIH07IEduKGhhLCBwYSwgQmQsIHQpIH0gZnVuY3Rpb24gcnQobikgeyB2YXIgdCA9IHsgdHlwZTogSGQsIG1ib3g6IG4ubWJveCwgdXJsOiBuLnVybCwgdHJhY2tpbmc6IFpuKFVuLCAkbikgfTsgR24oaGEsIHBhLCBIZCwgdCkgfSBmdW5jdGlvbiBpdChuKSB7IHJldHVybiBuZXcgemQobikgfSBmdW5jdGlvbiBvdChuKSB7IHJldHVybiB6ZC5yZXNvbHZlKG4pIH0gZnVuY3Rpb24gdXQobikgeyByZXR1cm4gemQucmVqZWN0KG4pIH0gZnVuY3Rpb24gY3QobikgeyByZXR1cm4gQmMobikgPyB6ZC5yYWNlKG4pIDogdXQobmV3IFR5cGVFcnJvcihaZCkpIH0gZnVuY3Rpb24gYXQobikgeyByZXR1cm4gQmMobikgPyB6ZC5hbGwobikgOiB1dChuZXcgVHlwZUVycm9yKFpkKSkgfSBmdW5jdGlvbiBmdChuLCB0LCBlKSB7IHZhciByID0gLTE7IHJldHVybiBjdChbbiwgaXQoZnVuY3Rpb24gKG4sIGkpIHsgciA9IHUoZnVuY3Rpb24gKCkgeyByZXR1cm4gaShuZXcgRXJyb3IoZSkpIH0sIHQpIH0pXSkudGhlbihmdW5jdGlvbiAobikgeyByZXR1cm4gYyhyKSwgbiB9LCBmdW5jdGlvbiAobikgeyB0aHJvdyBjKHIpLCBuIH0pIH0gZnVuY3Rpb24gc3QobikgeyB0aHJvdyBuZXcgRXJyb3IobikgfSBmdW5jdGlvbiBsdChuKSB7IHZhciB0ID0gbltZZF0gfHwgV2QsIGUgPSBuW1FkXSB8fCBzdChKZCksIHIgPSBuW25oXSB8fCB7fSwgaSA9IG5bdGhdIHx8IG51bGwsIG8gPSBuW2VoXSB8fCAhMSwgdSA9IG5bcmhdIHx8IDNlMywgYyA9ICEhYShuW2loXSkgfHwgITAgPT09IG5baWhdLCBmID0ge307IHJldHVybiBmW1lkXSA9IHQsIGZbUWRdID0gZSwgZltuaF0gPSByLCBmW3RoXSA9IGksIGZbZWhdID0gbywgZltyaF0gPSB1LCBmW2loXSA9IGMsIGYgfSBmdW5jdGlvbiBkdChuLCB0LCBlLCByKSB7IHJldHVybiBuLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgdmFyIGkgPSAxMjIzID09PSBuLnN0YXR1cyA/IDIwNCA6IG4uc3RhdHVzOyBpZiAoaSA8IDEwMCB8fCBpID4gNTk5KSByZXR1cm4gclt5c10gPSBHZCwgQW4oWWwsIHIpLCB2b2lkIGUobmV3IEVycm9yKEdkKSk7IHZhciBvID0gbi5yZXNwb25zZVRleHQsIHUgPSBuLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLCBjID0geyBzdGF0dXM6IGksIGhlYWRlcnM6IHUsIHJlc3BvbnNlOiBvIH07IHJbUnNdID0gYywgQW4oWWwsIHIpLCB0KGMpIH0sIG4gfSBmdW5jdGlvbiBodChuLCB0LCBlKSB7IHJldHVybiBuLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IGVbeXNdID0gR2QsIEFuKFlsLCBlKSwgdChuZXcgRXJyb3IoR2QpKSB9LCBuIH0gZnVuY3Rpb24gcHQobiwgdCwgZSwgcikgeyByZXR1cm4gbi50aW1lb3V0ID0gdCwgbi5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7IHJbeXNdID0gS2QsIEFuKFlsLCByKSwgZShuZXcgRXJyb3IoS2QpKSB9LCBuIH0gZnVuY3Rpb24gdnQobiwgdCkgeyByZXR1cm4gITAgPT09IHQgJiYgKG4ud2l0aENyZWRlbnRpYWxzID0gdCksIG4gfSBmdW5jdGlvbiBtdChuLCB0KSB7IHJldHVybiBtKGZ1bmN0aW9uICh0LCBlKSB7IG0oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIG4uc2V0UmVxdWVzdEhlYWRlcihlLCB0KSB9LCB0KSB9LCB0KSwgbiB9IGZ1bmN0aW9uIGd0KG4sIHQpIHsgdmFyIGUgPSB7fSwgciA9IGx0KHQpLCBpID0gcltZZF0sIG8gPSByW1FkXSwgdSA9IHJbbmhdLCBjID0gclt0aF0sIGEgPSByW2VoXSwgZiA9IHJbcmhdLCBzID0gcltpaF07IHJldHVybiBlW1BzXSA9IHIsIGl0KGZ1bmN0aW9uICh0LCByKSB7IHZhciBsID0gbmV3IG4uWE1MSHR0cFJlcXVlc3Q7IGwgPSBkdChsLCB0LCByLCBlKSwgbCA9IGh0KGwsIHIsIGUpLCBsLm9wZW4oaSwgbywgcyksIGwgPSB2dChsLCBhKSwgbCA9IG10KGwsIHUpLCBzICYmIChsID0gcHQobCwgZiwgciwgZSkpLCBsLnNlbmQoYykgfSkgfSBmdW5jdGlvbiB5dChuKSB7IHJldHVybiBndChoYSwgbikgfSBmdW5jdGlvbiBidChuLCB0KSB7IHZhciBlID0gdC5zZXNzaW9uSWQ7IHJldHVybiB1YShlKSAmJiBuKGUpLCB0IH0gZnVuY3Rpb24geHQobiwgdCkgeyB2YXIgZSA9IHQudG50SWQ7IHJldHVybiB1YShlKSAmJiBuKGUpLCB0IH0gZnVuY3Rpb24gRXQobiwgdCkgeyB2YXIgZSA9IHQudG50SWQ7IHJldHVybiB1YShlKSAmJiBuKGUpLCB0IH0gZnVuY3Rpb24gd3QobiwgdCkgeyBuW25kXS5wdXNoKHQpIH0gZnVuY3Rpb24gQ3QobiwgdCkgeyB2YXIgZSA9IHQudHJhY2U7IHJldHVybiBpKGUpICYmIHd0KG4sIGUpLCB0IH0gZnVuY3Rpb24gU3QobikgeyB2YXIgdCA9IG5beXNdOyBpZiAodWEodCkpIHsgdmFyIGUgPSB7fTsgdGhyb3cgZVtOc10gPSB5cywgZVt5c10gPSB0LCBlIH0gcmV0dXJuIG4gfSBmdW5jdGlvbiBPdChuKSB7IHZhciB0ID0gbi5tZXNzYWdlOyByZXR1cm4gTih0KSA/IGFoIDogdCB9IGZ1bmN0aW9uIFR0KG4pIHsgdmFyIHQgPSBuLmR1cmF0aW9uOyByZXR1cm4gXyh0KSA/IHQgOiBjaCB9IGZ1bmN0aW9uIGt0KG4sIHQsIGUpIHsgdmFyIHIgPSBuW21sXSwgaSA9IE90KGUpLCBvID0gbmV3IERhdGUoSSgpICsgVHQoZSkpOyB0KG9oLCBpLCB7IGRvbWFpbjogciwgZXhwaXJlczogbyB9KSB9IGZ1bmN0aW9uIE50KG4sIHQsIGUpIHsgdmFyIHIgPSBlLmRpc2FibGVkOyBpZiAoaShyKSkgeyB2YXIgbyA9IHt9OyB0aHJvdyBvW05zXSA9IHVoLCBvW3lzXSA9IE90KHIpLCBrdChuLCB0LCByKSwgbyB9IHJldHVybiBlIH0gZnVuY3Rpb24gQXQobikgeyByZXR1cm4gdWEobltnZl0pIH0gZnVuY3Rpb24ganQobikgeyByZXR1cm4gaShuW21mXSkgfHwgQmMoblttZl0pIH0gZnVuY3Rpb24gRHQobikgeyByZXR1cm4gdWEobltYYV0pIH0gZnVuY3Rpb24gX3QobikgeyByZXR1cm4gQmMobltqc10pICYmICFUKG5banNdKSB9IGZ1bmN0aW9uIFJ0KG4pIHsgcmV0dXJuIGkobltJc10pICYmIHVhKG5bSXNdW19hXSkgfSBmdW5jdGlvbiBQdChuKSB7IHJldHVybiBhKG5bZ2ZdKSAmJiBhKG5bWGFdKSAmJiBhKG5banNdKSAmJiBhKG5bSXNdKSB9IGZ1bmN0aW9uIEl0KG4pIHsgcmV0dXJuIHVhKG5bcXNdKSB9IGZ1bmN0aW9uIE10KG4pIHsgcmV0dXJuIEJjKG5bTXNdKSAmJiAhVChuW01zXSkgfSBmdW5jdGlvbiBxdChuKSB7IGlmIChJdChuKSkgeyB2YXIgdCA9IHt9OyByZXR1cm4gdFt2YV0gPSBRYSwgdFt5YV0gPSBuW3FzXSwgW3RdIH0gcmV0dXJuIFtdIH0gZnVuY3Rpb24gTHQobikgeyByZXR1cm4gTXQobikgPyBbbi5odG1sXS5jb25jYXQobi5wbHVnaW5zKSA6IFtuLmh0bWxdIH0gZnVuY3Rpb24gVXQobikgeyB2YXIgdCA9IGQoQXQsIG4pOyBpZiAoVCh0KSkgcmV0dXJuIG90KFtdKTsgdmFyIGUgPSBwKFIocXQsIG4pKSwgciA9IHt9OyByZXR1cm4gclt2YV0gPSBGYSwgcltiYV0gPSBwKFIoTHQsIHQpKS5qb2luKFwiXCIpLCBvdChbcl0uY29uY2F0KGUpKSB9IGZ1bmN0aW9uIEZ0KG4pIHsgcmV0dXJuIG5bbWZdIH0gZnVuY3Rpb24gJHQobikgeyByZXR1cm4gTShmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbi5wdXNoKEZ0KHQpKSwgbiB9LCBbXSwgbikgfSBmdW5jdGlvbiBCdChuKSB7IHZhciB0ID0gZChqdCwgbik7IGlmIChUKHQpKSByZXR1cm4gb3QoW10pOyB2YXIgZSA9IHt9OyByZXR1cm4gZVt2YV0gPSBCYSwgZVtiYV0gPSAkdCh0KSwgb3QoW2VdKSB9IGZ1bmN0aW9uIEh0KG4sIHQpIHsgcmV0dXJuIG90KFtuKHsgYWN0aW9uOiBYYSwgdXJsOiB0W1hhXSB9KV0pIH0gZnVuY3Rpb24gVnQobikgeyByZXR1cm4geyBhY3Rpb246IEphLCBjb250ZW50OiBuIH0gfSBmdW5jdGlvbiB6dChuKSB7IHJldHVybiBNdChuKSA/IFIoVnQsIG4ucGx1Z2lucykgOiBbXSB9IGZ1bmN0aW9uIFp0KG4pIHsgdmFyIHQgPSBuW3FhXTsgaWYgKE4odCkpIHJldHVybiBcIlwiOyB2YXIgZSA9IGZoLmV4ZWModCk7IHJldHVybiBUKGUpIHx8IDIgIT09IGUubGVuZ3RoID8gXCJcIiA6IGVbMV0gfSBmdW5jdGlvbiBHdChuLCB0KSB7IHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChOZik7IGUuaW5uZXJIVE1MID0gdDsgdmFyIHIgPSBlLmZpcnN0RWxlbWVudENoaWxkOyByZXR1cm4gYShyKSA/IHQgOiAoci5pZCA9IG4sIHIub3V0ZXJIVE1MKSB9IGZ1bmN0aW9uIEt0KG4pIHsgdmFyIHQgPSBuW2JhXSwgZSA9IFp0KG4pOyBpZiAoTihlKSB8fCBOKHQpKSByZXR1cm4gbjsgdmFyIHIgPSBuW3FhXTsgcmV0dXJuIG5bcWFdID0gci5yZXBsYWNlKHNoLCBcIlwiKSwgbltiYV0gPSBHdChlLCB0KSwgbiB9IGZ1bmN0aW9uIEp0KG4pIHsgdmFyIHQgPSBuW2dhXTsgcmV0dXJuIE4odCkgPyBuIDogKG5bYmFdID0gXCI8XCIgKyBrZiArIFwiIFwiICsgeGYgKyAnPVwiJyArIHQgKyAnXCIgLz4nLCBuKSB9IGZ1bmN0aW9uIFd0KG4pIHsgdmFyIHQgPSBLdChuKTsgaWYgKCF5KHRbYmFdKSkgcmV0dXJuIFNuKEpmLCB0KSwgbnVsbDsgdmFyIGUgPSBuW3hhXTsgcmV0dXJuIGJmID09PSBlICYmIChuW3ZhXSA9ICRhKSwgbiB9IGZ1bmN0aW9uIFh0KG4pIHsgdmFyIHQgPSBLdChuKTsgcmV0dXJuIHkodFtiYV0pID8gdCA6IChTbihKZiwgdCksIG51bGwpIH0gZnVuY3Rpb24gWXQobikgeyB2YXIgdCA9IEt0KG4pOyByZXR1cm4geSh0W2JhXSkgPyB0IDogKFNuKEpmLCB0KSwgbnVsbCkgfSBmdW5jdGlvbiBRdChuKSB7IHZhciB0ID0gS3Qobik7IHJldHVybiB5KHRbYmFdKSA/IHQgOiAoU24oSmYsIHQpLCBudWxsKSB9IGZ1bmN0aW9uIG5lKG4pIHsgdmFyIHQgPSBLdChKdChuKSk7IHJldHVybiB5KHRbYmFdKSA/IHQgOiAoU24oSmYsIHQpLCBudWxsKSB9IGZ1bmN0aW9uIHRlKG4pIHsgdmFyIHQgPSBLdChKdChuKSk7IHJldHVybiB5KHRbYmFdKSA/IHQgOiAoU24oSmYsIHQpLCBudWxsKSB9IGZ1bmN0aW9uIGVlKG4pIHsgcmV0dXJuIHkobltiYV0pID8gbiA6IChTbihKZiwgbiksIG51bGwpIH0gZnVuY3Rpb24gcmUobikgeyB2YXIgdCA9IG5bbWFdLCBlID0gbltnYV07IHJldHVybiBOKHQpIHx8IE4oZSkgPyAoU24oV2YsIG4pLCBudWxsKSA6IG4gfSBmdW5jdGlvbiBpZShuKSB7IHZhciB0ID0gbltJYV0sIGUgPSBuW2dhXTsgaWYgKE4odCkgfHwgTihlKSkgcmV0dXJuIFNuKFhmLCBuKSwgbnVsbDsgdmFyIHIgPSB7fTsgcmV0dXJuIHJbdF0gPSBlLCBuW1VhXSA9IHIsIG4gfSBmdW5jdGlvbiBvZShuKSB7IHZhciB0ID0gbltFYV0sIGUgPSBuW3dhXTsgaWYgKE4odCkgfHwgTihlKSkgcmV0dXJuIFNuKFlmLCBuKSwgbnVsbDsgdmFyIHIgPSB7fTsgcmV0dXJuIHJbQ2FdID0gdCwgcltTYV0gPSBlLCBuW3ZhXSA9IFZhLCBuW1VhXSA9IHIsIG4gfSBmdW5jdGlvbiB1ZShuKSB7IHZhciB0ID0gTnVtYmVyKG5bT2FdKSwgZSA9IE51bWJlcihuW1RhXSk7IGlmIChpc05hTih0KSB8fCBpc05hTihlKSkgcmV0dXJuIFNuKFFmLCBuKSwgbnVsbDsgdmFyIHIgPSBuW0FhXSwgaSA9IHt9OyByZXR1cm4gaVtrYV0gPSB0LCBpW05hXSA9IGUsIHVhKHIpICYmIChpW0FhXSA9IHIpLCBuW3ZhXSA9IFZhLCBuW1VhXSA9IGksIG4gfSBmdW5jdGlvbiBjZShuKSB7IHZhciB0ID0gTnVtYmVyKG5bamFdKSwgZSA9IE51bWJlcihuW0RhXSk7IHJldHVybiBpc05hTih0KSB8fCBpc05hTihlKSA/IChTbihucywgbiksIG51bGwpIDogbiB9IGZ1bmN0aW9uIGFlKG4sIHQpIHsgcmV0dXJuIG4odCkgfSBmdW5jdGlvbiBmZShuKSB7IHJldHVybiBOKG5beWFdKSA/IChTbihlcywgbiksIG51bGwpIDogbiB9IGZ1bmN0aW9uIHNlKG4sIHQpIHsgc3dpdGNoICh0W3ZhXSkgeyBjYXNlIEZhOiByZXR1cm4gV3QodCk7IGNhc2UgV2E6IHJldHVybiBYdCh0KTsgY2FzZSBlZjogcmV0dXJuIFl0KHQpOyBjYXNlIHJmOiByZXR1cm4gUXQodCk7IGNhc2UgbmY6IHJldHVybiBuZSh0KTsgY2FzZSB0ZjogcmV0dXJuIHRlKHQpOyBjYXNlIEphOiByZXR1cm4gZWUodCk7IGNhc2UgSGE6IHJldHVybiByZSh0KTsgY2FzZSBWYTogcmV0dXJuIGllKHQpOyBjYXNlIFphOiByZXR1cm4gb2UodCk7IGNhc2UgR2E6IHJldHVybiB1ZSh0KTsgY2FzZSBLYTogcmV0dXJuIHQ7IGNhc2UgemE6IHJldHVybiBjZSh0KTsgY2FzZSBYYTogcmV0dXJuIGFlKG4sIHQpOyBjYXNlIFlhOiByZXR1cm4gZmUodCk7IGRlZmF1bHQ6IHJldHVybiBudWxsIH0gfSBmdW5jdGlvbiBsZShuLCB0KSB7IHJldHVybiBkKGZ1bmN0aW9uIChuKSB7IHJldHVybiAhYShuKSB9LCBSKGZ1bmN0aW9uICh0KSB7IHJldHVybiBzZShuLCB0KSB9LCB0KSkgfSBmdW5jdGlvbiBkZShuLCB0KSB7IHJldHVybiBvdChbXS5jb25jYXQobGUobiwgdC5hY3Rpb25zKSwgenQodCkpKSB9IGZ1bmN0aW9uIGhlKG4pIHsgdmFyIHQgPSBuLnF1ZXJ5S2V5LCBlID0gdFtsaF07IGlmICgheShlKSkgcmV0dXJuIHQ7IGlmIChOKGUpKSByZXR1cm4gdDsgdmFyIHIgPSBNYXRoLnJvdW5kKEkoKSAvIDFlMyk7IHJldHVybiB0W2xoXSA9IGUucmVwbGFjZSgvXFx8VFM9XFxkKy8sIFwifFRTPVwiICsgciksIHQgfSBmdW5jdGlvbiBwZShuLCB0KSB7IHZhciBlID0gUShuKSwgciA9IGUucHJvdG9jb2wsIGkgPSBlLmhvc3QsIG8gPSBlLnBhdGgsIHUgPSBcIlwiID09PSBlLnBvcnQgPyBcIlwiIDogXCI6XCIgKyBlLnBvcnQsIGMgPSBOKGUuYW5jaG9yKSA/IFwiXCIgOiBcIiNcIiArIGUuYW5jaG9yLCBhID0gaGUoZSksIGYgPSBBZChxYyh7fSwgYSwgdCkpOyByZXR1cm4gciArIFwiOi8vXCIgKyBpICsgdSArIG8gKyAoTihmKSA/IFwiXCIgOiBcIj9cIiArIGYpICsgYyB9IGZ1bmN0aW9uIHZlKG4pIHsgdmFyIHQgPSB7fTsgcmV0dXJuIG0oZnVuY3Rpb24gKG4pIHsgYSh0W24udHlwZV0pICYmICh0W24udHlwZV0gPSB7fSksIHRbbi50eXBlXVtuLm5hbWVdID0gbi5kZWZhdWx0VmFsdWUgfSwgbltBc10pLCB0IH0gZnVuY3Rpb24gbWUobikgeyByZXR1cm4gYShuW1BzXSkgPyB7fSA6IG5bUHNdIH0gZnVuY3Rpb24gZ2UobikgeyByZXR1cm4gLTEgIT09IG4uaW5kZXhPZihDcykgfSBmdW5jdGlvbiB5ZShuKSB7IHZhciB0ID0ge307IHJldHVybiBhKG5bQ3NdKSA/IHQgOiAobShmdW5jdGlvbiAobiwgZSkgeyBnZShlKSB8fCAodFtlXSA9IG4pIH0sIG5bQ3NdKSwgdCkgfSBmdW5jdGlvbiBiZShuLCB0KSB7IG0oZnVuY3Rpb24gKGUsIHIpIHsgdmFyIGkgPSB0W3JdOyBhKGkpIHx8IChuW3JdID0gaSkgfSwgbikgfSBmdW5jdGlvbiB4ZShuLCB0LCBlLCByKSB7IHJldHVybiBiZShuLCB0KSwgYmUoZSwgciksIHFjKHt9LCBuLCBlKSB9IGZ1bmN0aW9uIEVlKG4sIHQsIGUpIHsgdmFyIHIgPSB7fTsgcmV0dXJuIHJbWWRdID0gV2QsIHJbUWRdID0gcGUobiwgdCksIHJbcmhdID0gZSwgciB9IGZ1bmN0aW9uIHdlKG4pIHsgcmV0dXJuIG4gPj0gMjAwICYmIG4gPCAzMDAgfHwgMzA0ID09PSBuIH0gZnVuY3Rpb24gQ2UobiwgdCkgeyBpZiAoIXdlKG5bTnNdKSkgcmV0dXJuIFtdOyB2YXIgZSA9IG5bUnNdOyBpZiAoTihlKSkgcmV0dXJuIFtdOyB2YXIgciA9IHt9OyByZXR1cm4gclt2YV0gPSBGYSwgcltiYV0gPSBlLCBbcl0uY29uY2F0KHF0KHQpLCB6dCh0KSkgfSBmdW5jdGlvbiBTZShuLCB0LCBlLCByKSB7IHZhciBpID0gcltJc10sIG8gPSB2ZShpKSwgdSA9IG1lKG8pLCBjID0geWUobyksIGEgPSBUZChuLmxvY2F0aW9uLnNlYXJjaCksIGYgPSBlW0FzXSwgcyA9IGlbUWRdLCBsID0geGUodSwgYSwgYywgZiksIGQgPSBlW3JoXSwgaCA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBDZShuLCByKSB9OyByZXR1cm4gdChFZShzLCBsLCBkKSkudGhlbihoKVsnY2F0Y2gnXShmdW5jdGlvbiAoKSB7IHJldHVybiBbXSB9KSB9IGZ1bmN0aW9uIE9lKG4pIHsgcmV0dXJuIG90KFtdLmNvbmNhdChxdChuKSwgenQobikpKSB9IGZ1bmN0aW9uIFRlKG4sIHQsIGUsIHIsIGkpIHsgdmFyIG8gPSBbXTsgcmV0dXJuIG0oZnVuY3Rpb24gKGkpIHsgcmV0dXJuIER0KGkpID8gdm9pZCBvLnB1c2goSHQoZSwgaSkpIDogX3QoaSkgPyB2b2lkIG8ucHVzaChkZShlLCBpKSkgOiBSdChpKSA/IHZvaWQgby5wdXNoKFNlKG4sIHQsIHIsIGkpKSA6IHZvaWQgKFB0KGkpICYmIG8ucHVzaChPZShpKSkpIH0sIGkpLCBvLmNvbmNhdChVdChpKSwgQnQoaSkpIH0gZnVuY3Rpb24ga2UobikgeyB2YXIgdCA9IFtdOyByZXR1cm4gbShmdW5jdGlvbiAobikgeyB2YXIgZSA9IG5bRHNdOyBpKGUpICYmIHQucHVzaChlKSB9LCBuKSwgdCB9IGZ1bmN0aW9uIE5lKG4sIHQpIHsgbShmdW5jdGlvbiAobikgeyBuLmlkID0gRigpIH0sIG4pOyB2YXIgZSA9IHt9OyByZXR1cm4gZVtqc10gPSBuLCBlW0RzXSA9IHQsIGUgfSBmdW5jdGlvbiBBZShuLCB0LCBlLCByLCBpKSB7IHZhciBvID0gaVtMc107IGlmICghQmMobykpIHJldHVybiBvdChOZShbXSwgW10pKTsgdmFyIHUgPSBUZShuLCB0LCBlLCByLCBvKSwgYyA9IGtlKG8pLCBhID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIE5lKHAobiksIGMpIH07IHJldHVybiBhdCh1KS50aGVuKGEpIH0gZnVuY3Rpb24gamUobiwgdCwgZSkgeyB2YXIgciA9IGVbX2FdOyBpZiAoTihyKSkgcmV0dXJuIFNuKHRzLCBlKSwgbnVsbDsgdmFyIGkgPSBTdHJpbmcoZVtSYV0pID09PSBoaCwgbyA9IFN0cmluZyhlW1BhXSkgPT09IGhoLCB1ID0ge307IHJldHVybiBpICYmICh1ID0gcWModSwgVGQobi5sb2NhdGlvbi5zZWFyY2gpKSksIG8gJiYgKHVbZGhdID0gdCgpKSwgZVtfYV0gPSBwZShyLCB1KSwgZSB9IGZ1bmN0aW9uIERlKG4pIHsgcmV0dXJuICFUKG4pICYmIDIgPT09IG4ubGVuZ3RoICYmIHVhKG5bMF0pIH0gZnVuY3Rpb24gX2UobikgeyB2YXIgdCA9IG4uaW5kZXhPZihcIj1cIik7IHJldHVybiAtMSA9PT0gdCA/IFtdIDogW24uc3Vic3RyKDAsIHQpLCBuLnN1YnN0cih0ICsgMSldIH0gZnVuY3Rpb24gUmUobiwgdCwgZSwgcikgeyBtKGZ1bmN0aW9uIChuLCBvKSB7IGkobikgPyAodC5wdXNoKG8pLCBSZShuLCB0LCBlLCByKSwgdC5wb3AoKSkgOiBUKHQpID8gZVtyKG8pXSA9IG4gOiBlW3IodC5jb25jYXQobykuam9pbihcIi5cIikpXSA9IG4gfSwgbikgfSBmdW5jdGlvbiBQZShuKSB7IHJldHVybiBkKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiB1YSh0KSB9LCBUZChuKSkgfSBmdW5jdGlvbiBJZShuKSB7IHZhciB0ID0gTShmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbi5wdXNoKF9lKHQpKSwgbiB9LCBbXSwgZCh1YSwgbikpOyByZXR1cm4gTShmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbltXKGsodFswXSkpXSA9IFcoayh0WzFdKSksIG4gfSwge30sIGQoRGUsIHQpKSB9IGZ1bmN0aW9uIE1lKG4sIHQpIHsgdmFyIGUgPSB7fTsgcmV0dXJuIGEodCkgPyBSZShuLCBbXSwgZSwgZikgOiBSZShuLCBbXSwgZSwgdCksIGUgfSBmdW5jdGlvbiBxZShuKSB7IGlmICghbyhuKSkgcmV0dXJuIHt9OyB2YXIgdCA9IG51bGw7IHRyeSB7IHQgPSBuKCkgfSBjYXRjaCAobikgeyByZXR1cm4ge30gfSByZXR1cm4gYSh0KSA/IHt9IDogQmModCkgPyBJZSh0KSA6IHkodCkgJiYgdWEodCkgPyBQZSh0KSA6IGkodCkgPyBNZSh0KSA6IHt9IH0gZnVuY3Rpb24gTGUoKSB7IHZhciBuID0gaGEuZGV2aWNlUGl4ZWxSYXRpbzsgaWYgKCFhKG4pKSByZXR1cm4gbjsgbiA9IDE7IHZhciB0ID0gaGEuc2NyZWVuLCBlID0gdC5zeXN0ZW1YRFBJLCByID0gdC5sb2dpY2FsWERQSTsgcmV0dXJuICFhKGUpICYmICFhKHIpICYmIGUgPiByICYmIChuID0gZSAvIHIpLCBuIH0gZnVuY3Rpb24gVWUoKSB7IHZhciBuID0gaGEuc2NyZWVuLCB0ID0gbi5vcmllbnRhdGlvbiwgZSA9IG4ud2lkdGgsIHIgPSBuLmhlaWdodDsgaWYgKGEodCkpIHJldHVybiBlID4gciA/IFwibGFuZHNjYXBlXCIgOiBcInBvcnRyYWl0XCI7IGlmIChhKHQudHlwZSkpIHJldHVybiBudWxsOyB2YXIgaSA9IEwoXCItXCIsIHQudHlwZSk7IGlmIChUKGkpKSByZXR1cm4gbnVsbDsgdmFyIG8gPSBpWzBdOyByZXR1cm4gYShvKSA/IG51bGwgOiBvIH0gZnVuY3Rpb24gRmUoKSB7IHJldHVybiBwaCB9IGZ1bmN0aW9uICRlKCkgeyB2YXIgbiA9IGhhLnNjcmVlbiwgdCA9IHBhLmRvY3VtZW50RWxlbWVudCwgZSA9IHt9OyBlW3hsXSA9IHQuY2xpZW50SGVpZ2h0LCBlW0VsXSA9IHQuY2xpZW50V2lkdGgsIGVbd2xdID0gLShuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSwgZVtDbF0gPSBuLmhlaWdodCwgZVtTbF0gPSBuLndpZHRoLCBlW1RsXSA9IG4uY29sb3JEZXB0aCwgZVtrbF0gPSBMZSgpOyB2YXIgciA9IFVlKCk7IGEocikgfHwgKGVbT2xdID0gcik7IHZhciBpID0gRmUoKTsgcmV0dXJuIGEoaSkgfHwgKGVbTmxdID0gaSksIGUgfSBmdW5jdGlvbiBCZSgpIHsgcmV0dXJuIHZoIH0gZnVuY3Rpb24gSGUoKSB7IHZhciBuID0gbmV3IERhdGU7IHJldHVybiBuLmdldFRpbWUoKSAtIDZlNCAqIG4uZ2V0VGltZXpvbmVPZmZzZXQoKSB9IGZ1bmN0aW9uIFZlKCkgeyB2YXIgbiA9IEsoKSwgdCA9IGhhLmxvY2F0aW9uLCBlID0ge307IHJldHVybiBlW2psXSA9IFVuKCksIG5baGxdIHx8IChlW0RsXSA9ICRuKCkpLCBlW19sXSA9IEJlKCksIGVbUmxdID0gRigpLCBlW1BsXSA9IG5bUXNdLCBlW0lsXSA9IG1oLCBlW01sXSA9IEhlKCksIGVbcWxdID0gdC5ob3N0bmFtZSwgZVtMbF0gPSB0LmhyZWYsIGVbVWxdID0gcGEucmVmZXJyZXIsIG5bcGxdICYmIChlW0ZsXSA9IG5bSnNdKSwgbWggKz0gMSwgZSB9IGZ1bmN0aW9uIHplKG4pIHsgcmV0dXJuIHFjKHt9LCBuLCBxZShoYS50YXJnZXRQYWdlUGFyYW1zQWxsKSkgfSBmdW5jdGlvbiBaZShuKSB7IHJldHVybiBxYyh7fSwgbiwgcWUoaGEudGFyZ2V0UGFnZVBhcmFtcykpIH0gZnVuY3Rpb24gR2UobikgeyB2YXIgdCA9IEsoKSwgZSA9IHRbWHNdLCByID0gdFtnbF0sIGkgPSB0W3lsXTsgcmV0dXJuIGUgIT09IG4gPyB6ZShyIHx8IHt9KSA6IHFjKHplKHIgfHwge30pLCBaZShpIHx8IHt9KSkgfSBmdW5jdGlvbiBLZShuLCB0KSB7IHZhciBlID0ge307IGVbQWxdID0gbjsgdmFyIHIgPSBJZSh0KSwgaSA9IFZlKCksIG8gPSAkZSgpLCB1ID0gR2Uobik7IHJldHVybiBxYyh7fSwgZSwgciwgaSwgbywgdSkgfSBmdW5jdGlvbiBKZSgpIHsgdmFyIG4gPSBLKCksIHQgPSBuW1hzXSwgZSA9IHt9OyBlW0FsXSA9IHQ7IHZhciByID0gVmUoKSwgaSA9ICRlKCksIG8gPSBHZSh0KTsgcmV0dXJuIHFjKHt9LCBlLCByLCBpLCBvKSB9IGZ1bmN0aW9uIFdlKG4sIHQsIGUpIHsgaWYgKE4odCkpIHJldHVybiBudWxsOyBpZiAoYShuW2doXSkpIHJldHVybiBudWxsOyBpZiAoIW8obltnaF1beWhdKSkgcmV0dXJuIG51bGw7IHZhciByID0gbltnaF1beWhdKHQsIHsgc2RpZFBhcmFtRXhwaXJ5OiBlIH0pOyByZXR1cm4gaShyKSAmJiBvKHJbYmhdKSAmJiByW2JoXSgpID8gciA6IG51bGwgfSBmdW5jdGlvbiBYZShuKSB7IHJldHVybiBcIlwiICsgJGggKyBuIH0gZnVuY3Rpb24gWWUobikgeyBpZiAoIW8obltMaF0pKSByZXR1cm4ge307IHZhciB0ID0gbltMaF0oKTsgcmV0dXJuIGkodCkgPyBNZSh0LCBYZSkgOiB7fSB9IGZ1bmN0aW9uIFFlKG4pIHsgdmFyIHQgPSB7fTsgcmV0dXJuIHVhKG5bVWhdKSAmJiAodFtCaF0gPSBuW1VoXSksIHVhKG5bRmhdKSAmJiAodFtIaF0gPSBuW0ZoXSksIHQgfSBmdW5jdGlvbiBucihuLCB0KSB7IHZhciBlID0ge307IHJldHVybiBvKG5bcWhdKSA/IChlW01oXSA9IG5bcWhdKENzICsgXCI6XCIgKyB0KSwgZSkgOiB7fSB9IGZ1bmN0aW9uIHRyKG4sIHQpIHsgaWYgKGEobikpIHJldHVybiB7fTsgdmFyIGUgPSBZZShuKSwgciA9IFFlKG4pLCBpID0gbnIobiwgdCk7IHJldHVybiBxYyh7fSwgaSwgciwgZSkgfSBmdW5jdGlvbiBlcihuKSB7IHZhciB0ID0ge30sIGUgPSBuW2poXSwgciA9IG5bQWhdLCBpID0gbltraF0sIG8gPSBuW05oXTsgcmV0dXJuIHVhKGUpICYmICh0W0loXSA9IGUpLCB1YShyKSAmJiAodFtfaF0gPSByKSwgdWEoaSkgJiYgKHRbUmhdID0gaSksIGlzTmFOKHBhcnNlSW50KG8sIDEwKSkgfHwgKHRbUGhdID0gbyksIHQgfSBmdW5jdGlvbiBycihuKSB7IHJldHVybiBNKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBxYyhuLCB0KSB9LCB7fSwgbikgfSBmdW5jdGlvbiBpcihuLCB0LCBlKSB7IHJldHVybiBlICYmIG8odFtPaF0pICYmICFhKG5bZ2hdW1RoXSkgfSBmdW5jdGlvbiBvcihuLCB0KSB7IHZhciBlID0ge307IHJldHVybiBlW25dID0gdCwgZSB9IGZ1bmN0aW9uIHVyKG4sIHQsIGUpIHsgcmV0dXJuIGlyKG4sIHQsIGUpID8gaXQoZnVuY3Rpb24gKGUpIHsgdFtPaF0oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGUob3IoRGgsIG4pKSB9LCBuW2doXVtUaF0uR0xPQkFMLCAhMCkgfSkgOiBvdChvcihEaCwgITEpKSB9IGZ1bmN0aW9uIGNyKG4sIHQsIGUpIHsgcmV0dXJuIG8oblt0XSkgPyBpdChmdW5jdGlvbiAocikgeyBuW3RdKGZ1bmN0aW9uIChuKSB7IHJldHVybiByKG9yKGUsIG4pKSB9LCAhMCkgfSkgOiBvdCh7fSkgfSBmdW5jdGlvbiBhcihuLCB0LCBlKSB7IHJldHVybiBhdChbY3IodCwgRWgsIGpoKSwgY3IodCwgd2gsIGtoKSwgY3IodCwgQ2gsIEFoKSwgY3IodCwgU2gsIE5oKSwgdXIobiwgdCwgZSldKS50aGVuKHJyKSB9IGZ1bmN0aW9uIGZyKG4pIHsgcmV0dXJuIFNuKHpoLCBuKSwge30gfSBmdW5jdGlvbiBzcihuLCB0LCBlLCByKSB7IHJldHVybiBhKHQpID8gb3Qoe30pIDogZnQoYXIobiwgdCwgciksIGUsIFZoKVsnY2F0Y2gnXShmcikgfSBmdW5jdGlvbiBscigpIHsgcmV0dXJuIHsgc3RhdHVzOiB5cywgZXJyb3I6IHhoIH0gfSBmdW5jdGlvbiBkcihuLCB0LCBlKSB7IHJldHVybiBhKG4pID8gb3Qoe30pIDogITAgPT09IGVbRGhdID8gdXQobHIoKSkgOiBvdChxYyh7fSwgdCwgZXIoZSkpKSB9IGZ1bmN0aW9uIGhyKG4sIHQsIGUpIHsgaWYgKCFpcihuLCB0LCBlKSkgcmV0dXJuIG9yKERoLCAhMSk7IHZhciByID0gdFtPaF0obnVsbCwgbltnaF1bVGhdLkdMT0JBTCk7IHJldHVybiBvcihEaCwgcikgfSBmdW5jdGlvbiBwcihuLCB0LCBlKSB7IHJldHVybiBvKG5bdF0pID8gb3IoZSwgblt0XSgpKSA6IHt9IH0gZnVuY3Rpb24gdnIobiwgdCwgZSkgeyByZXR1cm4gcnIoW3ByKHQsIEVoLCBqaCksIHByKHQsIHdoLCBraCksIHByKHQsIENoLCBBaCksIHByKHQsIFNoLCBOaCksIGhyKG4sIHQsIGUpXSkgfSBmdW5jdGlvbiBtcihuLCB0LCBlKSB7IHJldHVybiBhKHQpID8ge30gOiB2cihuLCB0LCBlKSB9IGZ1bmN0aW9uIGdyKG4sIHQsIGUpIHsgcmV0dXJuIGEobikgPyB7fSA6ICEwID09PSBlW0RoXSA/IHt9IDogcWMoe30sIHQsIGVyKGUpKSB9IGZ1bmN0aW9uIHlyKCkgeyB2YXIgbiA9IEsoKSwgdCA9IG5bR3NdLCBlID0gbltsbF07IHJldHVybiBXZShoYSwgdCwgZSkgfSBmdW5jdGlvbiBicigpIHsgdmFyIG4gPSB5cigpLCB0ID0gSygpLCBlID0gdFt1bF0sIHIgPSB0W2ZsXTsgcmV0dXJuIHNyKGhhLCBuLCBlLCByKSB9IGZ1bmN0aW9uIHhyKCkgeyB2YXIgbiA9IHlyKCksIHQgPSBLKCksIGUgPSB0W2ZsXTsgcmV0dXJuIG1yKGhhLCBuLCBlKSB9IGZ1bmN0aW9uIEVyKG4pIHsgdmFyIHQgPSB5cigpLCBlID0gdHIodCwgbiksIHIgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gZHIodCwgZSwgbikgfTsgcmV0dXJuIGJyKCkudGhlbihyKSB9IGZ1bmN0aW9uIHdyKG4pIHsgdmFyIHQgPSB5cigpOyByZXR1cm4gZ3IodCwgdHIodCwgbiksIHhyKCkpIH0gZnVuY3Rpb24gQ3IobiwgdCkgeyBaaFtuXSA9IHQgfSBmdW5jdGlvbiBTcihuKSB7IHJldHVybiBaaFtuXSB9IGZ1bmN0aW9uIE9yKG4pIHsgdmFyIHQgPSBuW3RkXTsgaWYgKGEodCkpIHJldHVybiAhMTsgdmFyIGUgPSB0W3JkXTsgcmV0dXJuICEoIUJjKGUpIHx8IFQoZSkpIH0gZnVuY3Rpb24gVHIobikgeyB2YXIgdCA9IG5bT3NdOyBpZiAoIXkodCkgfHwgVCh0KSkgcmV0dXJuICExOyB2YXIgZSA9IG5bUXNdOyBpZiAoIXkoZSkgfHwgVChlKSkgcmV0dXJuICExOyB2YXIgciA9IG5bV3NdOyByZXR1cm4gISghYShyKSAmJiAhXyhyKSkgJiYgISFvKG5bVXNdKSB9IGZ1bmN0aW9uIGtyKG4pIHsgcmV0dXJuIGl0KGZ1bmN0aW9uICh0LCBlKSB7IG4oZnVuY3Rpb24gKG4sIHIpIHsgaWYgKCFhKG4pKSByZXR1cm4gdm9pZCBlKG4pOyB0KHIpIH0pIH0pIH0gZnVuY3Rpb24gTnIobiwgdCwgZSwgciwgaSwgbykgeyB2YXIgdSA9IHt9OyB1W25dID0gdCwgdVtlXSA9IHIsIHVbaV0gPSBvOyB2YXIgYyA9IHt9OyByZXR1cm4gY1tlZF0gPSB1LCBjIH0gZnVuY3Rpb24gQXIobikgeyB2YXIgdCA9IG5bT3NdLCBlID0gbltRc10sIHIgPSBuW1dzXSB8fCBKaDsgcmV0dXJuIGZ0KGtyKG5bVXNdKSwgciwgS2gpLnRoZW4oZnVuY3Rpb24gKG4pIHsgdmFyIHIgPSBOcihPcywgdCwgUXMsIGUsIEFzLCBuKTsgcmV0dXJuIFNuKEdoLCB3cywgciksIEFuKFlsLCByKSwgbiB9KVsnY2F0Y2gnXShmdW5jdGlvbiAobikgeyB2YXIgciA9IE5yKE9zLCB0LCBRcywgZSwgeXMsIG4pOyByZXR1cm4gU24oR2gsIHlzLCByKSwgQW4oWWwsIHIpLCB7fSB9KSB9IGZ1bmN0aW9uIGpyKG4pIHsgdmFyIHQgPSBNKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBxYyhuLCB0KSB9LCB7fSwgbik7IHJldHVybiBDcihyZCwgdCksIHQgfSBmdW5jdGlvbiBEcihuKSB7IHJldHVybiBPcihuKSA/IGF0KFIoQXIsIGQoVHIsIG5bdGRdW3JkXSkpKS50aGVuKGpyKSA6IG90KHt9KSB9IGZ1bmN0aW9uIF9yKCkgeyB2YXIgbiA9IFNyKHJkKTsgcmV0dXJuIGEobikgPyB7fSA6IG4gfSBmdW5jdGlvbiBScigpIHsgcmV0dXJuIERyKGhhKSB9IGZ1bmN0aW9uIFByKCkgeyByZXR1cm4gX3IoaGEpIH0gZnVuY3Rpb24gSXIobiwgdCwgZSwgcikgeyBpZiAoIXIpIHJldHVybiBlOyB2YXIgaSA9IG4oKTsgcmV0dXJuIE4oaSkgPyBlIDogZS5yZXBsYWNlKHQsIFwiXCIgKyBXaCArIGkpIH0gZnVuY3Rpb24gTXIobikgeyByZXR1cm4gWWgucmVwbGFjZShYaCwgbikgfSBmdW5jdGlvbiBxcihuLCB0KSB7IHZhciBlID0gbltac10sIHIgPSBuW0tzXSwgaSA9IG5bY2xdOyByZXR1cm4gW25bdmxdLCBRaCwgSXIodCwgZSwgciwgaSksIE1yKGUpXS5qb2luKFwiXCIpIH0gZnVuY3Rpb24gTHIobiwgdCwgZSwgcikgeyB2YXIgaSA9IHFjKHt9LCByW0FzXSwgZSksIG8gPSB7fTsgcmV0dXJuIG9bUWRdID0gcXIobiwgdCksIG9bdGhdID0gQWQoaSksIG9bcmhdID0gcltyaF0sIG8gfSBmdW5jdGlvbiBVcihuKSB7IHJldHVybiBxYyh7fSwgblswXSwgblsxXSkgfSBmdW5jdGlvbiBGcihuLCB0KSB7IHZhciBlID0gdFtDc10sIHIgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gTHIobiwgSG4sIFVyKGUpLCB0KSB9OyByZXR1cm4gYXQoW0VyKGUpLCBScigpXSkudGhlbihyKSB9IGZ1bmN0aW9uICRyKG4sIHQpIHsgcmV0dXJuIExyKG4sIEhuLCBVcihbd3IodFtDc10pLCBQcigpXSksIHQpIH0gZnVuY3Rpb24gQnIobikgeyByZXR1cm4gbiA+PSAyMDAgJiYgbiA8IDMwMCB8fCAzMDQgPT09IG4gfSBmdW5jdGlvbiBIcihuKSB7IHZhciB0ID0ge307IHJldHVybiB0W05zXSA9IHlzLCB0W3lzXSA9IG4sIHQgfSBmdW5jdGlvbiBWcihuLCB0LCBlLCByLCBpLCBvKSB7IHJldHVybiB2KFtmdW5jdGlvbiAobikgeyByZXR1cm4gYnQoTG4sIG4pIH0sIGZ1bmN0aW9uIChuKSB7IHJldHVybiB4dChGbiwgbikgfSwgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIEV0KFZuLCBuKSB9LCBmdW5jdGlvbiAobikgeyByZXR1cm4gQ3QodCwgbikgfSwgU3QsIGZ1bmN0aW9uICh0KSB7IHJldHVybiBOdChuLCBnZCwgdCkgfSwgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIEFlKHQsIGUsIHIsIGksIG4pIH1dKShvKSB9IGZ1bmN0aW9uIHpyKCkgeyB2YXIgbiA9IHt9OyByZXR1cm4gbltvZF0gPSBbdWRdLCBuIH0gZnVuY3Rpb24gWnIobiwgdCkgeyB2YXIgZSA9IG5baGxdLCByID0gbltibF0sIGkgPSB0W1FkXSwgbyA9IHRbdGhdLCB1ID0gaSArIFwiP1wiICsgbywgYyA9IHt9OyByZXR1cm4gY1tlaF0gPSAhMCwgY1tZZF0gPSBXZCwgY1tyaF0gPSB0W3JoXSwgY1tRZF0gPSB1LCBlID8gYyA6IHUubGVuZ3RoID4gciA/IChjW1lkXSA9IFhkLCBjW1FkXSA9IGksIGNbbmhdID0genIoKSwgY1t0aF0gPSBvLCBjKSA6IGMgfSBmdW5jdGlvbiBHcihuKSB7IGlmICghQnIobltOc10pKSByZXR1cm4gSHIoZ3MpOyB0cnkgeyByZXR1cm4gSlNPTi5wYXJzZShuW1JzXSkgfSBjYXRjaCAobikgeyByZXR1cm4gSHIobi5tZXNzYWdlIHx8IG5wKSB9IH0gZnVuY3Rpb24gS3IobiwgdCwgZSwgcikgeyB2YXIgaSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBacih0LCBuKSB9LCBvID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGplKG4sIFVuLCB0KSB9LCB1ID0gZnVuY3Rpb24gKGkpIHsgcmV0dXJuIFZyKHQsIG4sIGUsIG8sIHIsIEdyKGkpKSB9OyByZXR1cm4gRnIodCwgcikudGhlbihpKS50aGVuKGUpLnRoZW4odSkgfSBmdW5jdGlvbiBKcihuKSB7IHZhciB0ID0gSygpOyByZXR1cm4gS3IoaGEsIHQsIHl0LCBuKSB9IGZ1bmN0aW9uIFdyKG4pIHsgcmV0dXJuICRyKEsoKSwgbikgfSBmdW5jdGlvbiBYcihuLCB0KSB7IHZhciBlID0gdFtXc107IHJldHVybiBfKGUpID8gZSA8PSAwID8gbltXc10gOiBlIDogbltXc10gfSBmdW5jdGlvbiBZcihuKSB7IHJldHVybiBpKG4pICYmIHVhKG5beXNdKSA/IG5beXNdIDogaShuKSAmJiB1YShuW19zXSkgPyBuW19zXSA6IHVhKG4pID8gbiA6IGdzIH0gZnVuY3Rpb24gUXIobiwgdCkgeyB2YXIgZSA9IHRbQ3NdLCByID0gaSh0W0FzXSkgPyB0W0FzXSA6IHt9LCBvID0ge307IHJldHVybiBvW0NzXSA9IGUsIG9bQXNdID0gcWMoe30sIEtlKGUpLCByKSwgb1tXc10gPSBYcihuLCB0KSwgbyB9IGZ1bmN0aW9uIG5pKG4sIHQsIGUpIHsgdmFyIHIgPSBlW2pzXSwgaSA9IHt9OyBpW0NzXSA9IHRbQ3NdLCBpW0RzXSA9IGVbRHNdLCBTbih0cCwgVmYsIHIpLCB0W3dzXShyKSwgbihpLCByKSB9IGZ1bmN0aW9uIHRpKG4sIHQsIGUpIHsgdmFyIHIgPSBlW05zXSB8fCB4cywgaSA9IFlyKGUpLCBvID0ge307IG9bQ3NdID0gdFtDc10sIG9bX3NdID0gaSwgQ24odHAsIHpmLCBlKSwgdFt5c10ociwgaSksIG4obykgfSBmdW5jdGlvbiBlaShuLCB0LCBlLCByLCBpLCBvLCBjLCBhKSB7IHZhciBmID0gdChhKSwgcyA9IGZbeXNdOyBpZiAoIWZbRXNdKSByZXR1cm4gdm9pZCBDbih0cCwgcyk7IGlmICghbigpKSByZXR1cm4gdShhW3lzXShicywgQWYpKSwgdm9pZCBDbihBZik7IHZhciBsID0ge307IGxbQ3NdID0gYVtDc107IHZhciBkID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG5pKGksIGEsIG4pIH0sIGggPSBmdW5jdGlvbiAobikgeyByZXR1cm4gdGkobywgYSwgbikgfTsgcihsKSwgZShRcihjLCBhKSkudGhlbihkKVsnY2F0Y2gnXShoKSB9IGZ1bmN0aW9uIHJpKG4pIHsgZWkoZ24sIFJuLCBKciwgV24sIFhuLCBZbiwgSygpLCBuKSB9IGZ1bmN0aW9uIGlpKG4pIHsgdmFyIHQgPSBuLmNoYXJBdCgwKSwgZSA9IG4uY2hhckF0KDEpLCByID0gbi5jaGFyQXQoMiksIGkgPSB7IGtleTogbiB9OyByZXR1cm4gaS52YWwgPSBcIi1cIiA9PT0gZSA/IFwiXCIgKyB0ICsgZSArIFwiXFxcXDNcIiArIHIgKyBcIiBcIiA6IHQgKyBcIlxcXFwzXCIgKyBlICsgXCIgXCIsIGkgfSBmdW5jdGlvbiBvaShuKSB7IHZhciB0ID0gbi5tYXRjaCh1cCk7IGlmIChUKHQpKSByZXR1cm4gbjsgdmFyIGUgPSBSKGlpLCB0KTsgcmV0dXJuIE0oZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIG4ucmVwbGFjZSh0LmtleSwgdC52YWwpIH0sIG4sIGUpIH0gZnVuY3Rpb24gdWkobikgeyBmb3IgKHZhciB0ID0gW10sIGUgPSBrKG4pLCByID0gZS5pbmRleE9mKHJwKSwgaSA9IHZvaWQgMCwgbyA9IHZvaWQgMCwgdSA9IHZvaWQgMCwgYyA9IHZvaWQgMDsgLTEgIT09IHI7KWkgPSBrKGUuc3Vic3RyaW5nKDAsIHIpKSwgbyA9IGsoZS5zdWJzdHJpbmcocikpLCBjID0gby5pbmRleE9mKGlwKSwgdSA9IGsoby5zdWJzdHJpbmcob3AsIGMpKSwgZSA9IGsoby5zdWJzdHJpbmcoYyArIDEpKSwgciA9IGUuaW5kZXhPZihycCksIGkgJiYgdSAmJiB0LnB1c2goeyBzZWw6IGksIGVxOiBOdW1iZXIodSkgfSk7IHJldHVybiBlICYmIHQucHVzaCh7IHNlbDogZSB9KSwgdCB9IGZ1bmN0aW9uIGNpKG4pIHsgaWYgKEQobikpIHJldHVybiBlcChuKTsgaWYgKCF5KG4pKSByZXR1cm4gZXAobik7IHZhciB0ID0gb2kobik7IGlmICgtMSA9PT0gdC5pbmRleE9mKHJwKSkgcmV0dXJuIGVwKHQpOyB2YXIgZSA9IHVpKHQpOyByZXR1cm4gTShmdW5jdGlvbiAobiwgdCkgeyB2YXIgZSA9IHQuc2VsLCByID0gdC5lcTsgcmV0dXJuIG4gPSBuLmZpbmQoZSksIF8ocikgJiYgKG4gPSBuLmVxKHIpKSwgbiB9LCBlcChwYSksIGUpIH0gZnVuY3Rpb24gYWkobikgeyByZXR1cm4gY2kobikubGVuZ3RoID4gMCB9IGZ1bmN0aW9uIGZpKG4pIHsgcmV0dXJuIGVwKFwiPFwiICsgTmYgKyBcIi8+XCIpLmFwcGVuZChuKSB9IGZ1bmN0aW9uIHNpKG4pIHsgcmV0dXJuIGVwKG4pIH0gZnVuY3Rpb24gbGkobikgeyByZXR1cm4gY2kobikucHJldigpIH0gZnVuY3Rpb24gZGkobikgeyByZXR1cm4gY2kobikubmV4dCgpIH0gZnVuY3Rpb24gaGkobikgeyByZXR1cm4gY2kobikucGFyZW50KCkgfSBmdW5jdGlvbiBwaShuLCB0KSB7IHJldHVybiBjaSh0KS5pcyhuKSB9IGZ1bmN0aW9uIHZpKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmZpbmQobikgfSBmdW5jdGlvbiBtaShuKSB7IHJldHVybiBjaShuKS5jaGlsZHJlbigpIH0gZnVuY3Rpb24gZ2kobiwgdCwgZSkgeyByZXR1cm4gY2koZSkub24obiwgdCkgfSBmdW5jdGlvbiB5aShuKSB7IHJldHVybiBpKG4pICYmIHVhKG5beXNdKSA/IG5beXNdIDogaShuKSAmJiB1YShuW19zXSkgPyBuW19zXSA6IHVhKG4pID8gbiA6IGdzIH0gZnVuY3Rpb24gYmkobikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyBTbihvcywgbiksIG5bd3NdKCkgfSB9IGZ1bmN0aW9uIHhpKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHZhciBlID0gdFtOc10gfHwgeHMsIHIgPSB5aSh0KTsgQ24odXMsIG4sIHQpLCBuW3lzXShlLCByKSB9IH0gZnVuY3Rpb24gRWkobiwgdCkgeyB2YXIgZSA9IHRbQ3NdLCByID0gcWMoe30sIHQpLCB1ID0gaSh0W0FzXSkgPyB0W0FzXSA6IHt9LCBjID0gbltXc10sIGEgPSB0W1dzXTsgcmV0dXJuIHJbQXNdID0gcWMoe30sIEtlKGUpLCB1KSwgcltXc10gPSBfKGEpICYmIGEgPj0gMCA/IGEgOiBjLCByW3dzXSA9IG8odFt3c10pID8gdFt3c10gOiBQLCByW3lzXSA9IG8odFt5c10pID8gdFt5c10gOiBQLCByIH0gZnVuY3Rpb24gd2kobiwgdCkgeyB2YXIgZSA9IGJpKHQpLCByID0geGkodCk7IG4odCkudGhlbihlKVsnY2F0Y2gnXShyKSB9IGZ1bmN0aW9uIENpKG4sIHQpIHsgcmV0dXJuIHdpKG4sIHQpLCAhdC5wcmV2ZW50RGVmYXVsdCB9IGZ1bmN0aW9uIFNpKG4sIHQsIGUpIHsgdmFyIHIgPSBlW3FhXSwgaSA9IGVbQ2ZdLCBvID0gTyhjaShyKSksIHUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBDaShuLCBlKSB9OyBtKGZ1bmN0aW9uIChuKSB7IHJldHVybiB0KGksIHUsIG4pIH0sIG8pIH0gZnVuY3Rpb24gT2kobikgeyB2YXIgdCA9IG5bQ2ZdLCBlID0gbltxYV07IHJldHVybiB1YSh0KSAmJiAodWEoZSkgfHwgRChlKSkgfSBmdW5jdGlvbiBUaShuLCB0LCBlLCByLCBpLCBvLCB1KSB7IGlmICghcigpKSByZXR1cm4gdm9pZCBDbihBZik7IHZhciBjID0gSW4odSksIGEgPSBjW3lzXTsgaWYgKCFjW0VzXSkgcmV0dXJuIHZvaWQgQ24oY3AsIGEpOyB2YXIgZiA9IEVpKG4sIHUpOyBpZiAoT2koZikpIHJldHVybiB2b2lkIGkodCwgZSwgZik7IG8odCwgZikgfSBmdW5jdGlvbiBraSgpIHsgdmFyIG4gPSB7fTsgcmV0dXJuIG5bb2RdID0gW3VkXSwgbiB9IGZ1bmN0aW9uIE5pKG4sIHQpIHsgdmFyIGUgPSB0W1FkXSwgciA9IHRbdGhdLCBpID0gZSArIFwiP1wiICsgcjsgcmV0dXJuIGl0KGZ1bmN0aW9uICh0LCBlKSB7IGlmIChuW2FwXVtmcF0oaSkpIHJldHVybiB2b2lkIHQoKTsgZShzcCkgfSkgfSBmdW5jdGlvbiBBaShuKSB7IHZhciB0ID0gbltRZF0sIGUgPSBuW3RoXSwgciA9IHt9OyByZXR1cm4gcltZZF0gPSBYZCwgcltRZF0gPSB0ICsgXCI/XCIgKyBlLCByW2VoXSA9ICEwLCByW2loXSA9ICExLCByW25oXSA9IGtpKCksIHl0KHIpIH0gZnVuY3Rpb24gamkobikgeyByZXR1cm4gYXAgaW4gbiAmJiBmcCBpbiBuW2FwXSB9IGZ1bmN0aW9uIERpKG4sIHQpIHsgdmFyIGUgPSBXcih0KTsgcmV0dXJuIGppKG4pID8gTmkobiwgZSkgOiBBaShlKSB9IGZ1bmN0aW9uIF9pKG4pIHsgVGkoSygpLCBmdW5jdGlvbiAobikgeyByZXR1cm4gRGkoaGEsIG4pIH0sIGdpLCBnbiwgU2ksIHdpLCBuKSB9IGZ1bmN0aW9uIFJpKG4pIHsgcmV0dXJuIGNpKG4pLmVtcHR5KCkucmVtb3ZlKCkgfSBmdW5jdGlvbiBQaShuLCB0KSB7IHJldHVybiBjaSh0KS5hZnRlcihuKSB9IGZ1bmN0aW9uIElpKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmJlZm9yZShuKSB9IGZ1bmN0aW9uIE1pKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmFwcGVuZChuKSB9IGZ1bmN0aW9uIHFpKG4sIHQpIHsgcmV0dXJuIGNpKHQpLnByZXBlbmQobikgfSBmdW5jdGlvbiBMaShuLCB0KSB7IHJldHVybiBjaSh0KS5odG1sKG4pIH0gZnVuY3Rpb24gVWkobikgeyByZXR1cm4gY2kobikuaHRtbCgpIH0gZnVuY3Rpb24gRmkobiwgdCkgeyByZXR1cm4gY2kodCkudGV4dChuKSB9IGZ1bmN0aW9uICRpKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmF0dHIobikgfSBmdW5jdGlvbiBCaShuLCB0LCBlKSB7IHJldHVybiBjaShlKS5hdHRyKG4sIHQpIH0gZnVuY3Rpb24gSGkobiwgdCkgeyByZXR1cm4gY2kodCkucmVtb3ZlQXR0cihuKSB9IGZ1bmN0aW9uIFZpKG4sIHQsIGUpIHsgdmFyIHIgPSAkaShuLCBlKTsgdWEocikgJiYgKEhpKG4sIGUpLCBCaSh0LCByLCBlKSkgfSBmdW5jdGlvbiB6aShuLCB0KSB7IHJldHVybiB1YSgkaShuLCB0KSkgfSBmdW5jdGlvbiBaaShuKSB7IHZhciB0ID0ge307IHRbdmFdID0gbiwgQW4oWWwsIHQpIH0gZnVuY3Rpb24gR2kobiwgdCkgeyB2YXIgZSA9IHt9OyBlW3ZhXSA9IG4sIGVbeXNdID0gdCwgQW4oWWwsIGUpIH0gZnVuY3Rpb24gS2kobikgeyByZXR1cm4gJGkoZGYsIG4pIH0gZnVuY3Rpb24gSmkobikgeyByZXR1cm4gemkoZGYsIG4pIH0gZnVuY3Rpb24gV2kobikgeyByZXR1cm4gbShmdW5jdGlvbiAobikgeyByZXR1cm4gVmkoeGYsIGRmLCBuKSB9LCBPKHZpKGtmLCBuKSkpLCBuIH0gZnVuY3Rpb24gWGkobikgeyByZXR1cm4gbShmdW5jdGlvbiAobikgeyByZXR1cm4gVmkoZGYsIHhmLCBuKSB9LCBPKHZpKGtmLCBuKSkpLCBuIH0gZnVuY3Rpb24gWWkobikgeyByZXR1cm4gU24oaXMsIG4pLCAkaSh4ZiwgQmkoeGYsIG4sIHNpKFwiPFwiICsga2YgKyBcIi8+XCIpKSkgfSBmdW5jdGlvbiBRaShuKSB7IHZhciB0ID0gZChKaSwgTyh2aShrZiwgbikpKTsgcmV0dXJuIFQodCkgPyBuIDogKG0oWWksIFIoS2ksIHQpKSwgbikgfSBmdW5jdGlvbiBubyhuKSB7IHJldHVybiB2KFtXaSwgUWksIFhpXSkobikgfSBmdW5jdGlvbiB0byhuKSB7IHZhciB0ID0gJGkoeGYsIG4pOyByZXR1cm4gdWEodCkgPyB0IDogbnVsbCB9IGZ1bmN0aW9uIGVvKG4pIHsgcmV0dXJuIGQodWEsIFIodG8sIE8odmkoeWYsIG4pKSkpIH0gZnVuY3Rpb24gcm8obikgeyByZXR1cm4gTShmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbi50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFNuKG1zLCB0KSwgaHAodCkgfSkgfSwgb3QoKSwgbikgfSBmdW5jdGlvbiBpbyhuKSB7IHJldHVybiBaaShuKSwgbiB9IGZ1bmN0aW9uIG9vKG4sIHQpIHsgcmV0dXJuIFNuKEhmLCB0KSwgR2kobiwgdCksIG4gfSBmdW5jdGlvbiB1byhuLCB0KSB7IHZhciBlID0gY2kodFtxYV0pLCByID0gbm8oZmkodFtiYV0pKSwgaSA9IGVvKHIpLCBvID0gdm9pZCAwOyB0cnkgeyBvID0gb3QobihlLCByKSkgfSBjYXRjaCAobikgeyByZXR1cm4gdXQob28odCwgbikpIH0gcmV0dXJuIFQoaSkgPyBvLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gaW8odCkgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG9vKHQsIG4pIH0pIDogby50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvKGkpIH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gaW8odCkgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG9vKHQsIG4pIH0pIH0gZnVuY3Rpb24gY28obiwgdCkgeyByZXR1cm4gTGkoVWkodCksIG4pIH0gZnVuY3Rpb24gYW8obikgeyByZXR1cm4gU24oS2YsIG4pLCB1byhjbywgbikgfSBmdW5jdGlvbiBmbyhuKSB7IHZhciB0ID0gY2kobltxYV0pLCBlID0gbltiYV07IHJldHVybiBTbihLZiwgbiksIFppKG4pLCBGaShlLCB0KSwgb3QobikgfSBmdW5jdGlvbiBzbyhuLCB0KSB7IHJldHVybiBNaShVaSh0KSwgbikgfSBmdW5jdGlvbiBsbyhuKSB7IHJldHVybiBTbihLZiwgbiksIHVvKHNvLCBuKSB9IGZ1bmN0aW9uIGhvKG4sIHQpIHsgcmV0dXJuIHFpKFVpKHQpLCBuKSB9IGZ1bmN0aW9uIHBvKG4pIHsgcmV0dXJuIFNuKEtmLCBuKSwgdW8oaG8sIG4pIH0gZnVuY3Rpb24gdm8obiwgdCkgeyB2YXIgZSA9IGhpKG4pOyByZXR1cm4gUmkoSWkoVWkodCksIG4pKSwgZSB9IGZ1bmN0aW9uIG1vKG4pIHsgcmV0dXJuIFNuKEtmLCBuKSwgdW8odm8sIG4pIH0gZnVuY3Rpb24gZ28obiwgdCkgeyByZXR1cm4gbGkoSWkoVWkodCksIG4pKSB9IGZ1bmN0aW9uIHlvKG4pIHsgcmV0dXJuIFNuKEtmLCBuKSwgdW8oZ28sIG4pIH0gZnVuY3Rpb24gYm8obiwgdCkgeyByZXR1cm4gZGkoUGkoVWkodCksIG4pKSB9IGZ1bmN0aW9uIHhvKG4pIHsgcmV0dXJuIFNuKEtmLCBuKSwgdW8oYm8sIG4pIH0gZnVuY3Rpb24gRW8obiwgdCkgeyByZXR1cm4gaGkoSWkoVWkodCksIG4pKSB9IGZ1bmN0aW9uIHdvKG4pIHsgcmV0dXJuIFNuKEtmLCBuKSwgdW8oRW8sIG4pIH0gZnVuY3Rpb24gQ28obiwgdCkgeyByZXR1cm4geGYgPT09IHQgJiYgcGkoa2YsIG4pIH0gZnVuY3Rpb24gU28obiwgdCkgeyBIaSh4ZiwgbiksIEJpKHhmLCBZaSh0KSwgbikgfSBmdW5jdGlvbiBPbyhuKSB7IHZhciB0ID0gblttYV0sIGUgPSBuW2dhXSwgciA9IGNpKG5bcWFdKTsgcmV0dXJuIFNuKEtmLCBuKSwgWmkobiksIENvKHIsIHQpID8gU28ociwgZSkgOiBCaSh0LCBlLCByKSwgb3QobikgfSBmdW5jdGlvbiBUbyhuLCB0KSB7IHJldHVybiBjaSh0KS5hZGRDbGFzcyhuKSB9IGZ1bmN0aW9uIGtvKG4sIHQpIHsgcmV0dXJuIGNpKHQpLnJlbW92ZUNsYXNzKG4pIH0gZnVuY3Rpb24gTm8obiwgdCkgeyByZXR1cm4gY2kodCkuaGFzQ2xhc3MobikgfSBmdW5jdGlvbiBBbyhuLCB0KSB7IHJldHVybiBjaSh0KS5jc3MobikgfSBmdW5jdGlvbiBqbyhuLCB0LCBlKSB7IG0oZnVuY3Rpb24gKG4pIHsgbShmdW5jdGlvbiAodCwgcikgeyByZXR1cm4gbi5zdHlsZS5zZXRQcm9wZXJ0eShyLCB0LCBlKSB9LCB0KSB9LCBPKG4pKSB9IGZ1bmN0aW9uIERvKG4pIHsgdmFyIHQgPSBjaShuW3FhXSksIGUgPSBuW01hXTsgcmV0dXJuIFNuKEtmLCBuKSwgWmkobiksIE4oZSkgPyBBbyhuW1VhXSwgdCkgOiBqbyh0LCBuW1VhXSwgZSksIG90KG4pIH0gZnVuY3Rpb24gX28obikgeyB2YXIgdCA9IGNpKG5bcWFdKTsgcmV0dXJuIFNuKEtmLCBuKSwgWmkobiksIFJpKHQpLCBvdChuKSB9IGZ1bmN0aW9uIFJvKG4pIHsgdmFyIHQgPSBuW2phXSwgZSA9IG5bRGFdLCByID0gY2kobltxYV0pLCBpID0gTyhtaShyKSksIG8gPSBpW3RdLCB1ID0gaVtlXTsgcmV0dXJuIGFpKG8pICYmIGFpKHUpID8gKFNuKEtmLCBuKSwgWmkobiksIHQgPCBlID8gUGkobywgdSkgOiBJaShvLCB1KSwgb3QobikpIDogKFNuKHJzLCBuKSwgR2kobiwgcnMpLCBvdChuKSkgfSBmdW5jdGlvbiBQbyhuLCB0KSB7IHJldHVybiBTbihLZiwgdCksIFppKHQpLCBuKHBwLCB0KSwgb3QodCkgfSBmdW5jdGlvbiBJbyhuLCB0KSB7IHJldHVybiBTbihLZiwgdCksIFppKHQpLCBuKHZwLCB0KSwgb3QodCkgfSBmdW5jdGlvbiBNbyhuKSB7IHZhciB0ID0gZmkobik7IHJldHVybiBNKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuLnB1c2goVWkoZmkodCkpKSwgbiB9LCBbXSwgTyh2aShtcCwgdCkpKS5qb2luKFwiXCIpIH0gZnVuY3Rpb24gcW8obikgeyB2YXIgdCA9IHFjKHt9LCBuKSwgZSA9IHRbYmFdOyBpZiAoTihlKSkgcmV0dXJuIHQ7IHZhciByID0gY2kodFtxYV0pOyByZXR1cm4gcGkoT2YsIHIpID8gKHRbdmFdID0gV2EsIHRbYmFdID0gTW8oZSksIHQpIDogdCB9IGZ1bmN0aW9uIExvKG4sIHQpIHsgdmFyIGUgPSB0W19hXTsgU24oS2YsIHQpLCBuLmxvY2F0aW9uLnJlcGxhY2UoZSkgfSBmdW5jdGlvbiBVbyhuLCB0KSB7IHZhciBlID0gcW8odCk7IHN3aXRjaCAoZVt2YV0pIHsgY2FzZSBGYTogcmV0dXJuIGFvKGUpOyBjYXNlICRhOiByZXR1cm4gZm8oZSk7IGNhc2UgV2E6IHJldHVybiBsbyhlKTsgY2FzZSBlZjogcmV0dXJuIHBvKGUpOyBjYXNlIHJmOiByZXR1cm4gbW8oZSk7IGNhc2UgbmY6IHJldHVybiB5byhlKTsgY2FzZSB0ZjogcmV0dXJuIHhvKGUpOyBjYXNlIEphOiByZXR1cm4gd28oZSk7IGNhc2UgSGE6IHJldHVybiBPbyhlKTsgY2FzZSBWYTogcmV0dXJuIERvKGUpOyBjYXNlIEthOiByZXR1cm4gX28oZSk7IGNhc2UgemE6IHJldHVybiBSbyhlKTsgY2FzZSBZYTogcmV0dXJuIFBvKG4sIGUpOyBjYXNlIFFhOiByZXR1cm4gSW8obiwgZSk7IGRlZmF1bHQ6IHJldHVybiBvdChlKSB9IH0gZnVuY3Rpb24gRm8oKSB7IH0gZnVuY3Rpb24gJG8obiwgdCwgZSkgeyBuLmVtaXQodCwgZSkgfSBmdW5jdGlvbiBCbyhuLCB0LCBlKSB7IG4ub24odCwgZSkgfSBmdW5jdGlvbiBIbyhuLCB0LCBlKSB7IG4ub25jZSh0LCBlKSB9IGZ1bmN0aW9uIFZvKG4sIHQpIHsgbi5vZmYodCkgfSBmdW5jdGlvbiB6byhuLCB0KSB7ICRvKHlwLCBuLCB0KSB9IGZ1bmN0aW9uIFpvKG4sIHQpIHsgQm8oeXAsIG4sIHQpIH0gZnVuY3Rpb24gR28obiwgdCkgeyBIbyh5cCwgbiwgdCkgfSBmdW5jdGlvbiBLbyhuKSB7IFZvKHlwLCBuKSB9IGZ1bmN0aW9uIEpvKG4sIHQpIHsgcmV0dXJuIFwiPFwiICsgVGYgKyBcIiBcIiArIEVmICsgJz1cIicgKyBuICsgJ1wiICcgKyB3ZiArICc9XCInICsgJHMgKyAnXCI+JyArIHQgKyBcIjwvXCIgKyBUZiArIFwiPlwiIH0gZnVuY3Rpb24gV28obiwgdCkgeyByZXR1cm4gSm8oYnAgKyBiKHQpLCB0ICsgXCIge1wiICsgbiArIFwifVwiKSB9IGZ1bmN0aW9uIFhvKG4pIHsgaWYgKCEwID09PSBuW2VsXSAmJiAhYWkoRXApKSB7IHZhciB0ID0gblt0bF07IE1pKEpvKHhwLCB0KSwgT2YpIH0gfSBmdW5jdGlvbiBZbyhuKSB7ICEwID09PSBuW2VsXSAmJiBhaShFcCkgJiYgUmkoVGYgKyBcIltcIiArIEVmICsgJz1cIicgKyB4cCArICdcIl0nKSB9IGZ1bmN0aW9uIFFvKG4sIHQpIHsgaWYgKCFUKHQpKSB7IHZhciBlID0gbltubF07IE1pKFIoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIFdvKGUsIG4pIH0sIHQpLmpvaW4oXCJcXG5cIiksIE9mKSB9IH0gZnVuY3Rpb24gbnUobikgeyB2YXIgdCA9IFwiXFxuLlwiICsgRnMgKyBcIiB7XCIgKyBuW25sXSArIFwifVxcblwiOyBNaShKbyh3cCwgdCksIE9mKSB9IGZ1bmN0aW9uIHR1KCkgeyBYbyhLKCkpIH0gZnVuY3Rpb24gZXUoKSB7IFlvKEsoKSkgfSBmdW5jdGlvbiBydShuKSB7IFFvKEsoKSwgbikgfSBmdW5jdGlvbiBpdShuKSB7IFJpKFwiI1wiICsgKGJwICsgYihuKSkpIH0gZnVuY3Rpb24gb3UoKSB7IG51KEsoKSkgfSBmdW5jdGlvbiB1dShuLCB0KSB7IGZvciAodmFyIGUgPSAwLCByID0gLTEsIGkgPSBuLmxlbmd0aDsgZSA8IGk7KSB7IGlmIChuW2VdLmlkID09PSB0LmlkKSB7IHIgPSBlOyBicmVhayB9IGUgKz0gMSB9IC0xICE9PSByICYmIG4uc3BsaWNlKHIsIDEpIH0gZnVuY3Rpb24gY3UobiwgdCkgeyByZXR1cm4gQ3Bbbl0gPSBDcFtuXSB8fCB7fSwgQ3Bbbl1bdF0gfHwgW10gfSBmdW5jdGlvbiBhdShuLCB0LCBlKSB7IENwW25dID0gQ3Bbbl0gfHwge30sIENwW25dW3RdID0gZSB9IGZ1bmN0aW9uIGZ1KG4pIHsgZGVsZXRlIENwW25dIH0gZnVuY3Rpb24gc3UobiwgdCwgZSkgeyBDcFtuXSA9IENwW25dIHx8IHt9LCBDcFtuXVt0XSA9IENwW25dW3RdIHx8IFtdLCBDcFtuXVt0XS5wdXNoKGUpIH0gZnVuY3Rpb24gbHUobiwgdCwgZSkgeyBDcFtuXSA9IENwW25dIHx8IHt9LCBDcFtuXVt0XSA9IENwW25dW3RdIHx8IFtdLCB1dShDcFtuXVt0XSwgZSkgfSBmdW5jdGlvbiBkdSgpIHsgbShmdW5jdGlvbiAobikgeyByZXR1cm4gbigpIH0sIEFwKSB9IGZ1bmN0aW9uIGh1KCkgeyBhKGpwKSAmJiAoanAgPSBuZXcgTnAoZHUpLCBqcC5vYnNlcnZlKHBhLCBrcCkpIH0gZnVuY3Rpb24gcHUoKSB7IHJldHVybiAhYShOcCkgfSBmdW5jdGlvbiB2dShuLCB0KSB7IEFwW25dID0gdCwgdCgpLCBodSgpIH0gZnVuY3Rpb24gbXUobikgeyBkZWxldGUgQXBbbl0sIGEoanApIHx8IFQoQXApICYmIChqcC5kaXNjb25uZWN0KCksIGpwID0gbnVsbCkgfSBmdW5jdGlvbiBndShuKSB7IGlmIChwYVtfcF0gPT09IFJwKSByZXR1cm4gdm9pZCBoYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobik7IHUobiwgRHApIH0gZnVuY3Rpb24geXUoKSB7IGlmICghVChQcCkpIHsgZ3UoZnVuY3Rpb24gKCkgeyBtKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuKCkgfSwgUHApLCB5dSgpIH0pIH0gfSBmdW5jdGlvbiBidShuLCB0KSB7IFBwW25dID0gdCwgdCgpLCB5dSgpIH0gZnVuY3Rpb24geHUobikgeyBkZWxldGUgUHBbbl0gfSBmdW5jdGlvbiBFdShuLCB0KSB7IGlmIChwdSgpKSByZXR1cm4gdm9pZCB2dShuLCB0KTsgYnUobiwgdCkgfSBmdW5jdGlvbiB3dShuKSB7IGlmIChwdSgpKSByZXR1cm4gdm9pZCBtdShuKTsgeHUobikgfSBmdW5jdGlvbiBDdShuKSB7IHJ1KGQodWEsIFIoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG5bTGFdIH0sIG4pKSkgfSBmdW5jdGlvbiBTdShuKSB7IFRvKEJzLCBrbyhGcywgbikpIH0gZnVuY3Rpb24gT3UobikgeyB2YXIgdCA9IG5bcWFdLCBlID0gbltMYV07ICh1YSh0KSB8fCBEKHQpKSAmJiAoSXAobikgPyBUbyhIcywga28oRnMsIHQpKSA6IFN1KHQpKSwgdWEoZSkgJiYgaXUoZSkgfSBmdW5jdGlvbiBUdShuKSB7IG0oT3UsIG4pIH0gZnVuY3Rpb24ga3UobiwgdCwgZSkgeyB2YXIgciA9IGN1KG4sIFNwKSwgaSA9IGN1KG4sIE9wKSwgbyA9IHIuY29uY2F0KGkpOyBpZiAoZnUobiksICFUKG8pKSByZXR1cm4gVHUobyksIHZvaWQgZShvKTsgdCgpIH0gZnVuY3Rpb24gTnUobikgeyB2YXIgdCA9IGN1KG4sIFNwKSwgZSA9IGN1KG4sIFRwKTsgcmV0dXJuIFQodCkgJiYgVChlKSB9IGZ1bmN0aW9uIEF1KG4sIHQsIGUpIHsgdmFyIHIgPSB6bCArIFwiLVwiICsgbjsgVW8odCwgZSkudGhlbihmdW5jdGlvbiAoKSB7IFNuKEdmLCBlKSwgT3UoZSksIGx1KG4sIFRwLCBlKSwgTnUobikgJiYgem8ocikgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKHQpIHsgU24oSGYsIHQpLCBPdShlKSwgbHUobiwgVHAsIGUpLCBzdShuLCBPcCwgZSksIE51KG4pICYmIHpvKHIpIH0pIH0gZnVuY3Rpb24ganUobiwgdCkgeyB1KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHpvKFpsICsgXCItXCIgKyBuKSB9LCB0KSB9IGZ1bmN0aW9uIER1KG4sIHQsIGUsIHIpIHsgdmFyIGkgPSBWbCArIFwiLVwiICsgbiwgbyA9IFpsICsgXCItXCIgKyBuLCB1ID0gemwgKyBcIi1cIiArIG47IFpvKGksIGZ1bmN0aW9uICgpIHsgaWYgKE51KG4pKSByZXR1cm4gdm9pZCB6byh1KTsgdmFyIGUgPSBjdShuLCBTcCksIHIgPSBbXTsgbShmdW5jdGlvbiAoZSkgeyBpZiAoYWkoZVtxYV0pKSByZXR1cm4gc3UobiwgVHAsIGUpLCB2b2lkIEF1KG4sIHQsIGUpOyByLnB1c2goZSkgfSwgZSksIGF1KG4sIFNwLCByKSB9KSwgR28odSwgZnVuY3Rpb24gKCkgeyB3dShuKSwgS28oaSksIEtvKG8pLCBrdShuLCBlLCByKSB9KSwgR28obywgZnVuY3Rpb24gKCkgeyB3dShuKSwgS28oaSksIEtvKHUpLCBrdShuLCBlLCByKSB9KSwgRXUobiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gem8oaSkgfSkgfSBmdW5jdGlvbiBfdShuLCB0LCBlKSB7IHZhciByID0gSygpLCBpID0gcltvbF0sIG8gPSBGKCk7IHJldHVybiBqdShvLCBpKSwgQ3UoZSksIG4oKSwgYXUobywgU3AsIGUpLCBpdChmdW5jdGlvbiAobiwgZSkgeyByZXR1cm4gRHUobywgdCwgbiwgZSkgfSkgfSBmdW5jdGlvbiBSdShuKSB7IExvKGhhLCBuKSB9IGZ1bmN0aW9uIFB1KG4sIHQsIGUpIHsgcmV0dXJuIF91KG4sIHQsIGUpIH0gZnVuY3Rpb24gSXUobiwgdCwgZSkgeyB2YXIgciA9IHt9OyByW3RdID0gZVt5YV07IHZhciBpID0ge307IHJldHVybiBpW0NzXSA9IG4gKyBwZiwgaVtDZl0gPSBTZiwgaVtxYV0gPSBlW3FhXSwgaVtBc10gPSByLCBpIH0gZnVuY3Rpb24gTXUobikgeyByZXR1cm4gdWEobikgPyBuIDogRChuKSA/IG4gOiBPZiB9IGZ1bmN0aW9uIHF1KG4pIHsgVG8oQnMsIGtvKEZzLCBuKSkgfSBmdW5jdGlvbiBMdShuLCB0KSB7IGEodFtxYV0pICYmICh0W3FhXSA9IG4pIH0gZnVuY3Rpb24gVXUobiwgdCkgeyBtKGZ1bmN0aW9uICh0KSB7IHJldHVybiBMdShuLCB0KSB9LCB0KSB9IGZ1bmN0aW9uIEZ1KG4sIHQpIHsgdmFyIGUgPSB7fTsgcmV0dXJuIGVbQ3NdID0gbiwgZVtfc10gPSBCZiwgZVtqc10gPSB0LCBlIH0gZnVuY3Rpb24gJHUobikgeyB2YXIgdCA9IHt9OyByZXR1cm4gdFt5c10gPSBuLCB0IH0gZnVuY3Rpb24gQnUobiwgdCkgeyB2YXIgZSA9IEZ1KG4sIHQpLCByID0gJHUoZSk7IENuKEJmLCB0KSwgQW4oWWwsIHIpLCB0dChlKSB9IGZ1bmN0aW9uIEh1KG4pIHsgdmFyIHQgPSB7fTsgdFtDc10gPSBuLCBTbihaZiksIG50KHQpIH0gZnVuY3Rpb24gVnUobikgeyByZXR1cm4gUihmdW5jdGlvbiAobikgeyByZXR1cm4gcWMoe30sIG4pIH0sIG4pIH0gZnVuY3Rpb24genUobikgeyB2YXIgdCA9IG5bQ3NdLCBlID0gTXUobltxYV0pLCByID0gUG4obiksIGkgPSByW3lzXTsgaWYgKCFyW0VzXSkgcmV0dXJuIENuKE1wLCBpKSwgdm9pZCBxdShlKTsgaWYgKCFnbigpKSByZXR1cm4gQ24oQWYpLCB2b2lkIHF1KGUpOyB2YXIgbyA9IG5bU3NdLCB1ID0ge307IGlmICh1W0NzXSA9IHQsIFQobykpIHJldHVybiBTbihNcCwgbHMpLCBxdShlKSwgem8oR2wsIHQpLCB2b2lkIGV0KHUpOyB2YXIgYyA9IGgoZChxcCwgbykpOyBpZiAoIWEoYykpIHJldHVybiB1W19hXSA9IGNbX2FdLCBTbihNcCwgZHMpLCBydCh1KSwgdm9pZCBSdShjKTsgdmFyIGYgPSBmdW5jdGlvbiAobiwgZSkgeyByZXR1cm4gX2koSXUodCwgbiwgZSkpIH0sIHMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB6byhLbCwgdCkgfSwgbCA9IFZ1KG8pOyBVdShlLCBsKSwgUW4odSksIFB1KHMsIGYsIGwpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gSHUodCkgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIEJ1KHQsIG4pIH0pIH1cclxuICAgIGZ1bmN0aW9uIFp1KCkgeyByZXR1cm4geyBsb2c6IFNuLCBlcnJvcjogQ24gfSB9IGZ1bmN0aW9uIEd1KG4pIHsgdmFyIHQgPSB7fTsgcmV0dXJuIHRbWnNdID0gbltac10sIHRbS3NdID0gbltLc10sIHRbV3NdID0gbltXc10sIHRbWHNdID0gbltYc10sIHRbWXNdID0gbltZc10sIHQgfSBmdW5jdGlvbiBLdShuLCB0LCBlKSB7IGZvciAodmFyIHIgPSBMKFwiLlwiLCB0KSwgaSA9IHIubGVuZ3RoLCBvID0gMDsgbyA8IGkgLSAxOyBvICs9IDEpIHsgdmFyIHUgPSByW29dOyBuW3VdID0gblt1XSB8fCB7fSwgbiA9IG5bdV0gfSBuW3JbaSAtIDFdXSA9IGUgfSBmdW5jdGlvbiBKdShuLCB0LCBlLCByKSB7IHZhciBpID0geyBsb2dnZXI6IFp1KCksIHNldHRpbmdzOiBHdSh0KSB9LCBvID0gZShyLCBpKSwgdSA9IG9beXNdOyBpZiAoIW9bRXNdKSB0aHJvdyBuZXcgRXJyb3IodSk7IHZhciBjID0gbltMcF1bVXBdOyBjW0ZwXSA9IGNbRnBdIHx8IHt9OyB2YXIgYSA9IHJbT3NdLCBmID0gcltUc10sIHMgPSByW2tzXSwgbCA9IE0oZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIG4ucHVzaChpW3RdKSwgbiB9LCBbXSwgZik7IEt1KGNbRnBdLCBhLCBzLmFwcGx5KHZvaWQgMCwgbCkpIH0gZnVuY3Rpb24gV3UobikgeyBKdShoYSwgSygpLCBNbiwgbikgfSBmdW5jdGlvbiBYdShuKSB7IHJldHVybiBpKG4pICYmIHVhKG5beXNdKSA/IG5beXNdIDogIWEobikgJiYgdWEobltfc10pID8gbltfc10gOiB1YShuKSA/IG4gOiBncyB9IGZ1bmN0aW9uIFl1KG4sIHQpIHsgcmV0dXJuIFRvKFwiXCIgKyB2ZiArIHQsIEJpKGhmLCB0LCBuKSkgfSBmdW5jdGlvbiBRdShuLCB0LCBlKSB7IHZhciByID0gZVtqc10sIGkgPSB7fTsgaVtDc10gPSBuLCBpW0RzXSA9IGVbRHNdOyB2YXIgbyA9IHt9OyBvW0NzXSA9IG4sIG9bcWFdID0gdCwgb1tTc10gPSByLCBTbihhcywgbiksIFhuKGksIHIpLCB6dShvKSB9IGZ1bmN0aW9uIG5jKG4sIHQsIGUpIHsgdmFyIHIgPSBYdShlKSwgaSA9IHt9OyBpW0NzXSA9IG4sIGlbX3NdID0gciwgQ24oZnMsIG4sIGUpLCBZbihpKSwgVG8oQnMsIGtvKEZzLCB0KSkgfSBmdW5jdGlvbiB0YyhuLCB0KSB7IHJldHVybiBbXS5zbGljZS5jYWxsKG4sIHQpIH0gZnVuY3Rpb24gZWMobikgeyByZXR1cm4gQ3MgKyBcIjpcIiArIG4gfSBmdW5jdGlvbiByYyhuLCB0KSB7IHZhciBlID0gU3Iobik7IGEoZSkgPyBDcihlYyhuKSwgW3RdKSA6IChlLnB1c2godCksIENyKGVjKG4pLCBlKSkgfSBmdW5jdGlvbiBpYyhuKSB7IHJldHVybiBTcihlYyhuKSkgfSBmdW5jdGlvbiBvYyhuLCB0LCBlKSB7IHZhciByID0gSygpLCBpID0ge307IGlbQ3NdID0gbiwgaVtBc10gPSB0LCBpW1dzXSA9IHJbV3NdOyB2YXIgbyA9IHt9OyBvW0NzXSA9IG47IHZhciB1ID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIFF1KG4sIGUsIHQpIH0sIGMgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gbmMobiwgZSwgdCkgfTsgV24obyksIEpyKGkpLnRoZW4odSlbJ2NhdGNoJ10oYykgfSBmdW5jdGlvbiB1YyhuLCB0KSB7IGlmICghRChuKSkgcmV0dXJuIENuKEJwLCBwcywgaHMsIHQpLCBjaShPZik7IGlmIChwaShPZiwgaGkobikpKSByZXR1cm4gU24oQnAsIHZzLCB0KSwgY2koT2YpOyB2YXIgZSA9IGxpKG4pOyByZXR1cm4gcGkoTmYsIGUpICYmIE5vKEZzLCBlKSA/IGUgOiAoU24oQnAsIGNzLCBocywgdCksIGNpKE9mKSkgfSBmdW5jdGlvbiBjYyhuLCB0LCBlKSB7IGlmICghZ24oKSAmJiAhYm4oKSkgcmV0dXJuIHZvaWQgQ24oQWYpOyB2YXIgciA9IF9uKHQpLCBpID0gclt5c107IGlmICghcltFc10pIHJldHVybiB2b2lkIENuKEJwLCBpKTsgdmFyIG8gPSB1YyhuLCB0KSwgdSA9IEtlKHQsIGUpLCBjID0ge307IGNbQ3NdID0gdCwgY1tBc10gPSB1LCBjW3FhXSA9IFl1KG8sIHQpLCBTbihCcCwgdCwgdSwgbyksIHJjKHQsIGMpLCBnbigpICYmIG9jKHQsIHUsIG8pIH0gZnVuY3Rpb24gYWMobiwgdCkgeyB2YXIgZSA9IGNpKFwiI1wiICsgbik7IHJldHVybiBhaShlKSA/IGUgOiAoU24oSHAsIGNzLCBocywgdCksIGNpKE9mKSkgfSBmdW5jdGlvbiBmYyhuLCB0LCBlKSB7IGlmICghZ24oKSAmJiAhYm4oKSkgcmV0dXJuIHZvaWQgQ24oQWYpOyBpZiAoTihuKSkgcmV0dXJuIHZvaWQgQ24oSHAsIHNzKTsgdmFyIHIgPSBfbih0KSwgaSA9IHJbeXNdOyBpZiAoIXJbRXNdKSByZXR1cm4gdm9pZCBDbihIcCwgaSk7IHZhciBvID0gYWMobiwgdCksIHUgPSBLZSh0LCBlKSwgYyA9IHt9OyBjW0NzXSA9IHQsIGNbQXNdID0gdSwgY1txYV0gPSBZdShvLCB0KSwgU24oSHAsIHQsIHUsIG8pLCByYyh0LCBjKSB9IGZ1bmN0aW9uIHNjKG4sIHQpIHsgaWYgKCFnbigpKSByZXR1cm4gdm9pZCBDbihBZik7IHZhciBlID0gX24obiksIHIgPSBlW3lzXTsgaWYgKCFlW0VzXSkgcmV0dXJuIHZvaWQgQ24oVnAsIHIpOyB2YXIgaSA9IEllKHQpOyBpW19sXSA9IEYoKTsgdmFyIG8gPSBpYyhuKTsgU24oVnAsIG8pLCBtKGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gbltDc10sIGUgPSBuW0FzXSwgciA9IG5bcWFdOyBvYyh0LCBxYyh7fSwgZSwgaSksIHIpIH0sIG8pIH0gZnVuY3Rpb24gbGMobikgeyB2YXIgdCA9IHRjKGFyZ3VtZW50cywgMSk7ICRwLnNraXBTdGFja0RlcHRoID0gMiwgY2MoJHAoKSwgbiwgdCkgfSBmdW5jdGlvbiBkYyhuLCB0KSB7IGZjKG4sIHQsIHRjKGFyZ3VtZW50cywgMikpIH0gZnVuY3Rpb24gaGMobikgeyBzYyhuLCB0Yyhhcmd1bWVudHMsIDEpKSB9IGZ1bmN0aW9uIHBjKG4pIHsgbltHcF0gPSBuW0dwXSB8fCB7fSwgbltHcF0ucXVlcnlTZWxlY3RvckFsbCA9IGNpIH0gZnVuY3Rpb24gdmMobiwgdCkgeyB0LmFkZEV2ZW50TGlzdGVuZXIoU2YsIGZ1bmN0aW9uICh0KSB7IG8obltHcF1bS3BdKSAmJiBuW0dwXVtLcF0odCkgfSwgITApIH0gZnVuY3Rpb24gbWMobiwgdCwgZSkgeyBpZiAoYm4oKSkgeyBwYyhuKTsgdmFyIHIgPSBlW2RsXSwgaSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZjKG4sIHQpIH0sIG8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBDbih6cCkgfTsgU24oWnApLCBocChyKS50aGVuKGkpWydjYXRjaCddKG8pIH0gfSBmdW5jdGlvbiBnYyhuKSB7IHJldHVybiBpKG4pICYmIHVhKG5beXNdKSA/IG5beXNdIDogIWEobikgJiYgdWEobltfc10pID8gbltfc10gOiB1YShuKSA/IG4gOiBncyB9IGZ1bmN0aW9uIHljKG4sIHQsIGUpIHsgdmFyIHIgPSBlW2pzXSwgaSA9IHt9OyBpW0NzXSA9IG4sIGlbRHNdID0gZVtEc107IHZhciBvID0ge307IG9bQ3NdID0gbiwgb1txYV0gPSB0LCBvW1NzXSA9IHIsIFNuKGFzLCBuKSwgWG4oaSwgciksIHp1KG8pIH0gZnVuY3Rpb24gYmMobiwgdCkgeyB2YXIgZSA9IHt9OyBlW0NzXSA9IG4sIGVbX3NdID0gZ2ModCksIENuKGZzLCBuLCB0KSwgWW4oZSksIHpvKFdsLCBuKSB9IGZ1bmN0aW9uIHhjKCkgeyB2YXIgbiA9IEsoKSwgdCA9IG5bWHNdLCBlID0ge307IGVbQ3NdID0gdCwgZVtBc10gPSBKZSgpLCBlW1dzXSA9IG5bV3NdOyB2YXIgciA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiB5Yyh0LCBPZiwgbikgfSwgaSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBiYyh0LCBuKSB9OyBTbihhcywgdCk7IHZhciBvID0ge307IG9bQ3NdID0gdCwgV24obyksIEpyKGUpLnRoZW4ocilbJ2NhdGNoJ10oaSkgfSBmdW5jdGlvbiBFYygpIHsgR28oSmwsIHR1KSB9IGZ1bmN0aW9uIHdjKG4sIHQpIHsgWm8obiwgZnVuY3Rpb24gKGUpIHsgZSA9PT0gdCAmJiAoZXUoKSwgS28obikpIH0pIH0gZnVuY3Rpb24gQ2MobikgeyBpZiAoIW5bWXNdKSByZXR1cm4gdm9pZCBTbihKcCwgV3ApOyB2YXIgdCA9IG5bWHNdLCBlID0gX24odCksIHIgPSBlW3lzXTsgaWYgKCFlW0VzXSkgcmV0dXJuIHZvaWQgQ24oSnAsIHIpOyBFYygpLCB3YyhXbCwgdCksIHdjKEdsLCB0KSwgd2MoS2wsIHQpLCB4YygpIH0gZnVuY3Rpb24gU2MobikgeyB2YXIgdCA9IGZ1bmN0aW9uICgpIHsgfTsgbi5hZG9iZSA9IG4uYWRvYmUgfHwge30sIG4uYWRvYmUudGFyZ2V0ID0geyBWRVJTSU9OOiBcIlwiLCBldmVudDoge30sIGdldE9mZmVyOiB0LCBhcHBseU9mZmVyOiB0LCB0cmFja0V2ZW50OiB0LCByZWdpc3RlckV4dGVuc2lvbjogdCwgaW5pdDogdCB9LCBuLm1ib3hDcmVhdGUgPSB0LCBuLm1ib3hEZWZpbmUgPSB0LCBuLm1ib3hVcGRhdGUgPSB0IH0gZnVuY3Rpb24gT2MobiwgdCwgZSkgeyBpZiAobi5hZG9iZSAmJiBuLmFkb2JlLnRhcmdldCAmJiB2b2lkIDAgIT09IG4uYWRvYmUudGFyZ2V0LmdldE9mZmVyKSByZXR1cm4gdm9pZCBDbihqZik7IEcoZSk7IHZhciByID0gSygpLCBpID0gcltRc107IGlmIChuLmFkb2JlLnRhcmdldC5WRVJTSU9OID0gaSwgbi5hZG9iZS50YXJnZXQuZXZlbnQgPSB7IExJQlJBUllfTE9BREVEOiBJZCwgUkVRVUVTVF9TVEFSVDogTWQsIFJFUVVFU1RfU1VDQ0VFREVEOiBxZCwgUkVRVUVTVF9GQUlMRUQ6IExkLCBDT05URU5UX1JFTkRFUklOR19TVEFSVDogVWQsIENPTlRFTlRfUkVOREVSSU5HX1NVQ0NFRURFRDogRmQsIENPTlRFTlRfUkVOREVSSU5HX0ZBSUxFRDogJGQsIENPTlRFTlRfUkVOREVSSU5HX05PX09GRkVSUzogQmQsIENPTlRFTlRfUkVOREVSSU5HX1JFRElSRUNUOiBIZCB9LCAhclt6c10pIHJldHVybiBTYyhuKSwgdm9pZCBDbihBZik7IG1jKG4sIHQsIHIpLCBnbigpICYmIChvdSgpLCBObigpLCBDYyhyKSksIG4uYWRvYmUudGFyZ2V0LmdldE9mZmVyID0gcmksIG4uYWRvYmUudGFyZ2V0LnRyYWNrRXZlbnQgPSBfaSwgbi5hZG9iZS50YXJnZXQuYXBwbHlPZmZlciA9IHp1LCBuLmFkb2JlLnRhcmdldC5yZWdpc3RlckV4dGVuc2lvbiA9IFd1LCBuLm1ib3hDcmVhdGUgPSBsYywgbi5tYm94RGVmaW5lID0gZGMsIG4ubWJveFVwZGF0ZSA9IGhjLCB6byhKbCksIEpuKCkgfSB2YXIgVGMsIGtjID0gd2luZG93LCBOYyA9IGRvY3VtZW50LCBBYyA9ICFOYy5kb2N1bWVudE1vZGUgfHwgTmMuZG9jdW1lbnRNb2RlID49IDEwLCBqYyA9IE5jLmNvbXBhdE1vZGUgJiYgXCJDU1MxQ29tcGF0XCIgPT09IE5jLmNvbXBhdE1vZGUsIERjID0gamMgJiYgQWMsIF9jID0ga2MudGFyZ2V0R2xvYmFsU2V0dGluZ3M7IGlmICghRGMgfHwgX2MgJiYgITEgPT09IF9jLmVuYWJsZWQpIHJldHVybiBrYy5hZG9iZSA9IGtjLmFkb2JlIHx8IHt9LCBrYy5hZG9iZS50YXJnZXQgPSB7IFZFUlNJT046IFwiXCIsIGV2ZW50OiB7fSwgZ2V0T2ZmZXI6IG4sIGFwcGx5T2ZmZXI6IG4sIHRyYWNrRXZlbnQ6IG4sIHJlZ2lzdGVyRXh0ZW5zaW9uOiBuLCBpbml0OiBuIH0sIGtjLm1ib3hDcmVhdGUgPSBuLCBrYy5tYm94RGVmaW5lID0gbiwga2MubWJveFVwZGF0ZSA9IG4sIFwiY29uc29sZVwiIGluIGtjICYmIFwid2FyblwiIGluIGtjLmNvbnNvbGUgJiYga2MuY29uc29sZS53YXJuKFwiQVQ6IEFkb2JlIFRhcmdldCBjb250ZW50IGRlbGl2ZXJ5IGlzIGRpc2FibGVkLiBVcGRhdGUgeW91ciBET0NUWVBFIHRvIHN1cHBvcnQgU3RhbmRhcmRzIG1vZGUuXCIpLCBrYy5hZG9iZS50YXJnZXQ7Lypcclxub2JqZWN0LWFzc2lnblxyXG4oYykgU2luZHJlIFNvcmh1c1xyXG5AbGljZW5zZSBNSVRcclxuKi9cclxuICAgIHZhciBSYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIFBjID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgSWMgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCBNYyA9IGZ1bmN0aW9uICgpIHsgdHJ5IHsgaWYgKCFPYmplY3QuYXNzaWduKSByZXR1cm4gITE7IHZhciBuID0gbmV3IFN0cmluZyhcImFiY1wiKTsgaWYgKG5bNV0gPSBcImRlXCIsIFwiNVwiID09PSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKVswXSkgcmV0dXJuICExOyBmb3IgKHZhciB0ID0ge30sIGUgPSAwOyBlIDwgMTA7IGUrKyl0W1wiX1wiICsgU3RyaW5nLmZyb21DaGFyQ29kZShlKV0gPSBlOyBpZiAoXCIwMTIzNDU2Nzg5XCIgIT09IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLm1hcChmdW5jdGlvbiAobikgeyByZXR1cm4gdFtuXSB9KS5qb2luKFwiXCIpKSByZXR1cm4gITE7IHZhciByID0ge307IHJldHVybiBcImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbiAobikgeyByW25dID0gbiB9KSwgXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiID09PSBPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCByKSkuam9pbihcIlwiKSB9IGNhdGNoIChuKSB7IHJldHVybiAhMSB9IH0oKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAobiwgZSkgeyBmb3IgKHZhciByLCBpLCBvID0gdChuKSwgdSA9IDE7IHUgPCBhcmd1bWVudHMubGVuZ3RoOyB1KyspIHsgciA9IE9iamVjdChhcmd1bWVudHNbdV0pOyBmb3IgKHZhciBjIGluIHIpIFBjLmNhbGwociwgYykgJiYgKG9bY10gPSByW2NdKTsgaWYgKFJjKSB7IGkgPSBSYyhyKTsgZm9yICh2YXIgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKUljLmNhbGwociwgaVthXSkgJiYgKG9baVthXV0gPSByW2lbYV1dKSB9IH0gcmV0dXJuIG8gfSwgcWMgPSBNYywgTGMgPSBPYmplY3QucHJvdG90eXBlLCBVYyA9IExjLnRvU3RyaW5nLCBGYyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChuKSB7IHJldHVybiB0eXBlb2YgbiB9IDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgbi5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG4gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG4gfSwgJGMgPSBcIltvYmplY3QgRnVuY3Rpb25dXCIsIEJjID0gQXJyYXkuaXNBcnJheSwgSGMgPSBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gdC5mb3JFYWNoKG4pIH0sIFZjID0gZnVuY3Rpb24gKG4sIHQpIHsgSGMoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG4odFtlXSwgZSkgfSwgbCh0KSkgfSwgemMgPSBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gdC5maWx0ZXIobikgfSwgWmMgPSBmdW5jdGlvbiAobiwgdCkgeyB2YXIgZSA9IHt9OyByZXR1cm4gVmMoZnVuY3Rpb24gKHQsIHIpIHsgbih0LCByKSAmJiAoZVtyXSA9IHQpIH0sIHQpLCBlIH0sIEdjID0gXCJbb2JqZWN0IFN0cmluZ11cIiwgS2MgPSA5MDA3MTk5MjU0NzQwOTkxLCBKYyA9IGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiB0Lm1hcChuKSB9LCBXYyA9IE9iamVjdC5wcm90b3R5cGUsIFhjID0gV2MuaGFzT3duUHJvcGVydHksIFljID0gU3RyaW5nLnByb3RvdHlwZSwgUWMgPSBZYy50cmltLCBuYSA9IFwiW29iamVjdCBPYmplY3RdXCIsIHRhID0gRnVuY3Rpb24ucHJvdG90eXBlLCBlYSA9IE9iamVjdC5wcm90b3R5cGUsIHJhID0gdGEudG9TdHJpbmcsIGlhID0gZWEuaGFzT3duUHJvcGVydHksIG9hID0gcmEuY2FsbChPYmplY3QpLCB1YSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiAhTihuKSB9LCBjYSA9IFwiW29iamVjdCBOdW1iZXJdXCIsIGFhID0gZnVuY3Rpb24gKG4sIHQpIHsgdmFyIGUgPSB7fTsgcmV0dXJuIFZjKGZ1bmN0aW9uICh0LCByKSB7IGVbcl0gPSBuKHQsIHIpIH0sIHQpLCBlIH0sIGZhID0gZnVuY3Rpb24gKG4sIHQsIGUpIHsgcmV0dXJuIGUucmVkdWNlKG4sIHQpIH0sIHNhID0gZnVuY3Rpb24gKG4sIHQsIGUpIHsgdmFyIHIgPSB0OyByZXR1cm4gVmMoZnVuY3Rpb24gKHQsIGUpIHsgciA9IG4ociwgdCwgZSkgfSwgZSksIHIgfSwgbGEgPSBBcnJheS5wcm90b3R5cGUsIGRhID0gbGEucmV2ZXJzZSwgaGEgPSB3aW5kb3csIHBhID0gZG9jdW1lbnQsIHZhID0gXCJhY3Rpb25cIiwgbWEgPSBcImF0dHJpYnV0ZVwiLCBnYSA9IFwidmFsdWVcIiwgeWEgPSBcImNsaWNrVHJhY2tJZFwiLCBiYSA9IFwiY29udGVudFwiLCB4YSA9IFwiY29udGVudFR5cGVcIiwgRWEgPSBcImZpbmFsSGVpZ2h0XCIsIHdhID0gXCJmaW5hbFdpZHRoXCIsIENhID0gXCJoZWlnaHRcIiwgU2EgPSBcIndpZHRoXCIsIE9hID0gXCJmaW5hbExlZnRQb3NpdGlvblwiLCBUYSA9IFwiZmluYWxUb3BQb3NpdGlvblwiLCBrYSA9IFwibGVmdFwiLCBOYSA9IFwidG9wXCIsIEFhID0gXCJwb3NpdGlvblwiLCBqYSA9IFwiZnJvbVwiLCBEYSA9IFwidG9cIiwgX2EgPSBcInVybFwiLCBSYSA9IFwiaW5jbHVkZUFsbFVybFBhcmFtZXRlcnNcIiwgUGEgPSBcInBhc3NNYm94U2Vzc2lvblwiLCBJYSA9IFwicHJvcGVydHlcIiwgTWEgPSBcInByaW9yaXR5XCIsIHFhID0gXCJzZWxlY3RvclwiLCBMYSA9IFwiY3NzU2VsZWN0b3JcIiwgVWEgPSBcInN0eWxlXCIsIEZhID0gXCJzZXRDb250ZW50XCIsICRhID0gXCJzZXRUZXh0XCIsIEJhID0gXCJzZXRKc29uXCIsIEhhID0gXCJzZXRBdHRyaWJ1dGVcIiwgVmEgPSBcInNldFN0eWxlXCIsIHphID0gXCJyZWFycmFuZ2VcIiwgWmEgPSBcInJlc2l6ZVwiLCBHYSA9IFwibW92ZVwiLCBLYSA9IFwicmVtb3ZlXCIsIEphID0gXCJjdXN0b21Db2RlXCIsIFdhID0gXCJhcHBlbmRDb250ZW50XCIsIFhhID0gXCJyZWRpcmVjdFwiLCBZYSA9IFwidHJhY2tDbGlja1wiLCBRYSA9IFwic2lnbmFsQ2xpY2tcIiwgbmYgPSBcImluc2VydEJlZm9yZVwiLCB0ZiA9IFwiaW5zZXJ0QWZ0ZXJcIiwgZWYgPSBcInByZXBlbmRDb250ZW50XCIsIHJmID0gXCJyZXBsYWNlQ29udGVudFwiLCBvZiA9IFwibWJveERlYnVnXCIsIHVmID0gXCJtYm94RGlzYWJsZVwiLCBjZiA9IFwibWJveEVkaXRcIiwgYWYgPSBcImNoZWNrXCIsIGZmID0gXCJ0cnVlXCIsIHNmID0gMjUwLCBsZiA9IC9eW2EtekEtWl0rJC8sIGRmID0gXCJkYXRhLWF0LXNyY1wiLCBoZiA9IFwiZGF0YS1hdC1tYm94LW5hbWVcIiwgcGYgPSBcIi1jbGlja2VkXCIsIHZmID0gXCJtYm94LW5hbWUtXCIsIG1mID0gXCJqc29uXCIsIGdmID0gXCJodG1sXCIsIHlmID0gXCJzY3JpcHRcIiwgYmYgPSBcInRleHRcIiwgeGYgPSBcInNyY1wiLCBFZiA9IFwiaWRcIiwgd2YgPSBcImNsYXNzXCIsIENmID0gXCJ0eXBlXCIsIFNmID0gXCJjbGlja1wiLCBPZiA9IFwiaGVhZFwiLCBUZiA9IFwic3R5bGVcIiwga2YgPSBcImltZ1wiLCBOZiA9IFwiZGl2XCIsIEFmID0gJ0Fkb2JlIFRhcmdldCBjb250ZW50IGRlbGl2ZXJ5IGlzIGRpc2FibGVkLiBFbnN1cmUgdGhhdCB5b3UgY2FuIHNhdmUgY29va2llcyB0byB5b3VyIGN1cnJlbnQgZG9tYWluLCB0aGVyZSBpcyBubyBcIm1ib3hEaXNhYmxlXCIgY29va2llIGFuZCB0aGVyZSBpcyBubyBcIm1ib3hEaXNhYmxlXCIgcGFyYW1ldGVyIGluIHF1ZXJ5IHN0cmluZy4nLCBqZiA9IFwiQWRvYmUgVGFyZ2V0IGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuXCIsIERmID0gXCJvcHRpb25zIGFyZ3VtZW50IGlzIHJlcXVpcmVkXCIsIF9mID0gXCJtYm94IG9wdGlvbiBpcyByZXF1aXJlZFwiLCBSZiA9IFwibWJveCBvcHRpb24gaXMgdG9vIGxvbmdcIiwgUGYgPSBcInN1Y2Nlc3Mgb3B0aW9uIGlzIHJlcXVpcmVkXCIsIElmID0gXCJlcnJvciBvcHRpb24gaXMgcmVxdWlyZWRcIiwgTWYgPSBcIm9mZmVyIG9wdGlvbiBpcyByZXF1aXJlZFwiLCBxZiA9IFwibmFtZSBvcHRpb24gaXMgcmVxdWlyZWRcIiwgTGYgPSBcIm5hbWUgaXMgaW52YWxpZFwiLCBVZiA9IFwibW9kdWxlcyBvcHRpb24gaXMgcmVxdWlyZWRcIiwgRmYgPSBcInJlZ2lzdGVyIG9wdGlvbiBpcyByZXF1aXJlZFwiLCAkZiA9IFwibW9kdWxlcyBkbyBub3QgZXhpc3RzXCIsIEJmID0gXCJGYWlsZWQgYWN0aW9uc1wiLCBIZiA9IFwiVW5leHBlY3RlZCBlcnJvclwiLCBWZiA9IFwiYWN0aW9ucyB0byBiZSByZW5kZXJlZFwiLCB6ZiA9IFwicmVxdWVzdCBmYWlsZWRcIiwgWmYgPSBcIkFsbCBhY3Rpb25zIHJlbmRlcmVkIHN1Y2Nlc3NmdWxseVwiLCBHZiA9IFwiQWN0aW9uIHJlbmRlcmVkIHN1Y2Nlc3NmdWxseVwiLCBLZiA9IFwiUmVuZGVyaW5nIGFjdGlvblwiLCBKZiA9IFwiQWN0aW9uIGhhcyBubyBjb250ZW50XCIsIFdmID0gXCJBY3Rpb24gaGFzIG5vIGF0dHJpYnV0ZSBvciB2YWx1ZVwiLCBYZiA9IFwiQWN0aW9uIGhhcyBubyBwcm9wZXJ0eSBvciB2YWx1ZVwiLCBZZiA9IFwiQWN0aW9uIGhhcyBubyBoZWlnaHQgb3Igd2lkdGhcIiwgUWYgPSBcIkFjdGlvbiBoYXMgbm8gbGVmdCwgdG9wIG9yIHBvc2l0aW9uXCIsIG5zID0gXCJBY3Rpb24gaGFzIG5vIGZyb20gb3IgdG9cIiwgdHMgPSBcIkFjdGlvbiBoYXMgbm8gdXJsXCIsIGVzID0gXCJBY3Rpb24gaGFzIG5vIGNsaWNrIHRyYWNrIElEXCIsIHJzID0gXCJSZWFycmFuZ2UgZWxlbWVudHMgYXJlIG1pc3NpbmdcIiwgaXMgPSBcIkxvYWRpbmcgaW1hZ2VcIiwgb3MgPSBcIlRyYWNrIGV2ZW50IHJlcXVlc3Qgc3VjY2VlZGVkXCIsIHVzID0gXCJUcmFjayBldmVudCByZXF1ZXN0IGZhaWxlZFwiLCBjcyA9IFwiTWJveCBjb250YWluZXIgbm90IGZvdW5kXCIsIGFzID0gXCJSZW5kZXJpbmcgbWJveFwiLCBmcyA9IFwiUmVuZGVyaW5nIG1ib3ggZmFpbGVkXCIsIHNzID0gXCJJRCBpcyBtaXNzaW5nXCIsIGxzID0gXCJObyBhY3Rpb25zIHRvIGJlIHJlbmRlcmVkXCIsIGRzID0gXCJSZWRpcmVjdCBhY3Rpb25cIiwgaHMgPSBcImRlZmF1bHQgdG8gSEVBRFwiLCBwcyA9IFwiZG9jdW1lbnQuY3VycmVudFNjcmlwdCBpcyBtaXNzaW5nIG9yIG5vdCBzdXBwb3J0ZWRcIiwgdnMgPSBcImV4ZWN1dGluZyBmcm9tIEhUTUwgSEVBRFwiLCBtcyA9IFwiU2NyaXB0IGxvYWRcIiwgZ3MgPSBcInVua25vd24gZXJyb3JcIiwgeXMgPSBcImVycm9yXCIsIGJzID0gXCJ3YXJuaW5nXCIsIHhzID0gXCJ1bmtub3duXCIsIEVzID0gXCJ2YWxpZFwiLCB3cyA9IFwic3VjY2Vzc1wiLCBDcyA9IFwibWJveFwiLCBTcyA9IFwib2ZmZXJcIiwgT3MgPSBcIm5hbWVcIiwgVHMgPSBcIm1vZHVsZXNcIiwga3MgPSBcInJlZ2lzdGVyXCIsIE5zID0gXCJzdGF0dXNcIiwgQXMgPSBcInBhcmFtc1wiLCBqcyA9IFwiYWN0aW9uc1wiLCBEcyA9IFwicmVzcG9uc2VUb2tlbnNcIiwgX3MgPSBcIm1lc3NhZ2VcIiwgUnMgPSBcInJlc3BvbnNlXCIsIFBzID0gXCJyZXF1ZXN0XCIsIElzID0gXCJkeW5hbWljXCIsIE1zID0gXCJwbHVnaW5zXCIsIHFzID0gXCJjbGlja1Rva2VuXCIsIExzID0gXCJvZmZlcnNcIiwgVXMgPSBcInByb3ZpZGVyXCIsIEZzID0gXCJtYm94RGVmYXVsdFwiLCAkcyA9IFwiYXQtZmxpY2tlci1jb250cm9sXCIsIEJzID0gXCJhdC1lbGVtZW50LW1hcmtlclwiLCBIcyA9IFwiYXQtZWxlbWVudC1jbGljay10cmFja2luZ1wiLCBWcyA9IENzLCB6cyA9IFwiZW5hYmxlZFwiLCBacyA9IFwiY2xpZW50Q29kZVwiLCBHcyA9IFwiaW1zT3JnSWRcIiwgS3MgPSBcInNlcnZlckRvbWFpblwiLCBKcyA9IFwiY3Jvc3NEb21haW5cIiwgV3MgPSBcInRpbWVvdXRcIiwgWHMgPSBcImdsb2JhbE1ib3hOYW1lXCIsIFlzID0gXCJnbG9iYWxNYm94QXV0b0NyZWF0ZVwiLCBRcyA9IFwidmVyc2lvblwiLCBubCA9IFwiZGVmYXVsdENvbnRlbnRIaWRkZW5TdHlsZVwiLCB0bCA9IFwiYm9keUhpZGRlblN0eWxlXCIsIGVsID0gXCJib2R5SGlkaW5nRW5hYmxlZFwiLCBybCA9IFwiZGV2aWNlSWRMaWZldGltZVwiLCBpbCA9IFwic2Vzc2lvbklkTGlmZXRpbWVcIiwgb2wgPSBcInNlbGVjdG9yc1BvbGxpbmdUaW1lb3V0XCIsIHVsID0gXCJ2aXNpdG9yQXBpVGltZW91dFwiLCBjbCA9IFwib3ZlcnJpZGVNYm94RWRnZVNlcnZlclwiLCBhbCA9IFwib3ZlcnJpZGVNYm94RWRnZVNlcnZlclRpbWVvdXRcIiwgZmwgPSBcIm9wdG91dEVuYWJsZWRcIiwgc2wgPSBcInNlY3VyZU9ubHlcIiwgbGwgPSBcInN1cHBsZW1lbnRhbERhdGFJZFBhcmFtVGltZW91dFwiLCBkbCA9IFwiYXV0aG9yaW5nU2NyaXB0VXJsXCIsIGhsID0gXCJjcm9zc0RvbWFpbk9ubHlcIiwgcGwgPSBcImNyb3NzRG9tYWluRW5hYmxlZFwiLCB2bCA9IFwic2NoZW1lXCIsIG1sID0gXCJjb29raWVEb21haW5cIiwgZ2wgPSBcIm1ib3hQYXJhbXNcIiwgeWwgPSBcImdsb2JhbE1ib3hQYXJhbXNcIiwgYmwgPSBcInVybFNpemVMaW1pdFwiLCB4bCA9IFwiYnJvd3NlckhlaWdodFwiLCBFbCA9IFwiYnJvd3NlcldpZHRoXCIsIHdsID0gXCJicm93c2VyVGltZU9mZnNldFwiLCBDbCA9IFwic2NyZWVuSGVpZ2h0XCIsIFNsID0gXCJzY3JlZW5XaWR0aFwiLCBPbCA9IFwic2NyZWVuT3JpZW50YXRpb25cIiwgVGwgPSBcImNvbG9yRGVwdGhcIiwga2wgPSBcImRldmljZVBpeGVsUmF0aW9cIiwgTmwgPSBcIndlYkdMUmVuZGVyZXJcIiwgQWwgPSBDcywgamwgPSBcIm1ib3hTZXNzaW9uXCIsIERsID0gXCJtYm94UENcIiwgX2wgPSBcIm1ib3hQYWdlXCIsIFJsID0gXCJtYm94UmlkXCIsIFBsID0gXCJtYm94VmVyc2lvblwiLCBJbCA9IFwibWJveENvdW50XCIsIE1sID0gXCJtYm94VGltZVwiLCBxbCA9IFwibWJveEhvc3RcIiwgTGwgPSBcIm1ib3hVUkxcIiwgVWwgPSBcIm1ib3hSZWZlcnJlclwiLCBGbCA9IFwibWJveFhEb21haW5cIiwgJGwgPSBcIlBDXCIsIEJsID0gXCJtYm94RWRnZUNsdXN0ZXJcIiwgSGwgPSBcInNlc3Npb25cIiwgVmwgPSBcImF0LXRpY2tcIiwgemwgPSBcImF0LXJlbmRlci1jb21wbGV0ZVwiLCBabCA9IFwiYXQtdGltZW91dFwiLCBHbCA9IFwiYXQtbm8tb2ZmZXJzXCIsIEtsID0gXCJhdC1zZWxlY3RvcnMtaGlkZGVuXCIsIEpsID0gXCJhdC1saWJyYXJ5LWxvYWRlZFwiLCBXbCA9IFwiYXQtZ2xvYmFsLW1ib3gtZmFpbGVkXCIsIFhsID0gXCJzZXR0aW5nc1wiLCBZbCA9IFwiY2xpZW50VHJhY2VzXCIsIFFsID0gXCJzZXJ2ZXJUcmFjZXNcIiwgbmQgPSBcIl9fX3RhcmdldF90cmFjZXNcIiwgdGQgPSBcInRhcmdldEdsb2JhbFNldHRpbmdzXCIsIGVkID0gXCJkYXRhUHJvdmlkZXJcIiwgcmQgPSBlZCArIFwic1wiLCBpZCA9IFwidGltZXN0YW1wXCIsIG9kID0gXCJDb250ZW50LVR5cGVcIiwgdWQgPSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLCBjZCA9IC9eKD8hMCkoPyEuKlxcLiQpKCgxP1xcZD9cXGR8MjVbMC01XXwyWzAtNF1cXGQpKFxcLnwkKSl7NH0kLywgYWQgPSAvXihjb218ZWR1fGdvdnxuZXR8bWlsfG9yZ3xub218Y298bmFtZXxpbmZvfGJpeikkL2ksIGZkID0gXCJmaWxlOlwiLCBzZCA9IHt9LCBsZCA9IFt6cywgWnMsIEdzLCBLcywgbWwsIEpzLCBXcywgWXMsIGdsLCB5bCwgbmwsIFwiZGVmYXVsdENvbnRlbnRWaXNpYmxlU3R5bGVcIiwgdGwsIGVsLCBvbCwgdWwsIGNsLCBhbCwgZmwsIHNsLCBsbCwgZGwsIGJsXSwgZGQgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnbG9iYWwgPyBnbG9iYWwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBzZWxmID8gc2VsZiA6IHt9LCBoZCA9IEooZnVuY3Rpb24gKG4sIHQpIHsgIWZ1bmN0aW9uIChlKSB7IHZhciByID0gITE7IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFRjICYmIFRjLmFtZCAmJiAoVGMoZSksIHIgPSAhMCksIFwib2JqZWN0XCIgPT09ICh2b2lkIDAgPT09IHQgPyBcInVuZGVmaW5lZFwiIDogRmModCkpICYmIChuLmV4cG9ydHMgPSBlKCksIHIgPSAhMCksICFyKSB7IHZhciBpID0gd2luZG93LkNvb2tpZXMsIG8gPSB3aW5kb3cuQ29va2llcyA9IGUoKTsgby5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gd2luZG93LkNvb2tpZXMgPSBpLCBvIH0gfSB9KGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gbigpIHsgZm9yICh2YXIgbiA9IDAsIHQgPSB7fTsgbiA8IGFyZ3VtZW50cy5sZW5ndGg7IG4rKykgeyB2YXIgZSA9IGFyZ3VtZW50c1tuXTsgZm9yICh2YXIgciBpbiBlKSB0W3JdID0gZVtyXSB9IHJldHVybiB0IH0gZnVuY3Rpb24gdChlKSB7IGZ1bmN0aW9uIHIodCwgaSwgbykgeyB2YXIgdTsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGRvY3VtZW50KSB7IGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgeyBpZiAobyA9IG4oeyBwYXRoOiBcIi9cIiB9LCByLmRlZmF1bHRzLCBvKSwgXCJudW1iZXJcIiA9PSB0eXBlb2Ygby5leHBpcmVzKSB7IHZhciBjID0gbmV3IERhdGU7IGMuc2V0TWlsbGlzZWNvbmRzKGMuZ2V0TWlsbGlzZWNvbmRzKCkgKyA4NjRlNSAqIG8uZXhwaXJlcyksIG8uZXhwaXJlcyA9IGMgfSBvLmV4cGlyZXMgPSBvLmV4cGlyZXMgPyBvLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6IFwiXCI7IHRyeSB7IHUgPSBKU09OLnN0cmluZ2lmeShpKSwgL15bXFx7XFxbXS8udGVzdCh1KSAmJiAoaSA9IHUpIH0gY2F0Y2ggKG4pIHsgfSBpID0gZS53cml0ZSA/IGUud3JpdGUoaSwgdCkgOiBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGkpKS5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDNBfDNDfDNFfDNEfDJGfDNGfDQwfDVCfDVEfDVFfDYwfDdCfDdEfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpLCB0ID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh0KSksIHQgPSB0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCksIHQgPSB0LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7IHZhciBhID0gXCJcIjsgZm9yICh2YXIgZiBpbiBvKSBvW2ZdICYmIChhICs9IFwiOyBcIiArIGYsICEwICE9PSBvW2ZdICYmIChhICs9IFwiPVwiICsgb1tmXSkpOyByZXR1cm4gZG9jdW1lbnQuY29va2llID0gdCArIFwiPVwiICsgaSArIGEgfSB0IHx8ICh1ID0ge30pOyBmb3IgKHZhciBzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIikgOiBbXSwgbCA9IC8oJVswLTlBLVpdezJ9KSsvZywgZCA9IDA7IGQgPCBzLmxlbmd0aDsgZCsrKSB7IHZhciBoID0gc1tkXS5zcGxpdChcIj1cIiksIHAgPSBoLnNsaWNlKDEpLmpvaW4oXCI9XCIpOyAnXCInID09PSBwLmNoYXJBdCgwKSAmJiAocCA9IHAuc2xpY2UoMSwgLTEpKTsgdHJ5IHsgdmFyIHYgPSBoWzBdLnJlcGxhY2UobCwgZGVjb2RlVVJJQ29tcG9uZW50KTsgaWYgKHAgPSBlLnJlYWQgPyBlLnJlYWQocCwgdikgOiBlKHAsIHYpIHx8IHAucmVwbGFjZShsLCBkZWNvZGVVUklDb21wb25lbnQpLCB0aGlzLmpzb24pIHRyeSB7IHAgPSBKU09OLnBhcnNlKHApIH0gY2F0Y2ggKG4pIHsgfSBpZiAodCA9PT0gdikgeyB1ID0gcDsgYnJlYWsgfSB0IHx8ICh1W3ZdID0gcCkgfSBjYXRjaCAobikgeyB9IH0gcmV0dXJuIHUgfSB9IHJldHVybiByLnNldCA9IHIsIHIuZ2V0ID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHIuY2FsbChyLCBuKSB9LCByLmdldEpTT04gPSBmdW5jdGlvbiAoKSB7IHJldHVybiByLmFwcGx5KHsganNvbjogITAgfSwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKSB9LCByLmRlZmF1bHRzID0ge30sIHIucmVtb3ZlID0gZnVuY3Rpb24gKHQsIGUpIHsgcih0LCBcIlwiLCBuKGUsIHsgZXhwaXJlczogLTEgfSkpIH0sIHIud2l0aENvbnZlcnRlciA9IHQsIHIgfSByZXR1cm4gdChmdW5jdGlvbiAoKSB7IH0pIH0pIH0pLCBwZCA9IGhkLCB2ZCA9IHsgZ2V0OiBwZC5nZXQsIHNldDogcGQuc2V0LCByZW1vdmU6IHBkLnJlbW92ZSB9LCBtZCA9IHZkLmdldCwgZ2QgPSB2ZC5zZXQsIHlkID0gdmQucmVtb3ZlLCBiZCA9IGZ1bmN0aW9uIChuLCB0KSB7IHQgPSB0IHx8IHt9OyBmb3IgKHZhciBlID0geyBrZXk6IFtcInNvdXJjZVwiLCBcInByb3RvY29sXCIsIFwiYXV0aG9yaXR5XCIsIFwidXNlckluZm9cIiwgXCJ1c2VyXCIsIFwicGFzc3dvcmRcIiwgXCJob3N0XCIsIFwicG9ydFwiLCBcInJlbGF0aXZlXCIsIFwicGF0aFwiLCBcImRpcmVjdG9yeVwiLCBcImZpbGVcIiwgXCJxdWVyeVwiLCBcImFuY2hvclwiXSwgcTogeyBuYW1lOiBcInF1ZXJ5S2V5XCIsIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nIH0sIHBhcnNlcjogeyBzdHJpY3Q6IC9eKD86KFteOlxcLz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oKCgoPzpbXj8jXFwvXSpcXC8pKikoW14/I10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8gfSB9LCByID0gZS5wYXJzZXJbdC5zdHJpY3RNb2RlID8gXCJzdHJpY3RcIiA6IFwibG9vc2VcIl0uZXhlYyhuKSwgaSA9IHt9LCBvID0gMTQ7IG8tLTspaVtlLmtleVtvXV0gPSByW29dIHx8IFwiXCI7IHJldHVybiBpW2UucS5uYW1lXSA9IHt9LCBpW2Uua2V5WzEyXV0ucmVwbGFjZShlLnEucGFyc2VyLCBmdW5jdGlvbiAobiwgdCwgcikgeyB0ICYmIChpW2UucS5uYW1lXVt0XSA9IHIpIH0pLCBpIH0sIHhkID0gZnVuY3Rpb24gKG4sIHQsIGUsIHIpIHsgdCA9IHQgfHwgXCImXCIsIGUgPSBlIHx8IFwiPVwiOyB2YXIgaSA9IHt9OyBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgbiB8fCAwID09PSBuLmxlbmd0aCkgcmV0dXJuIGk7IHZhciBvID0gL1xcKy9nOyBuID0gbi5zcGxpdCh0KTsgdmFyIHUgPSAxZTM7IHIgJiYgXCJudW1iZXJcIiA9PSB0eXBlb2Ygci5tYXhLZXlzICYmICh1ID0gci5tYXhLZXlzKTsgdmFyIGMgPSBuLmxlbmd0aDsgdSA+IDAgJiYgYyA+IHUgJiYgKGMgPSB1KTsgZm9yICh2YXIgYSA9IDA7IGEgPCBjOyArK2EpIHsgdmFyIGYsIHMsIGwsIGQsIGggPSBuW2FdLnJlcGxhY2UobywgXCIlMjBcIiksIHAgPSBoLmluZGV4T2YoZSk7IHAgPj0gMCA/IChmID0gaC5zdWJzdHIoMCwgcCksIHMgPSBoLnN1YnN0cihwICsgMSkpIDogKGYgPSBoLCBzID0gXCJcIiksIGwgPSBkZWNvZGVVUklDb21wb25lbnQoZiksIGQgPSBkZWNvZGVVUklDb21wb25lbnQocyksIFkoaSwgbCkgPyBBcnJheS5pc0FycmF5KGlbbF0pID8gaVtsXS5wdXNoKGQpIDogaVtsXSA9IFtpW2xdLCBkXSA6IGlbbF0gPSBkIH0gcmV0dXJuIGkgfSwgRWQgPSBmdW5jdGlvbiAobikgeyBzd2l0Y2ggKHZvaWQgMCA9PT0gbiA/IFwidW5kZWZpbmVkXCIgOiBGYyhuKSkgeyBjYXNlIFwic3RyaW5nXCI6IHJldHVybiBuOyBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gbiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiOyBjYXNlIFwibnVtYmVyXCI6IHJldHVybiBpc0Zpbml0ZShuKSA/IG4gOiBcIlwiOyBkZWZhdWx0OiByZXR1cm4gXCJcIiB9IH0sIHdkID0gZnVuY3Rpb24gKG4sIHQsIGUsIHIpIHsgcmV0dXJuIHQgPSB0IHx8IFwiJlwiLCBlID0gZSB8fCBcIj1cIiwgbnVsbCA9PT0gbiAmJiAobiA9IHZvaWQgMCksIFwib2JqZWN0XCIgPT09ICh2b2lkIDAgPT09IG4gPyBcInVuZGVmaW5lZFwiIDogRmMobikpID8gT2JqZWN0LmtleXMobikubWFwKGZ1bmN0aW9uIChyKSB7IHZhciBpID0gZW5jb2RlVVJJQ29tcG9uZW50KEVkKHIpKSArIGU7IHJldHVybiBBcnJheS5pc0FycmF5KG5bcl0pID8gbltyXS5tYXAoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGkgKyBlbmNvZGVVUklDb21wb25lbnQoRWQobikpIH0pLmpvaW4odCkgOiBpICsgZW5jb2RlVVJJQ29tcG9uZW50KEVkKG5bcl0pKSB9KS5qb2luKHQpIDogciA/IGVuY29kZVVSSUNvbXBvbmVudChFZChyKSkgKyBlICsgZW5jb2RlVVJJQ29tcG9uZW50KEVkKG4pKSA6IFwiXCIgfSwgQ2QgPSBKKGZ1bmN0aW9uIChuLCB0KSB7IHQuZGVjb2RlID0gdC5wYXJzZSA9IHhkLCB0LmVuY29kZSA9IHQuc3RyaW5naWZ5ID0gd2QgfSksIFNkID0gKENkLmVuY29kZSwgQ2Quc3RyaW5naWZ5LCBDZC5kZWNvZGUsIENkLnBhcnNlLCBDZCksIE9kID0geyBwYXJzZTogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4gJiYgKG4gPSBuLnRyaW0oKS5yZXBsYWNlKC9eWz8jJl0vLCBcIlwiKSksIFNkLnBhcnNlKG4pIH0sIHN0cmluZ2lmeTogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIFNkLnN0cmluZ2lmeShuKSB9IH0sIFRkID0gT2QucGFyc2UsIGtkID0gcGEuY3JlYXRlRWxlbWVudChcImFcIiksIE5kID0ge30sIEFkID0gT2Quc3RyaW5naWZ5LCBqZCA9IFwiQVQ6XCIsIERkID0gXCIxXCIsIF9kID0gW3pzLCBacywgR3MsIEtzLCBtbCwgSnMsIFdzLCBZcywgZ2wsIHlsLCBubCwgXCJkZWZhdWx0Q29udGVudFZpc2libGVTdHlsZVwiLCB0bCwgZWwsIG9sLCB1bCwgY2wsIGFsLCBmbCwgc2wsIGxsLCBkbF0sIFJkID0gRigpLCBQZCA9IC8uKlxcLihcXGQrKV9cXGQrLzsgIWZ1bmN0aW9uIChuLCB0KSB7IGZ1bmN0aW9uIGUobiwgZSkgeyB2YXIgciA9IHQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTsgcmV0dXJuIGUgPSBlIHx8IHsgYnViYmxlczogITEsIGNhbmNlbGFibGU6ICExLCBkZXRhaWw6IHZvaWQgMCB9LCByLmluaXRDdXN0b21FdmVudChuLCBlLmJ1YmJsZXMsIGUuY2FuY2VsYWJsZSwgZS5kZXRhaWwpLCByIH0gbyhuLkN1c3RvbUV2ZW50KSB8fCAoZS5wcm90b3R5cGUgPSBuLkV2ZW50LnByb3RvdHlwZSwgbi5DdXN0b21FdmVudCA9IGUpIH0oaGEsIHBhKTsgdmFyIElkID0gXCJhdC1saWJyYXJ5LWxvYWRlZFwiLCBNZCA9IFwiYXQtcmVxdWVzdC1zdGFydFwiLCBxZCA9IFwiYXQtcmVxdWVzdC1zdWNjZWVkZWRcIiwgTGQgPSBcImF0LXJlcXVlc3QtZmFpbGVkXCIsIFVkID0gXCJhdC1jb250ZW50LXJlbmRlcmluZy1zdGFydFwiLCBGZCA9IFwiYXQtY29udGVudC1yZW5kZXJpbmctc3VjY2VlZGVkXCIsICRkID0gXCJhdC1jb250ZW50LXJlbmRlcmluZy1mYWlsZWRcIiwgQmQgPSBcImF0LWNvbnRlbnQtcmVuZGVyaW5nLW5vLW9mZmVyc1wiLCBIZCA9IFwiYXQtY29udGVudC1yZW5kZXJpbmctcmVkaXJlY3RcIiwgVmQgPSBKKGZ1bmN0aW9uIChuKSB7ICFmdW5jdGlvbiAodCkgeyBmdW5jdGlvbiBlKCkgeyB9IGZ1bmN0aW9uIHIobiwgdCkgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyBuLmFwcGx5KHQsIGFyZ3VtZW50cykgfSB9IGZ1bmN0aW9uIGkobikgeyBpZiAoXCJvYmplY3RcIiAhPT0gRmModGhpcykpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXdcIik7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG4pIHRocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgYSBmdW5jdGlvblwiKTsgdGhpcy5fc3RhdGUgPSAwLCB0aGlzLl9oYW5kbGVkID0gITEsIHRoaXMuX3ZhbHVlID0gdm9pZCAwLCB0aGlzLl9kZWZlcnJlZHMgPSBbXSwgcyhuLCB0aGlzKSB9IGZ1bmN0aW9uIG8obiwgdCkgeyBmb3IgKDsgMyA9PT0gbi5fc3RhdGU7KW4gPSBuLl92YWx1ZTsgaWYgKDAgPT09IG4uX3N0YXRlKSByZXR1cm4gdm9pZCBuLl9kZWZlcnJlZHMucHVzaCh0KTsgbi5faGFuZGxlZCA9ICEwLCBpLl9pbW1lZGlhdGVGbihmdW5jdGlvbiAoKSB7IHZhciBlID0gMSA9PT0gbi5fc3RhdGUgPyB0Lm9uRnVsZmlsbGVkIDogdC5vblJlamVjdGVkOyBpZiAobnVsbCA9PT0gZSkgcmV0dXJuIHZvaWQgKDEgPT09IG4uX3N0YXRlID8gdSA6IGMpKHQucHJvbWlzZSwgbi5fdmFsdWUpOyB2YXIgcjsgdHJ5IHsgciA9IGUobi5fdmFsdWUpIH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgYyh0LnByb21pc2UsIG4pIH0gdSh0LnByb21pc2UsIHIpIH0pIH0gZnVuY3Rpb24gdShuLCB0KSB7IHRyeSB7IGlmICh0ID09PSBuKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi5cIik7IGlmICh0ICYmIChcIm9iamVjdFwiID09PSAodm9pZCAwID09PSB0ID8gXCJ1bmRlZmluZWRcIiA6IEZjKHQpKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQpKSB7IHZhciBlID0gdC50aGVuOyBpZiAodCBpbnN0YW5jZW9mIGkpIHJldHVybiBuLl9zdGF0ZSA9IDMsIG4uX3ZhbHVlID0gdCwgdm9pZCBhKG4pOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlKSByZXR1cm4gdm9pZCBzKHIoZSwgdCksIG4pIH0gbi5fc3RhdGUgPSAxLCBuLl92YWx1ZSA9IHQsIGEobikgfSBjYXRjaCAodCkgeyBjKG4sIHQpIH0gfSBmdW5jdGlvbiBjKG4sIHQpIHsgbi5fc3RhdGUgPSAyLCBuLl92YWx1ZSA9IHQsIGEobikgfSBmdW5jdGlvbiBhKG4pIHsgMiA9PT0gbi5fc3RhdGUgJiYgMCA9PT0gbi5fZGVmZXJyZWRzLmxlbmd0aCAmJiBpLl9pbW1lZGlhdGVGbihmdW5jdGlvbiAoKSB7IG4uX2hhbmRsZWQgfHwgaS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4obi5fdmFsdWUpIH0pOyBmb3IgKHZhciB0ID0gMCwgZSA9IG4uX2RlZmVycmVkcy5sZW5ndGg7IHQgPCBlOyB0KyspbyhuLCBuLl9kZWZlcnJlZHNbdF0pOyBuLl9kZWZlcnJlZHMgPSBudWxsIH0gZnVuY3Rpb24gZihuLCB0LCBlKSB7IHRoaXMub25GdWxmaWxsZWQgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4gPyBuIDogbnVsbCwgdGhpcy5vblJlamVjdGVkID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ID8gdCA6IG51bGwsIHRoaXMucHJvbWlzZSA9IGUgfSBmdW5jdGlvbiBzKG4sIHQpIHsgdmFyIGUgPSAhMTsgdHJ5IHsgbihmdW5jdGlvbiAobikgeyBlIHx8IChlID0gITAsIHUodCwgbikpIH0sIGZ1bmN0aW9uIChuKSB7IGUgfHwgKGUgPSAhMCwgYyh0LCBuKSkgfSkgfSBjYXRjaCAobikgeyBpZiAoZSkgcmV0dXJuOyBlID0gITAsIGModCwgbikgfSB9IHZhciBsID0gc2V0VGltZW91dDsgaS5wcm90b3R5cGVbJ2NhdGNoJ10gPSBmdW5jdGlvbiAobikgeyByZXR1cm4gdGhpcy50aGVuKG51bGwsIG4pIH0sIGkucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAobiwgdCkgeyB2YXIgciA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUpOyByZXR1cm4gbyh0aGlzLCBuZXcgZihuLCB0LCByKSksIHIgfSwgaS5hbGwgPSBmdW5jdGlvbiAobikgeyB2YXIgdCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pOyByZXR1cm4gbmV3IGkoZnVuY3Rpb24gKG4sIGUpIHsgZnVuY3Rpb24gcihvLCB1KSB7IHRyeSB7IGlmICh1ICYmIChcIm9iamVjdFwiID09PSAodm9pZCAwID09PSB1ID8gXCJ1bmRlZmluZWRcIiA6IEZjKHUpKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHUpKSB7IHZhciBjID0gdS50aGVuOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBjKSByZXR1cm4gdm9pZCBjLmNhbGwodSwgZnVuY3Rpb24gKG4pIHsgcihvLCBuKSB9LCBlKSB9IHRbb10gPSB1LCAwID09IC0taSAmJiBuKHQpIH0gY2F0Y2ggKG4pIHsgZShuKSB9IH0gaWYgKDAgPT09IHQubGVuZ3RoKSByZXR1cm4gbihbXSk7IGZvciAodmFyIGkgPSB0Lmxlbmd0aCwgbyA9IDA7IG8gPCB0Lmxlbmd0aDsgbysrKXIobywgdFtvXSkgfSkgfSwgaS5yZXNvbHZlID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gJiYgXCJvYmplY3RcIiA9PT0gKHZvaWQgMCA9PT0gbiA/IFwidW5kZWZpbmVkXCIgOiBGYyhuKSkgJiYgbi5jb25zdHJ1Y3RvciA9PT0gaSA/IG4gOiBuZXcgaShmdW5jdGlvbiAodCkgeyB0KG4pIH0pIH0sIGkucmVqZWN0ID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG5ldyBpKGZ1bmN0aW9uICh0LCBlKSB7IGUobikgfSkgfSwgaS5yYWNlID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG5ldyBpKGZ1bmN0aW9uICh0LCBlKSB7IGZvciAodmFyIHIgPSAwLCBpID0gbi5sZW5ndGg7IHIgPCBpOyByKyspbltyXS50aGVuKHQsIGUpIH0pIH0sIGkuX2ltbWVkaWF0ZUZuID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBzZXRJbW1lZGlhdGUgJiYgZnVuY3Rpb24gKG4pIHsgc2V0SW1tZWRpYXRlKG4pIH0gfHwgZnVuY3Rpb24gKG4pIHsgbChuLCAwKSB9LCBpLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGZ1bmN0aW9uIChuKSB7IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGNvbnNvbGUgJiYgY29uc29sZSAmJiBjb25zb2xlLndhcm4oXCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246XCIsIG4pIH0sIGkuX3NldEltbWVkaWF0ZUZuID0gZnVuY3Rpb24gKG4pIHsgaS5faW1tZWRpYXRlRm4gPSBuIH0sIGkuX3NldFVuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gKG4pIHsgaS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBuIH0sIHZvaWQgMCAhPT0gbiAmJiBuLmV4cG9ydHMgPyBuLmV4cG9ydHMgPSBpIDogdC5Qcm9taXNlIHx8ICh0LlByb21pc2UgPSBpKSB9KGRkKSB9KSwgemQgPSB3aW5kb3cuUHJvbWlzZSB8fCBWZCwgWmQgPSBcIkV4cGVjdGVkIGFuIGFycmF5IG9mIHByb21pc2VzXCIsIEdkID0gXCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkXCIsIEtkID0gXCJSZXF1ZXN0IHRpbWVkIG91dFwiLCBKZCA9IFwiVVJMIGlzIHJlcXVpcmVkXCIsIFdkID0gXCJHRVRcIiwgWGQgPSBcIlBPU1RcIiwgWWQgPSBcIm1ldGhvZFwiLCBRZCA9IFwidXJsXCIsIG5oID0gXCJoZWFkZXJzXCIsIHRoID0gXCJkYXRhXCIsIGVoID0gXCJjcmVkZW50aWFsc1wiLCByaCA9IFwidGltZW91dFwiLCBpaCA9IFwiYXN5bmNcIiwgb2ggPSBcIm1ib3hEaXNhYmxlXCIsIHVoID0gXCJkaXNhYmxlZFwiLCBjaCA9IDg2NGU1LCBhaCA9IFwiM3JkIHBhcnR5IGNvb2tpZXMgZGlzYWJsZWRcIiwgZmggPSAvQ0xLVFJLIyhcXFMrKS8sIHNoID0gL0NMS1RSSyMoXFxTKylcXHMvLCBsaCA9IFwiYWRvYmVfbWNfc2RpZFwiLCBkaCA9IFwibWJveFNlc3Npb25cIiwgaGggPSBcInRydWVcIiwgcGggPSBmdW5jdGlvbiAoKSB7IHZhciBuID0gcGEuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSwgdCA9IG4uZ2V0Q29udGV4dChcIndlYmdsXCIpIHx8IG4uZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiKTsgaWYgKGEodCkpIHJldHVybiBudWxsOyB2YXIgZSA9IHQuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mb1wiKTsgaWYgKGEoZSkpIHJldHVybiBudWxsOyB2YXIgciA9IHQuZ2V0UGFyYW1ldGVyKGUuVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpOyByZXR1cm4gYShyKSA/IG51bGwgOiByIH0oKSwgdmggPSBGKCksIG1oID0gMSwgZ2ggPSBcIlZpc2l0b3JcIiwgeWggPSBcImdldEluc3RhbmNlXCIsIGJoID0gXCJpc0FsbG93ZWRcIiwgeGggPSBcIkRpc2FibGVkIGR1ZSB0byBvcHRvdXRcIiwgRWggPSBcImdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEXCIsIHdoID0gXCJnZXRBdWRpZW5jZU1hbmFnZXJCbG9iXCIsIENoID0gXCJnZXRBbmFseXRpY3NWaXNpdG9ySURcIiwgU2ggPSBcImdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludFwiLCBPaCA9IFwiaXNPcHRlZE91dFwiLCBUaCA9IFwiT3B0T3V0XCIsIGtoID0gXCJNQ0FBTUJcIiwgTmggPSBcIk1DQUFNTEhcIiwgQWggPSBcIk1DQUlEXCIsIGpoID0gXCJNQ01JRFwiLCBEaCA9IFwiTUNPUFRPVVRcIiwgX2ggPSBcIm1ib3hNQ0FWSURcIiwgUmggPSBcIm1ib3hBQU1CXCIsIFBoID0gXCJtYm94TUNHTEhcIiwgSWggPSBcIm1ib3hNQ0dWSURcIiwgTWggPSBcIm1ib3hNQ1NESURcIiwgcWggPSBcImdldFN1cHBsZW1lbnRhbERhdGFJRFwiLCBMaCA9IFwiZ2V0Q3VzdG9tZXJJRHNcIiwgVWggPSBcInRyYWNraW5nU2VydmVyXCIsIEZoID0gVWggKyBcIlNlY3VyZVwiLCAkaCA9IFwidnN0LlwiLCBCaCA9ICRoICsgXCJ0cmtcIiwgSGggPSAkaCArIFwidHJrc1wiLCBWaCA9IFwiVmlzaXRvciBBUEkgcmVxdWVzdHMgdGltZWQgb3V0XCIsIHpoID0gXCJWaXNpdG9yIEFQSSByZXF1ZXN0cyBlcnJvclwiLCBaaCA9IHt9LCBHaCA9IFwiRGF0YSBwcm92aWRlclwiLCBLaCA9IFwidGltZWQgb3V0XCIsIEpoID0gMmUzLCBXaCA9IFwibWJveGVkZ2VcIiwgWGggPSBcIjxjbGllbnRDb2RlPlwiLCBZaCA9IFwiL20yL1wiICsgWGggKyBcIi9tYm94L2pzb25cIiwgUWggPSBcIi8vXCIsIG5wID0gXCJKU09OIHBhcnNlciBlcnJvclwiLCB0cCA9IFwiW2dldE9mZmVyKCldXCIsIGVwID0gZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICB2YXIgdCA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gdChuKSB7IHJldHVybiBudWxsID09IG4gPyBTdHJpbmcobikgOiBKW1cuY2FsbChuKV0gfHwgXCJvYmplY3RcIiB9IGZ1bmN0aW9uIGUobikgeyByZXR1cm4gXCJmdW5jdGlvblwiID09IHQobikgfSBmdW5jdGlvbiByKG4pIHsgcmV0dXJuIG51bGwgIT0gbiAmJiBuID09IG4ud2luZG93IH0gZnVuY3Rpb24gaShuKSB7IHJldHVybiBudWxsICE9IG4gJiYgbi5ub2RlVHlwZSA9PSBuLkRPQ1VNRU5UX05PREUgfSBmdW5jdGlvbiBvKG4pIHsgcmV0dXJuIFwib2JqZWN0XCIgPT0gdChuKSB9IGZ1bmN0aW9uIHUobikgeyByZXR1cm4gbyhuKSAmJiAhcihuKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobikgPT0gT2JqZWN0LnByb3RvdHlwZSB9IGZ1bmN0aW9uIGMobikgeyB2YXIgdCA9ICEhbiAmJiBcImxlbmd0aFwiIGluIG4gJiYgbi5sZW5ndGgsIGUgPSBPLnR5cGUobik7IHJldHVybiBcImZ1bmN0aW9uXCIgIT0gZSAmJiAhcihuKSAmJiAoXCJhcnJheVwiID09IGUgfHwgMCA9PT0gdCB8fCBcIm51bWJlclwiID09IHR5cGVvZiB0ICYmIHQgPiAwICYmIHQgLSAxIGluIG4pIH0gZnVuY3Rpb24gYShuKSB7IHJldHVybiBELmNhbGwobiwgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG51bGwgIT0gbiB9KSB9IGZ1bmN0aW9uIGYobikgeyByZXR1cm4gbi5sZW5ndGggPiAwID8gTy5mbi5jb25jYXQuYXBwbHkoW10sIG4pIDogbiB9IGZ1bmN0aW9uIHMobikgeyByZXR1cm4gbi5yZXBsYWNlKC86Oi9nLCBcIi9cIikucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZywgXCIkMV8kMlwiKS5yZXBsYWNlKC8oW2EtelxcZF0pKFtBLVpdKS9nLCBcIiQxXyQyXCIpLnJlcGxhY2UoL18vZywgXCItXCIpLnRvTG93ZXJDYXNlKCkgfSBmdW5jdGlvbiBsKG4pIHsgcmV0dXJuIG4gaW4gSSA/IElbbl0gOiBJW25dID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgbiArIFwiKFxcXFxzfCQpXCIpIH0gZnVuY3Rpb24gZChuLCB0KSB7IHJldHVybiBcIm51bWJlclwiICE9IHR5cGVvZiB0IHx8IE1bcyhuKV0gPyB0IDogdCArIFwicHhcIiB9IGZ1bmN0aW9uIGgobikgeyB2YXIgdCwgZTsgcmV0dXJuIFBbbl0gfHwgKHQgPSBSLmNyZWF0ZUVsZW1lbnQobiksIFIuYm9keS5hcHBlbmRDaGlsZCh0KSwgZSA9IGdldENvbXB1dGVkU3R5bGUodCwgXCJcIikuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIiksIHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSwgXCJub25lXCIgPT0gZSAmJiAoZSA9IFwiYmxvY2tcIiksIFBbbl0gPSBlKSwgUFtuXSB9IGZ1bmN0aW9uIHAobikgeyByZXR1cm4gXCJjaGlsZHJlblwiIGluIG4gPyBfLmNhbGwobi5jaGlsZHJlbikgOiBPLm1hcChuLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChuKSB7IGlmICgxID09IG4ubm9kZVR5cGUpIHJldHVybiBuIH0pIH0gZnVuY3Rpb24gdihuLCB0KSB7IHZhciBlLCByID0gbiA/IG4ubGVuZ3RoIDogMDsgZm9yIChlID0gMDsgZSA8IHI7IGUrKyl0aGlzW2VdID0gbltlXTsgdGhpcy5sZW5ndGggPSByLCB0aGlzLnNlbGVjdG9yID0gdCB8fCBcIlwiIH0gZnVuY3Rpb24gbShuLCB0LCBlKSB7IGZvciAoUyBpbiB0KSBlICYmICh1KHRbU10pIHx8IG5uKHRbU10pKSA/ICh1KHRbU10pICYmICF1KG5bU10pICYmIChuW1NdID0ge30pLCBubih0W1NdKSAmJiAhbm4obltTXSkgJiYgKG5bU10gPSBbXSksIG0obltTXSwgdFtTXSwgZSkpIDogdFtTXSAhPT0gQyAmJiAobltTXSA9IHRbU10pIH0gZnVuY3Rpb24gZyhuLCB0KSB7IHJldHVybiBudWxsID09IHQgPyBPKG4pIDogTyhuKS5maWx0ZXIodCkgfSBmdW5jdGlvbiB5KG4sIHQsIHIsIGkpIHsgcmV0dXJuIGUodCkgPyB0LmNhbGwobiwgciwgaSkgOiB0IH0gZnVuY3Rpb24gYihuLCB0LCBlKSB7IG51bGwgPT0gZSA/IG4ucmVtb3ZlQXR0cmlidXRlKHQpIDogbi5zZXRBdHRyaWJ1dGUodCwgZSkgfSBmdW5jdGlvbiB4KG4sIHQpIHsgdmFyIGUgPSBuLmNsYXNzTmFtZSB8fCBcIlwiLCByID0gZSAmJiBlLmJhc2VWYWwgIT09IEM7IGlmICh0ID09PSBDKSByZXR1cm4gciA/IGUuYmFzZVZhbCA6IGU7IHIgPyBlLmJhc2VWYWwgPSB0IDogbi5jbGFzc05hbWUgPSB0IH0gZnVuY3Rpb24gRShuKSB7IHRyeSB7IHJldHVybiBuID8gXCJ0cnVlXCIgPT0gbiB8fCBcImZhbHNlXCIgIT0gbiAmJiAoXCJudWxsXCIgPT0gbiA/IG51bGwgOiArbiArIFwiXCIgPT0gbiA/ICtuIDogL15bXFxbXFx7XS8udGVzdChuKSA/IE8ucGFyc2VKU09OKG4pIDogbikgOiBuIH0gY2F0Y2ggKHQpIHsgcmV0dXJuIG4gfSB9IGZ1bmN0aW9uIHcobiwgdCkgeyB0KG4pOyBmb3IgKHZhciBlID0gMCwgciA9IG4uY2hpbGROb2Rlcy5sZW5ndGg7IGUgPCByOyBlKyspdyhuLmNoaWxkTm9kZXNbZV0sIHQpIH0gdmFyIEMsIFMsIE8sIFQsIGssIE4sIEEgPSBbXSwgaiA9IEEuY29uY2F0LCBEID0gQS5maWx0ZXIsIF8gPSBBLnNsaWNlLCBSID0gbi5kb2N1bWVudCwgUCA9IHt9LCBJID0ge30sIE0gPSB7IFwiY29sdW1uLWNvdW50XCI6IDEsIGNvbHVtbnM6IDEsIFwiZm9udC13ZWlnaHRcIjogMSwgXCJsaW5lLWhlaWdodFwiOiAxLCBvcGFjaXR5OiAxLCBcInotaW5kZXhcIjogMSwgem9vbTogMSB9LCBxID0gL15cXHMqPChcXHcrfCEpW14+XSo+LywgTCA9IC9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLywgVSA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naSwgRiA9IC9eKD86Ym9keXxodG1sKSQvaSwgJCA9IC8oW0EtWl0pL2csIEIgPSBbXCJ2YWxcIiwgXCJjc3NcIiwgXCJodG1sXCIsIFwidGV4dFwiLCBcImRhdGFcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcIm9mZnNldFwiXSwgSCA9IFtcImFmdGVyXCIsIFwicHJlcGVuZFwiLCBcImJlZm9yZVwiLCBcImFwcGVuZFwiXSwgViA9IFIuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpLCB6ID0gUi5jcmVhdGVFbGVtZW50KFwidHJcIiksIFogPSB7IHRyOiBSLmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSwgdGJvZHk6IFYsIHRoZWFkOiBWLCB0Zm9vdDogViwgdGQ6IHosIHRoOiB6LCBcIipcIjogUi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIH0sIEcgPSAvY29tcGxldGV8bG9hZGVkfGludGVyYWN0aXZlLywgSyA9IC9eW1xcdy1dKiQvLCBKID0ge30sIFcgPSBKLnRvU3RyaW5nLCBYID0ge30sIFkgPSBSLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIFEgPSB7IHRhYmluZGV4OiBcInRhYkluZGV4XCIsIHJlYWRvbmx5OiBcInJlYWRPbmx5XCIsICdmb3InOiBcImh0bWxGb3JcIiwgJ2NsYXNzJzogXCJjbGFzc05hbWVcIiwgbWF4bGVuZ3RoOiBcIm1heExlbmd0aFwiLCBjZWxsc3BhY2luZzogXCJjZWxsU3BhY2luZ1wiLCBjZWxscGFkZGluZzogXCJjZWxsUGFkZGluZ1wiLCByb3dzcGFuOiBcInJvd1NwYW5cIiwgY29sc3BhbjogXCJjb2xTcGFuXCIsIHVzZW1hcDogXCJ1c2VNYXBcIiwgZnJhbWVib3JkZXI6IFwiZnJhbWVCb3JkZXJcIiwgY29udGVudGVkaXRhYmxlOiBcImNvbnRlbnRFZGl0YWJsZVwiIH0sIG5uID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAobikgeyByZXR1cm4gbiBpbnN0YW5jZW9mIEFycmF5IH07IHJldHVybiBYLm1hdGNoZXMgPSBmdW5jdGlvbiAobiwgdCkgeyBpZiAoIXQgfHwgIW4gfHwgMSAhPT0gbi5ub2RlVHlwZSkgcmV0dXJuICExOyB2YXIgZSA9IG4ubWF0Y2hlcyB8fCBuLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBuLm1vek1hdGNoZXNTZWxlY3RvciB8fCBuLm9NYXRjaGVzU2VsZWN0b3IgfHwgbi5tYXRjaGVzU2VsZWN0b3I7IGlmIChlKSByZXR1cm4gZS5jYWxsKG4sIHQpOyB2YXIgciwgaSA9IG4ucGFyZW50Tm9kZSwgbyA9ICFpOyByZXR1cm4gbyAmJiAoaSA9IFkpLmFwcGVuZENoaWxkKG4pLCByID0gflgucXNhKGksIHQpLmluZGV4T2YobiksIG8gJiYgWS5yZW1vdmVDaGlsZChuKSwgciB9LCBrID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4ucmVwbGFjZSgvLSsoLik/L2csIGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiB0ID8gdC50b1VwcGVyQ2FzZSgpIDogXCJcIiB9KSB9LCBOID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIEQuY2FsbChuLCBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gbi5pbmRleE9mKHQpID09IGUgfSkgfSwgWC5mcmFnbWVudCA9IGZ1bmN0aW9uIChuLCB0LCBlKSB7IHZhciByLCBpLCBvOyByZXR1cm4gTC50ZXN0KG4pICYmIChyID0gTyhSLmNyZWF0ZUVsZW1lbnQoUmVnRXhwLiQxKSkpLCByIHx8IChuLnJlcGxhY2UgJiYgKG4gPSBuLnJlcGxhY2UoVSwgXCI8JDE+PC8kMj5cIikpLCB0ID09PSBDICYmICh0ID0gcS50ZXN0KG4pICYmIFJlZ0V4cC4kMSksIHQgaW4gWiB8fCAodCA9IFwiKlwiKSwgbyA9IFpbdF0sIG8uaW5uZXJIVE1MID0gXCJcIiArIG4sIHIgPSBPLmVhY2goXy5jYWxsKG8uY2hpbGROb2RlcyksIGZ1bmN0aW9uICgpIHsgby5yZW1vdmVDaGlsZCh0aGlzKSB9KSksIHUoZSkgJiYgKGkgPSBPKHIpLCBPLmVhY2goZSwgZnVuY3Rpb24gKG4sIHQpIHsgQi5pbmRleE9mKG4pID4gLTEgPyBpW25dKHQpIDogaS5hdHRyKG4sIHQpIH0pKSwgciB9LCBYLlogPSBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbmV3IHYobiwgdCkgfSwgWC5pc1ogPSBmdW5jdGlvbiAobikgeyByZXR1cm4gbiBpbnN0YW5jZW9mIFguWiB9LCBYLmluaXQgPSBmdW5jdGlvbiAobiwgdCkgeyB2YXIgcjsgaWYgKCFuKSByZXR1cm4gWC5aKCk7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBuKSBpZiAobiA9IG4udHJpbSgpLCBcIjxcIiA9PSBuWzBdICYmIHEudGVzdChuKSkgciA9IFguZnJhZ21lbnQobiwgUmVnRXhwLiQxLCB0KSwgbiA9IG51bGw7IGVsc2UgeyBpZiAodCAhPT0gQykgcmV0dXJuIE8odCkuZmluZChuKTsgciA9IFgucXNhKFIsIG4pIH0gZWxzZSB7IGlmIChlKG4pKSByZXR1cm4gTyhSKS5yZWFkeShuKTsgaWYgKFguaXNaKG4pKSByZXR1cm4gbjsgaWYgKG5uKG4pKSByID0gYShuKTsgZWxzZSBpZiAobyhuKSkgciA9IFtuXSwgbiA9IG51bGw7IGVsc2UgaWYgKHEudGVzdChuKSkgciA9IFguZnJhZ21lbnQobi50cmltKCksIFJlZ0V4cC4kMSwgdCksIG4gPSBudWxsOyBlbHNlIHsgaWYgKHQgIT09IEMpIHJldHVybiBPKHQpLmZpbmQobik7IHIgPSBYLnFzYShSLCBuKSB9IH0gcmV0dXJuIFguWihyLCBuKSB9LCBPID0gZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIFguaW5pdChuLCB0KSB9LCBPLmV4dGVuZCA9IGZ1bmN0aW9uIChuKSB7IHZhciB0LCBlID0gXy5jYWxsKGFyZ3VtZW50cywgMSk7IHJldHVybiBcImJvb2xlYW5cIiA9PSB0eXBlb2YgbiAmJiAodCA9IG4sIG4gPSBlLnNoaWZ0KCkpLCBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgbShuLCBlLCB0KSB9KSwgbiB9LCBYLnFzYSA9IGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlLCByID0gXCIjXCIgPT0gdFswXSwgaSA9ICFyICYmIFwiLlwiID09IHRbMF0sIG8gPSByIHx8IGkgPyB0LnNsaWNlKDEpIDogdCwgdSA9IEsudGVzdChvKTsgcmV0dXJuIG4uZ2V0RWxlbWVudEJ5SWQgJiYgdSAmJiByID8gKGUgPSBuLmdldEVsZW1lbnRCeUlkKG8pKSA/IFtlXSA6IFtdIDogMSAhPT0gbi5ub2RlVHlwZSAmJiA5ICE9PSBuLm5vZGVUeXBlICYmIDExICE9PSBuLm5vZGVUeXBlID8gW10gOiBfLmNhbGwodSAmJiAhciAmJiBuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPyBpID8gbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG8pIDogbi5nZXRFbGVtZW50c0J5VGFnTmFtZSh0KSA6IG4ucXVlcnlTZWxlY3RvckFsbCh0KSkgfSwgTy5jb250YWlucyA9IFIuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zID8gZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIG4gIT09IHQgJiYgbi5jb250YWlucyh0KSB9IDogZnVuY3Rpb24gKG4sIHQpIHsgZm9yICg7IHQgJiYgKHQgPSB0LnBhcmVudE5vZGUpOylpZiAodCA9PT0gbikgcmV0dXJuICEwOyByZXR1cm4gITEgfSwgTy50eXBlID0gdCwgTy5pc0Z1bmN0aW9uID0gZSwgTy5pc1dpbmRvdyA9IHIsIE8uaXNBcnJheSA9IG5uLCBPLmlzUGxhaW5PYmplY3QgPSB1LCBPLmlzRW1wdHlPYmplY3QgPSBmdW5jdGlvbiAobikgeyB2YXIgdDsgZm9yICh0IGluIG4pIHJldHVybiAhMTsgcmV0dXJuICEwIH0sIE8uaXNOdW1lcmljID0gZnVuY3Rpb24gKG4pIHsgdmFyIHQgPSBOdW1iZXIobiksIGUgPSB2b2lkIDAgPT09IG4gPyBcInVuZGVmaW5lZFwiIDogRmMobik7IHJldHVybiBudWxsICE9IG4gJiYgXCJib29sZWFuXCIgIT0gZSAmJiAoXCJzdHJpbmdcIiAhPSBlIHx8IG4ubGVuZ3RoKSAmJiAhaXNOYU4odCkgJiYgaXNGaW5pdGUodCkgfHwgITEgfSwgTy5pbkFycmF5ID0gZnVuY3Rpb24gKG4sIHQsIGUpIHsgcmV0dXJuIEEuaW5kZXhPZi5jYWxsKHQsIG4sIGUpIH0sIE8uY2FtZWxDYXNlID0gaywgTy50cmltID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG51bGwgPT0gbiA/IFwiXCIgOiBTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbChuKSB9LCBPLnV1aWQgPSAwLCBPLnN1cHBvcnQgPSB7fSwgTy5leHByID0ge30sIE8ubm9vcCA9IGZ1bmN0aW9uICgpIHsgfSwgTy5tYXAgPSBmdW5jdGlvbiAobiwgdCkgeyB2YXIgZSwgciwgaSwgbyA9IFtdOyBpZiAoYyhuKSkgZm9yIChyID0gMDsgciA8IG4ubGVuZ3RoOyByKyspbnVsbCAhPSAoZSA9IHQobltyXSwgcikpICYmIG8ucHVzaChlKTsgZWxzZSBmb3IgKGkgaW4gbikgbnVsbCAhPSAoZSA9IHQobltpXSwgaSkpICYmIG8ucHVzaChlKTsgcmV0dXJuIGYobykgfSwgTy5lYWNoID0gZnVuY3Rpb24gKG4sIHQpIHsgdmFyIGUsIHI7IGlmIChjKG4pKSB7IGZvciAoZSA9IDA7IGUgPCBuLmxlbmd0aDsgZSsrKWlmICghMSA9PT0gdC5jYWxsKG5bZV0sIGUsIG5bZV0pKSByZXR1cm4gbiB9IGVsc2UgZm9yIChyIGluIG4pIGlmICghMSA9PT0gdC5jYWxsKG5bcl0sIHIsIG5bcl0pKSByZXR1cm4gbjsgcmV0dXJuIG4gfSwgTy5ncmVwID0gZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIEQuY2FsbChuLCB0KSB9LCBuLkpTT04gJiYgKE8ucGFyc2VKU09OID0gSlNPTi5wYXJzZSksIE8uZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uIChuLCB0KSB7IEpbXCJbb2JqZWN0IFwiICsgdCArIFwiXVwiXSA9IHQudG9Mb3dlckNhc2UoKSB9KSwgTy5mbiA9IHsgY29uc3RydWN0b3I6IFguWiwgbGVuZ3RoOiAwLCBmb3JFYWNoOiBBLmZvckVhY2gsIHJlZHVjZTogQS5yZWR1Y2UsIHB1c2g6IEEucHVzaCwgc29ydDogQS5zb3J0LCBzcGxpY2U6IEEuc3BsaWNlLCBpbmRleE9mOiBBLmluZGV4T2YsIGNvbmNhdDogZnVuY3Rpb24gKCkgeyB2YXIgbiwgdCwgZSA9IFtdOyBmb3IgKG4gPSAwOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKXQgPSBhcmd1bWVudHNbbl0sIGVbbl0gPSBYLmlzWih0KSA/IHQudG9BcnJheSgpIDogdDsgcmV0dXJuIGouYXBwbHkoWC5pc1oodGhpcykgPyB0aGlzLnRvQXJyYXkoKSA6IHRoaXMsIGUpIH0sIG1hcDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIE8oTy5tYXAodGhpcywgZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIG4uY2FsbCh0LCBlLCB0KSB9KSkgfSwgc2xpY2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE8oXy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB9LCByZWFkeTogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIEcudGVzdChSLnJlYWR5U3RhdGUpICYmIFIuYm9keSA/IG4oTykgOiBSLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHsgbihPKSB9LCAhMSksIHRoaXMgfSwgZ2V0OiBmdW5jdGlvbiAobikgeyByZXR1cm4gbiA9PT0gQyA/IF8uY2FsbCh0aGlzKSA6IHRoaXNbbiA+PSAwID8gbiA6IG4gKyB0aGlzLmxlbmd0aF0gfSwgdG9BcnJheTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5nZXQoKSB9LCBzaXplOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmxlbmd0aCB9LCByZW1vdmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IG51bGwgIT0gdGhpcy5wYXJlbnROb2RlICYmIHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKSB9KSB9LCBlYWNoOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciB0LCBlID0gdGhpcy5sZW5ndGgsIHIgPSAwOyByIDwgZSAmJiAodCA9IHRoaXNbcl0sICExICE9PSBuLmNhbGwodCwgciwgdCkpOylyKys7IHJldHVybiB0aGlzIH0sIGZpbHRlcjogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGUobikgPyB0aGlzLm5vdCh0aGlzLm5vdChuKSkgOiBPKEQuY2FsbCh0aGlzLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gWC5tYXRjaGVzKHQsIG4pIH0pKSB9LCBhZGQ6IGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBPKE4odGhpcy5jb25jYXQoTyhuLCB0KSkpKSB9LCBpczogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRoaXMubGVuZ3RoID4gMCAmJiBYLm1hdGNoZXModGhpc1swXSwgbikgfSwgbm90OiBmdW5jdGlvbiAobikgeyB2YXIgdCA9IFtdOyBpZiAoZShuKSAmJiBuLmNhbGwgIT09IEMpIHRoaXMuZWFjaChmdW5jdGlvbiAoZSkgeyBuLmNhbGwodGhpcywgZSkgfHwgdC5wdXNoKHRoaXMpIH0pOyBlbHNlIHsgdmFyIHIgPSBcInN0cmluZ1wiID09IHR5cGVvZiBuID8gdGhpcy5maWx0ZXIobikgOiBjKG4pICYmIGUobi5pdGVtKSA/IF8uY2FsbChuKSA6IE8obik7IHRoaXMuZm9yRWFjaChmdW5jdGlvbiAobikgeyByLmluZGV4T2YobikgPCAwICYmIHQucHVzaChuKSB9KSB9IHJldHVybiBPKHQpIH0sIGhhczogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8obikgPyBPLmNvbnRhaW5zKHRoaXMsIG4pIDogTyh0aGlzKS5maW5kKG4pLnNpemUoKSB9KSB9LCBlcTogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIC0xID09PSBuID8gdGhpcy5zbGljZShuKSA6IHRoaXMuc2xpY2UobiwgK24gKyAxKSB9LCBmaXJzdDogZnVuY3Rpb24gKCkgeyB2YXIgbiA9IHRoaXNbMF07IHJldHVybiBuICYmICFvKG4pID8gbiA6IE8obikgfSwgbGFzdDogZnVuY3Rpb24gKCkgeyB2YXIgbiA9IHRoaXNbdGhpcy5sZW5ndGggLSAxXTsgcmV0dXJuIG4gJiYgIW8obikgPyBuIDogTyhuKSB9LCBmaW5kOiBmdW5jdGlvbiAobikgeyB2YXIgdCA9IHRoaXM7IHJldHVybiBuID8gXCJvYmplY3RcIiA9PSAodm9pZCAwID09PSBuID8gXCJ1bmRlZmluZWRcIiA6IEZjKG4pKSA/IE8obikuZmlsdGVyKGZ1bmN0aW9uICgpIHsgdmFyIG4gPSB0aGlzOyByZXR1cm4gQS5zb21lLmNhbGwodCwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE8uY29udGFpbnModCwgbikgfSkgfSkgOiAxID09IHRoaXMubGVuZ3RoID8gTyhYLnFzYSh0aGlzWzBdLCBuKSkgOiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBYLnFzYSh0aGlzLCBuKSB9KSA6IE8oKSB9LCBjbG9zZXN0OiBmdW5jdGlvbiAobiwgdCkgeyB2YXIgZSA9IFtdLCByID0gXCJvYmplY3RcIiA9PSAodm9pZCAwID09PSBuID8gXCJ1bmRlZmluZWRcIiA6IEZjKG4pKSAmJiBPKG4pOyByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChvLCB1KSB7IGZvciAoOyB1ICYmICEociA/IHIuaW5kZXhPZih1KSA+PSAwIDogWC5tYXRjaGVzKHUsIG4pKTspdSA9IHUgIT09IHQgJiYgIWkodSkgJiYgdS5wYXJlbnROb2RlOyB1ICYmIGUuaW5kZXhPZih1KSA8IDAgJiYgZS5wdXNoKHUpIH0pLCBPKGUpIH0sIHBhcmVudHM6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIHQgPSBbXSwgZSA9IHRoaXM7IGUubGVuZ3RoID4gMDspZSA9IE8ubWFwKGUsIGZ1bmN0aW9uIChuKSB7IGlmICgobiA9IG4ucGFyZW50Tm9kZSkgJiYgIWkobikgJiYgdC5pbmRleE9mKG4pIDwgMCkgcmV0dXJuIHQucHVzaChuKSwgbiB9KTsgcmV0dXJuIGcodCwgbikgfSwgcGFyZW50OiBmdW5jdGlvbiAobikgeyByZXR1cm4gZyhOKHRoaXMucGx1Y2soXCJwYXJlbnROb2RlXCIpKSwgbikgfSwgY2hpbGRyZW46IGZ1bmN0aW9uIChuKSB7IHJldHVybiBnKHRoaXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHAodGhpcykgfSksIG4pIH0sIGNvbnRlbnRzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmNvbnRlbnREb2N1bWVudCB8fCBfLmNhbGwodGhpcy5jaGlsZE5vZGVzKSB9KSB9LCBzaWJsaW5nczogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGcodGhpcy5tYXAoZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIEQuY2FsbChwKHQucGFyZW50Tm9kZSksIGZ1bmN0aW9uIChuKSB7IHJldHVybiBuICE9PSB0IH0pIH0pLCBuKSB9LCBlbXB0eTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsgdGhpcy5pbm5lckhUTUwgPSBcIlwiIH0pIH0sIHBsdWNrOiBmdW5jdGlvbiAobikgeyByZXR1cm4gTy5tYXAodGhpcywgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRbbl0gfSkgfSwgc2hvdzogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsgXCJub25lXCIgPT0gdGhpcy5zdHlsZS5kaXNwbGF5ICYmICh0aGlzLnN0eWxlLmRpc3BsYXkgPSBcIlwiKSwgXCJub25lXCIgPT0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLCBcIlwiKS5nZXRQcm9wZXJ0eVZhbHVlKFwiZGlzcGxheVwiKSAmJiAodGhpcy5zdHlsZS5kaXNwbGF5ID0gaCh0aGlzLm5vZGVOYW1lKSkgfSkgfSwgcmVwbGFjZVdpdGg6IGZ1bmN0aW9uIChuKSB7IHJldHVybiB0aGlzLmJlZm9yZShuKS5yZW1vdmUoKSB9LCB3cmFwOiBmdW5jdGlvbiAobikgeyB2YXIgdCA9IGUobik7IGlmICh0aGlzWzBdICYmICF0KSB2YXIgciA9IE8obikuZ2V0KDApLCBpID0gci5wYXJlbnROb2RlIHx8IHRoaXMubGVuZ3RoID4gMTsgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoZSkgeyBPKHRoaXMpLndyYXBBbGwodCA/IG4uY2FsbCh0aGlzLCBlKSA6IGkgPyByLmNsb25lTm9kZSghMCkgOiByKSB9KSB9LCB3cmFwQWxsOiBmdW5jdGlvbiAobikgeyBpZiAodGhpc1swXSkgeyBPKHRoaXNbMF0pLmJlZm9yZShuID0gTyhuKSk7IGZvciAodmFyIHQ7ICh0ID0gbi5jaGlsZHJlbigpKS5sZW5ndGg7KW4gPSB0LmZpcnN0KCk7IE8obikuYXBwZW5kKHRoaXMpIH0gcmV0dXJuIHRoaXMgfSwgd3JhcElubmVyOiBmdW5jdGlvbiAobikgeyB2YXIgdCA9IGUobik7IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGUpIHsgdmFyIHIgPSBPKHRoaXMpLCBpID0gci5jb250ZW50cygpLCBvID0gdCA/IG4uY2FsbCh0aGlzLCBlKSA6IG47IGkubGVuZ3RoID8gaS53cmFwQWxsKG8pIDogci5hcHBlbmQobykgfSkgfSwgdW53cmFwOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24gKCkgeyBPKHRoaXMpLnJlcGxhY2VXaXRoKE8odGhpcykuY2hpbGRyZW4oKSkgfSksIHRoaXMgfSwgY2xvbmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuY2xvbmVOb2RlKCEwKSB9KSB9LCBoaWRlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpIH0sIHRvZ2dsZTogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IHZhciB0ID0gTyh0aGlzKTsgKG4gPT09IEMgPyBcIm5vbmVcIiA9PSB0LmNzcyhcImRpc3BsYXlcIikgOiBuKSA/IHQuc2hvdygpIDogdC5oaWRlKCkgfSkgfSwgcHJldjogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIE8odGhpcy5wbHVjayhcInByZXZpb3VzRWxlbWVudFNpYmxpbmdcIikpLmZpbHRlcihuIHx8IFwiKlwiKSB9LCBuZXh0OiBmdW5jdGlvbiAobikgeyByZXR1cm4gTyh0aGlzLnBsdWNrKFwibmV4dEVsZW1lbnRTaWJsaW5nXCIpKS5maWx0ZXIobiB8fCBcIipcIikgfSwgaHRtbDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIDAgaW4gYXJndW1lbnRzID8gdGhpcy5lYWNoKGZ1bmN0aW9uICh0KSB7IHZhciBlID0gdGhpcy5pbm5lckhUTUw7IE8odGhpcykuZW1wdHkoKS5hcHBlbmQoeSh0aGlzLCBuLCB0LCBlKSkgfSkgOiAwIGluIHRoaXMgPyB0aGlzWzBdLmlubmVySFRNTCA6IG51bGwgfSwgdGV4dDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIDAgaW4gYXJndW1lbnRzID8gdGhpcy5lYWNoKGZ1bmN0aW9uICh0KSB7IHZhciBlID0geSh0aGlzLCBuLCB0LCB0aGlzLnRleHRDb250ZW50KTsgdGhpcy50ZXh0Q29udGVudCA9IG51bGwgPT0gZSA/IFwiXCIgOiBcIlwiICsgZSB9KSA6IDAgaW4gdGhpcyA/IHRoaXMucGx1Y2soXCJ0ZXh0Q29udGVudFwiKS5qb2luKFwiXCIpIDogbnVsbCB9LCBhdHRyOiBmdW5jdGlvbiAobiwgdCkgeyB2YXIgZTsgcmV0dXJuIFwic3RyaW5nXCIgIT0gdHlwZW9mIG4gfHwgMSBpbiBhcmd1bWVudHMgPyB0aGlzLmVhY2goZnVuY3Rpb24gKGUpIHsgaWYgKDEgPT09IHRoaXMubm9kZVR5cGUpIGlmIChvKG4pKSBmb3IgKFMgaW4gbikgYih0aGlzLCBTLCBuW1NdKTsgZWxzZSBiKHRoaXMsIG4sIHkodGhpcywgdCwgZSwgdGhpcy5nZXRBdHRyaWJ1dGUobikpKSB9KSA6IDAgaW4gdGhpcyAmJiAxID09IHRoaXNbMF0ubm9kZVR5cGUgJiYgbnVsbCAhPSAoZSA9IHRoaXNbMF0uZ2V0QXR0cmlidXRlKG4pKSA/IGUgOiBDIH0sIHJlbW92ZUF0dHI6IGZ1bmN0aW9uIChuKSB7IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgeyAxID09PSB0aGlzLm5vZGVUeXBlICYmIG4uc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgYih0aGlzLCBuKSB9LCB0aGlzKSB9KSB9LCBwcm9wOiBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbiA9IFFbbl0gfHwgbiwgMSBpbiBhcmd1bWVudHMgPyB0aGlzLmVhY2goZnVuY3Rpb24gKGUpIHsgdGhpc1tuXSA9IHkodGhpcywgdCwgZSwgdGhpc1tuXSkgfSkgOiB0aGlzWzBdICYmIHRoaXNbMF1bbl0gfSwgcmVtb3ZlUHJvcDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gPSBRW25dIHx8IG4sIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IGRlbGV0ZSB0aGlzW25dIH0pIH0sIGRhdGE6IGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlID0gXCJkYXRhLVwiICsgbi5yZXBsYWNlKCQsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKCksIHIgPSAxIGluIGFyZ3VtZW50cyA/IHRoaXMuYXR0cihlLCB0KSA6IHRoaXMuYXR0cihlKTsgcmV0dXJuIG51bGwgIT09IHIgPyBFKHIpIDogQyB9LCB2YWw6IGZ1bmN0aW9uIChuKSB7IHJldHVybiAwIGluIGFyZ3VtZW50cyA/IChudWxsID09IG4gJiYgKG4gPSBcIlwiKSwgdGhpcy5lYWNoKGZ1bmN0aW9uICh0KSB7IHRoaXMudmFsdWUgPSB5KHRoaXMsIG4sIHQsIHRoaXMudmFsdWUpIH0pKSA6IHRoaXNbMF0gJiYgKHRoaXNbMF0ubXVsdGlwbGUgPyBPKHRoaXNbMF0pLmZpbmQoXCJvcHRpb25cIikuZmlsdGVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuc2VsZWN0ZWQgfSkucGx1Y2soXCJ2YWx1ZVwiKSA6IHRoaXNbMF0udmFsdWUpIH0sIG9mZnNldDogZnVuY3Rpb24gKHQpIHsgaWYgKHQpIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKG4pIHsgdmFyIGUgPSBPKHRoaXMpLCByID0geSh0aGlzLCB0LCBuLCBlLm9mZnNldCgpKSwgaSA9IGUub2Zmc2V0UGFyZW50KCkub2Zmc2V0KCksIG8gPSB7IHRvcDogci50b3AgLSBpLnRvcCwgbGVmdDogci5sZWZ0IC0gaS5sZWZ0IH07IFwic3RhdGljXCIgPT0gZS5jc3MoXCJwb3NpdGlvblwiKSAmJiAoby5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIiksIGUuY3NzKG8pIH0pOyBpZiAoIXRoaXMubGVuZ3RoKSByZXR1cm4gbnVsbDsgaWYgKFIuZG9jdW1lbnRFbGVtZW50ICE9PSB0aGlzWzBdICYmICFPLmNvbnRhaW5zKFIuZG9jdW1lbnRFbGVtZW50LCB0aGlzWzBdKSkgcmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07IHZhciBlID0gdGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgcmV0dXJuIHsgbGVmdDogZS5sZWZ0ICsgbi5wYWdlWE9mZnNldCwgdG9wOiBlLnRvcCArIG4ucGFnZVlPZmZzZXQsIHdpZHRoOiBNYXRoLnJvdW5kKGUud2lkdGgpLCBoZWlnaHQ6IE1hdGgucm91bmQoZS5oZWlnaHQpIH0gfSwgY3NzOiBmdW5jdGlvbiAobiwgZSkgeyBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsgdmFyIHIgPSB0aGlzWzBdOyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgbikgeyBpZiAoIXIpIHJldHVybjsgcmV0dXJuIHIuc3R5bGVbayhuKV0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShyLCBcIlwiKS5nZXRQcm9wZXJ0eVZhbHVlKG4pIH0gaWYgKG5uKG4pKSB7IGlmICghcikgcmV0dXJuOyB2YXIgaSA9IHt9LCBvID0gZ2V0Q29tcHV0ZWRTdHlsZShyLCBcIlwiKTsgcmV0dXJuIE8uZWFjaChuLCBmdW5jdGlvbiAobiwgdCkgeyBpW3RdID0gci5zdHlsZVtrKHQpXSB8fCBvLmdldFByb3BlcnR5VmFsdWUodCkgfSksIGkgfSB9IHZhciB1ID0gXCJcIjsgaWYgKFwic3RyaW5nXCIgPT0gdChuKSkgZSB8fCAwID09PSBlID8gdSA9IHMobikgKyBcIjpcIiArIGQobiwgZSkgOiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KHMobikpIH0pOyBlbHNlIGZvciAoUyBpbiBuKSBuW1NdIHx8IDAgPT09IG5bU10gPyB1ICs9IHMoUykgKyBcIjpcIiArIGQoUywgbltTXSkgKyBcIjtcIiA6IHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkocyhTKSkgfSk7IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLnN0eWxlLmNzc1RleHQgKz0gXCI7XCIgKyB1IH0pIH0sIGluZGV4OiBmdW5jdGlvbiAobikgeyByZXR1cm4gbiA/IHRoaXMuaW5kZXhPZihPKG4pWzBdKSA6IHRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleE9mKHRoaXNbMF0pIH0sIGhhc0NsYXNzOiBmdW5jdGlvbiAobikgeyByZXR1cm4gISFuICYmIEEuc29tZS5jYWxsKHRoaXMsIGZ1bmN0aW9uIChuKSB7IHJldHVybiB0aGlzLnRlc3QoeChuKSkgfSwgbChuKSkgfSwgYWRkQ2xhc3M6IGZ1bmN0aW9uIChuKSB7IHJldHVybiBuID8gdGhpcy5lYWNoKGZ1bmN0aW9uICh0KSB7IGlmIChcImNsYXNzTmFtZVwiIGluIHRoaXMpIHsgVCA9IFtdOyB2YXIgZSA9IHgodGhpcyk7IHkodGhpcywgbiwgdCwgZSkuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbiAobikgeyBPKHRoaXMpLmhhc0NsYXNzKG4pIHx8IFQucHVzaChuKSB9LCB0aGlzKSwgVC5sZW5ndGggJiYgeCh0aGlzLCBlICsgKGUgPyBcIiBcIiA6IFwiXCIpICsgVC5qb2luKFwiIFwiKSkgfSB9KSA6IHRoaXMgfSwgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChuKSB7IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHQpIHsgaWYgKFwiY2xhc3NOYW1lXCIgaW4gdGhpcykgeyBpZiAobiA9PT0gQykgcmV0dXJuIHgodGhpcywgXCJcIik7IFQgPSB4KHRoaXMpLCB5KHRoaXMsIG4sIHQsIFQpLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgVCA9IFQucmVwbGFjZShsKG4pLCBcIiBcIikgfSksIHgodGhpcywgVC50cmltKCkpIH0gfSkgfSwgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuID8gdGhpcy5lYWNoKGZ1bmN0aW9uIChlKSB7IHZhciByID0gTyh0aGlzKTsgeSh0aGlzLCBuLCBlLCB4KHRoaXMpKS5zcGxpdCgvXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7ICh0ID09PSBDID8gIXIuaGFzQ2xhc3MobikgOiB0KSA/IHIuYWRkQ2xhc3MobikgOiByLnJlbW92ZUNsYXNzKG4pIH0pIH0pIDogdGhpcyB9LCBzY3JvbGxUb3A6IGZ1bmN0aW9uIChuKSB7IGlmICh0aGlzLmxlbmd0aCkgeyB2YXIgdCA9IFwic2Nyb2xsVG9wXCIgaW4gdGhpc1swXTsgcmV0dXJuIG4gPT09IEMgPyB0ID8gdGhpc1swXS5zY3JvbGxUb3AgOiB0aGlzWzBdLnBhZ2VZT2Zmc2V0IDogdGhpcy5lYWNoKHQgPyBmdW5jdGlvbiAoKSB7IHRoaXMuc2Nyb2xsVG9wID0gbiB9IDogZnVuY3Rpb24gKCkgeyB0aGlzLnNjcm9sbFRvKHRoaXMuc2Nyb2xsWCwgbikgfSkgfSB9LCBzY3JvbGxMZWZ0OiBmdW5jdGlvbiAobikgeyBpZiAodGhpcy5sZW5ndGgpIHsgdmFyIHQgPSBcInNjcm9sbExlZnRcIiBpbiB0aGlzWzBdOyByZXR1cm4gbiA9PT0gQyA/IHQgPyB0aGlzWzBdLnNjcm9sbExlZnQgOiB0aGlzWzBdLnBhZ2VYT2Zmc2V0IDogdGhpcy5lYWNoKHQgPyBmdW5jdGlvbiAoKSB7IHRoaXMuc2Nyb2xsTGVmdCA9IG4gfSA6IGZ1bmN0aW9uICgpIHsgdGhpcy5zY3JvbGxUbyhuLCB0aGlzLnNjcm9sbFkpIH0pIH0gfSwgcG9zaXRpb246IGZ1bmN0aW9uICgpIHsgaWYgKHRoaXMubGVuZ3RoKSB7IHZhciBuID0gdGhpc1swXSwgdCA9IHRoaXMub2Zmc2V0UGFyZW50KCksIGUgPSB0aGlzLm9mZnNldCgpLCByID0gRi50ZXN0KHRbMF0ubm9kZU5hbWUpID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6IHQub2Zmc2V0KCk7IHJldHVybiBlLnRvcCAtPSBwYXJzZUZsb2F0KE8obikuY3NzKFwibWFyZ2luLXRvcFwiKSkgfHwgMCwgZS5sZWZ0IC09IHBhcnNlRmxvYXQoTyhuKS5jc3MoXCJtYXJnaW4tbGVmdFwiKSkgfHwgMCwgci50b3AgKz0gcGFyc2VGbG9hdChPKHRbMF0pLmNzcyhcImJvcmRlci10b3Atd2lkdGhcIikpIHx8IDAsIHIubGVmdCArPSBwYXJzZUZsb2F0KE8odFswXSkuY3NzKFwiYm9yZGVyLWxlZnQtd2lkdGhcIikpIHx8IDAsIHsgdG9wOiBlLnRvcCAtIHIudG9wLCBsZWZ0OiBlLmxlZnQgLSByLmxlZnQgfSB9IH0sIG9mZnNldFBhcmVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKCkgeyBmb3IgKHZhciBuID0gdGhpcy5vZmZzZXRQYXJlbnQgfHwgUi5ib2R5OyBuICYmICFGLnRlc3Qobi5ub2RlTmFtZSkgJiYgXCJzdGF0aWNcIiA9PSBPKG4pLmNzcyhcInBvc2l0aW9uXCIpOyluID0gbi5vZmZzZXRQYXJlbnQ7IHJldHVybiBuIH0pIH0gfSwgTy5mbi5kZXRhY2ggPSBPLmZuLnJlbW92ZSwgW1wid2lkdGhcIiwgXCJoZWlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbiAobikgeyB2YXIgdCA9IG4ucmVwbGFjZSgvLi8sIGZ1bmN0aW9uIChuKSB7IHJldHVybiBuWzBdLnRvVXBwZXJDYXNlKCkgfSk7IE8uZm5bbl0gPSBmdW5jdGlvbiAoZSkgeyB2YXIgbywgdSA9IHRoaXNbMF07IHJldHVybiBlID09PSBDID8gcih1KSA/IHVbXCJpbm5lclwiICsgdF0gOiBpKHUpID8gdS5kb2N1bWVudEVsZW1lbnRbXCJzY3JvbGxcIiArIHRdIDogKG8gPSB0aGlzLm9mZnNldCgpKSAmJiBvW25dIDogdGhpcy5lYWNoKGZ1bmN0aW9uICh0KSB7IHUgPSBPKHRoaXMpLCB1LmNzcyhuLCB5KHRoaXMsIGUsIHQsIHVbbl0oKSkpIH0pIH0gfSksIEguZm9yRWFjaChmdW5jdGlvbiAoZSwgcikgeyB2YXIgaSA9IHIgJSAyOyBPLmZuW2VdID0gZnVuY3Rpb24gKCkgeyB2YXIgZSwgbywgdSA9IE8ubWFwKGFyZ3VtZW50cywgZnVuY3Rpb24gKG4pIHsgdmFyIHIgPSBbXTsgcmV0dXJuIGUgPSB0KG4pLCBcImFycmF5XCIgPT0gZSA/IChuLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4ubm9kZVR5cGUgIT09IEMgPyByLnB1c2gobikgOiBPLnplcHRvLmlzWihuKSA/IHIgPSByLmNvbmNhdChuLmdldCgpKSA6IHZvaWQgKHIgPSByLmNvbmNhdChYLmZyYWdtZW50KG4pKSkgfSksIHIpIDogXCJvYmplY3RcIiA9PSBlIHx8IG51bGwgPT0gbiA/IG4gOiBYLmZyYWdtZW50KG4pIH0pLCBjID0gdGhpcy5sZW5ndGggPiAxOyByZXR1cm4gdS5sZW5ndGggPCAxID8gdGhpcyA6IHRoaXMuZWFjaChmdW5jdGlvbiAodCwgZSkgeyBvID0gaSA/IGUgOiBlLnBhcmVudE5vZGUsIGUgPSAwID09IHIgPyBlLm5leHRTaWJsaW5nIDogMSA9PSByID8gZS5maXJzdENoaWxkIDogMiA9PSByID8gZSA6IG51bGw7IHZhciBhID0gTy5jb250YWlucyhSLmRvY3VtZW50RWxlbWVudCwgbyksIGYgPSAvXih0ZXh0fGFwcGxpY2F0aW9uKVxcLyhqYXZhc2NyaXB0fGVjbWFzY3JpcHQpJC87IHUuZm9yRWFjaChmdW5jdGlvbiAodCkgeyBpZiAoYykgdCA9IHQuY2xvbmVOb2RlKCEwKTsgZWxzZSBpZiAoIW8pIHJldHVybiBPKHQpLnJlbW92ZSgpOyBvLmluc2VydEJlZm9yZSh0LCBlKSwgYSAmJiB3KHQsIGZ1bmN0aW9uICh0KSB7IGlmIChudWxsICE9IHQubm9kZU5hbWUgJiYgXCJTQ1JJUFRcIiA9PT0gdC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICYmICghdC50eXBlIHx8IGYudGVzdCh0LnR5cGUudG9Mb3dlckNhc2UoKSkpICYmICF0LnNyYykgeyB2YXIgZSA9IHQub3duZXJEb2N1bWVudCA/IHQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IG47IGUuZXZhbC5jYWxsKGUsIHQuaW5uZXJIVE1MKSB9IH0pIH0pIH0pIH0sIE8uZm5baSA/IGUgKyBcIlRvXCIgOiBcImluc2VydFwiICsgKHIgPyBcIkJlZm9yZVwiIDogXCJBZnRlclwiKV0gPSBmdW5jdGlvbiAobikgeyByZXR1cm4gTyhuKVtlXSh0aGlzKSwgdGhpcyB9IH0pLCBYLloucHJvdG90eXBlID0gdi5wcm90b3R5cGUgPSBPLmZuLCBYLnVuaXEgPSBOLCBYLmRlc2VyaWFsaXplVmFsdWUgPSBFLCBPLnplcHRvID0gWCwgTyB9KCk7IHJldHVybiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBlKG4pIHsgcmV0dXJuIG4uX3ppZCB8fCAobi5femlkID0gaCsrKSB9IGZ1bmN0aW9uIHIobiwgdCwgciwgdSkgeyBpZiAodCA9IGkodCksIHQubnMpIHZhciBjID0gbyh0Lm5zKTsgcmV0dXJuIChnW2UobildIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gJiYgKCF0LmUgfHwgbi5lID09IHQuZSkgJiYgKCF0Lm5zIHx8IGMudGVzdChuLm5zKSkgJiYgKCFyIHx8IGUobi5mbikgPT09IGUocikpICYmICghdSB8fCBuLnNlbCA9PSB1KSB9KSB9IGZ1bmN0aW9uIGkobikgeyB2YXIgdCA9IChcIlwiICsgbikuc3BsaXQoXCIuXCIpOyByZXR1cm4geyBlOiB0WzBdLCBuczogdC5zbGljZSgxKS5zb3J0KCkuam9pbihcIiBcIikgfSB9IGZ1bmN0aW9uIG8obikgeyByZXR1cm4gbmV3IFJlZ0V4cChcIig/Ol58IClcIiArIG4ucmVwbGFjZShcIiBcIiwgXCIgLiogP1wiKSArIFwiKD86IHwkKVwiKSB9IGZ1bmN0aW9uIHUobiwgdCkgeyByZXR1cm4gbi5kZWwgJiYgIWIgJiYgbi5lIGluIHggfHwgISF0IH0gZnVuY3Rpb24gYyhuKSB7IHJldHVybiBFW25dIHx8IGIgJiYgeFtuXSB8fCBuIH0gZnVuY3Rpb24gYShuLCByLCBvLCBhLCBmLCBsLCBoKSB7IHZhciBwID0gZShuKSwgdiA9IGdbcF0gfHwgKGdbcF0gPSBbXSk7IHIuc3BsaXQoL1xccy8pLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgaWYgKFwicmVhZHlcIiA9PSBlKSByZXR1cm4gdChkb2N1bWVudCkucmVhZHkobyk7IHZhciByID0gaShlKTsgci5mbiA9IG8sIHIuc2VsID0gZiwgci5lIGluIEUgJiYgKG8gPSBmdW5jdGlvbiAobikgeyB2YXIgZSA9IG4ucmVsYXRlZFRhcmdldDsgaWYgKCFlIHx8IGUgIT09IHRoaXMgJiYgIXQuY29udGFpbnModGhpcywgZSkpIHJldHVybiByLmZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfSksIHIuZGVsID0gbDsgdmFyIHAgPSBsIHx8IG87IHIucHJveHkgPSBmdW5jdGlvbiAodCkgeyBpZiAodCA9IHModCksICF0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHsgdC5kYXRhID0gYTsgdmFyIGUgPSBwLmFwcGx5KG4sIHQuX2FyZ3MgPT0gZCA/IFt0XSA6IFt0XS5jb25jYXQodC5fYXJncykpOyByZXR1cm4gITEgPT09IGUgJiYgKHQucHJldmVudERlZmF1bHQoKSwgdC5zdG9wUHJvcGFnYXRpb24oKSksIGUgfSB9LCByLmkgPSB2Lmxlbmd0aCwgdi5wdXNoKHIpLCBcImFkZEV2ZW50TGlzdGVuZXJcIiBpbiBuICYmIG4uYWRkRXZlbnRMaXN0ZW5lcihjKHIuZSksIHIucHJveHksIHUociwgaCkpIH0pIH0gZnVuY3Rpb24gZihuLCB0LCBpLCBvLCBhKSB7IHZhciBmID0gZShuKTsgKHQgfHwgXCJcIikuc3BsaXQoL1xccy8pLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgcihuLCB0LCBpLCBvKS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IGRlbGV0ZSBnW2ZdW3QuaV0sIFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiIGluIG4gJiYgbi5yZW1vdmVFdmVudExpc3RlbmVyKGModC5lKSwgdC5wcm94eSwgdSh0LCBhKSkgfSkgfSkgfSBmdW5jdGlvbiBzKG4sIGUpIHsgaWYgKGUgfHwgIW4uaXNEZWZhdWx0UHJldmVudGVkKSB7IGUgfHwgKGUgPSBuKSwgdC5lYWNoKE8sIGZ1bmN0aW9uICh0LCByKSB7IHZhciBpID0gZVt0XTsgblt0XSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXNbcl0gPSB3LCBpICYmIGkuYXBwbHkoZSwgYXJndW1lbnRzKSB9LCBuW3JdID0gQyB9KTsgdHJ5IHsgbi50aW1lU3RhbXAgfHwgKG4udGltZVN0YW1wID0gKG5ldyBEYXRlKS5nZXRUaW1lKCkpIH0gY2F0Y2ggKG4pIHsgfSAoZS5kZWZhdWx0UHJldmVudGVkICE9PSBkID8gZS5kZWZhdWx0UHJldmVudGVkIDogXCJyZXR1cm5WYWx1ZVwiIGluIGUgPyAhMSA9PT0gZS5yZXR1cm5WYWx1ZSA6IGUuZ2V0UHJldmVudERlZmF1bHQgJiYgZS5nZXRQcmV2ZW50RGVmYXVsdCgpKSAmJiAobi5pc0RlZmF1bHRQcmV2ZW50ZWQgPSB3KSB9IHJldHVybiBuIH0gZnVuY3Rpb24gbChuKSB7IHZhciB0LCBlID0geyBvcmlnaW5hbEV2ZW50OiBuIH07IGZvciAodCBpbiBuKSBTLnRlc3QodCkgfHwgblt0XSA9PT0gZCB8fCAoZVt0XSA9IG5bdF0pOyByZXR1cm4gcyhlLCBuKSB9IHZhciBkLCBoID0gMSwgcCA9IEFycmF5LnByb3RvdHlwZS5zbGljZSwgdiA9IHQuaXNGdW5jdGlvbiwgbSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBuIH0sIGcgPSB7fSwgeSA9IHt9LCBiID0gXCJvbmZvY3VzaW5cIiBpbiBuLCB4ID0geyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBFID0ge1xyXG4gICAgICAgICAgICAgICAgbW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcclxuICAgICAgICAgICAgICAgIG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIlxyXG4gICAgICAgICAgICB9OyB5LmNsaWNrID0geS5tb3VzZWRvd24gPSB5Lm1vdXNldXAgPSB5Lm1vdXNlbW92ZSA9IFwiTW91c2VFdmVudHNcIiwgdC5ldmVudCA9IHsgYWRkOiBhLCByZW1vdmU6IGYgfSwgdC5wcm94eSA9IGZ1bmN0aW9uIChuLCByKSB7IHZhciBpID0gMiBpbiBhcmd1bWVudHMgJiYgcC5jYWxsKGFyZ3VtZW50cywgMik7IGlmICh2KG4pKSB7IHZhciBvID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbi5hcHBseShyLCBpID8gaS5jb25jYXQocC5jYWxsKGFyZ3VtZW50cykpIDogYXJndW1lbnRzKSB9OyByZXR1cm4gby5femlkID0gZShuKSwgbyB9IGlmIChtKHIpKSByZXR1cm4gaSA/IChpLnVuc2hpZnQobltyXSwgbiksIHQucHJveHkuYXBwbHkobnVsbCwgaSkpIDogdC5wcm94eShuW3JdLCBuKTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGVkIGZ1bmN0aW9uXCIpIH0sIHQuZm4uYmluZCA9IGZ1bmN0aW9uIChuLCB0LCBlKSB7IHJldHVybiB0aGlzLm9uKG4sIHQsIGUpIH0sIHQuZm4udW5iaW5kID0gZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIHRoaXMub2ZmKG4sIHQpIH0sIHQuZm4ub25lID0gZnVuY3Rpb24gKG4sIHQsIGUsIHIpIHsgcmV0dXJuIHRoaXMub24obiwgdCwgZSwgciwgMSkgfTsgdmFyIHcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhMCB9LCBDID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gITEgfSwgUyA9IC9eKFtBLVpdfHJldHVyblZhbHVlJHxsYXllcltYWV0kfHdlYmtpdE1vdmVtZW50W1hZXSQpLywgTyA9IHsgcHJldmVudERlZmF1bHQ6IFwiaXNEZWZhdWx0UHJldmVudGVkXCIsIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogXCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZFwiLCBzdG9wUHJvcGFnYXRpb246IFwiaXNQcm9wYWdhdGlvblN0b3BwZWRcIiB9OyB0LmZuLmRlbGVnYXRlID0gZnVuY3Rpb24gKG4sIHQsIGUpIHsgcmV0dXJuIHRoaXMub24odCwgbiwgZSkgfSwgdC5mbi51bmRlbGVnYXRlID0gZnVuY3Rpb24gKG4sIHQsIGUpIHsgcmV0dXJuIHRoaXMub2ZmKHQsIG4sIGUpIH0sIHQuZm4ubGl2ZSA9IGZ1bmN0aW9uIChuLCBlKSB7IHJldHVybiB0KGRvY3VtZW50LmJvZHkpLmRlbGVnYXRlKHRoaXMuc2VsZWN0b3IsIG4sIGUpLCB0aGlzIH0sIHQuZm4uZGllID0gZnVuY3Rpb24gKG4sIGUpIHsgcmV0dXJuIHQoZG9jdW1lbnQuYm9keSkudW5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLCBuLCBlKSwgdGhpcyB9LCB0LmZuLm9uID0gZnVuY3Rpb24gKG4sIGUsIHIsIGksIG8pIHsgdmFyIHUsIGMsIHMgPSB0aGlzOyByZXR1cm4gbiAmJiAhbShuKSA/ICh0LmVhY2gobiwgZnVuY3Rpb24gKG4sIHQpIHsgcy5vbihuLCBlLCByLCB0LCBvKSB9KSwgcykgOiAobShlKSB8fCB2KGkpIHx8ICExID09PSBpIHx8IChpID0gciwgciA9IGUsIGUgPSBkKSwgaSAhPT0gZCAmJiAhMSAhPT0gciB8fCAoaSA9IHIsIHIgPSBkKSwgITEgPT09IGkgJiYgKGkgPSBDKSwgcy5lYWNoKGZ1bmN0aW9uIChzLCBkKSB7IG8gJiYgKHUgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gZihkLCBuLnR5cGUsIGkpLCBpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfSksIGUgJiYgKGMgPSBmdW5jdGlvbiAobikgeyB2YXIgciwgbyA9IHQobi50YXJnZXQpLmNsb3Nlc3QoZSwgZCkuZ2V0KDApOyBpZiAobyAmJiBvICE9PSBkKSByZXR1cm4gciA9IHQuZXh0ZW5kKGwobiksIHsgY3VycmVudFRhcmdldDogbywgbGl2ZUZpcmVkOiBkIH0pLCAodSB8fCBpKS5hcHBseShvLCBbcl0uY29uY2F0KHAuY2FsbChhcmd1bWVudHMsIDEpKSkgfSksIGEoZCwgbiwgaSwgciwgZSwgYyB8fCB1KSB9KSkgfSwgdC5mbi5vZmYgPSBmdW5jdGlvbiAobiwgZSwgcikgeyB2YXIgaSA9IHRoaXM7IHJldHVybiBuICYmICFtKG4pID8gKHQuZWFjaChuLCBmdW5jdGlvbiAobiwgdCkgeyBpLm9mZihuLCBlLCB0KSB9KSwgaSkgOiAobShlKSB8fCB2KHIpIHx8ICExID09PSByIHx8IChyID0gZSwgZSA9IGQpLCAhMSA9PT0gciAmJiAociA9IEMpLCBpLmVhY2goZnVuY3Rpb24gKCkgeyBmKHRoaXMsIG4sIHIsIGUpIH0pKSB9LCB0LmZuLnRyaWdnZXIgPSBmdW5jdGlvbiAobiwgZSkgeyByZXR1cm4gbiA9IG0obikgfHwgdC5pc1BsYWluT2JqZWN0KG4pID8gdC5FdmVudChuKSA6IHMobiksIG4uX2FyZ3MgPSBlLCB0aGlzLmVhY2goZnVuY3Rpb24gKCkgeyBuLnR5cGUgaW4geCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHRoaXNbbi50eXBlXSA/IHRoaXNbbi50eXBlXSgpIDogXCJkaXNwYXRjaEV2ZW50XCIgaW4gdGhpcyA/IHRoaXMuZGlzcGF0Y2hFdmVudChuKSA6IHQodGhpcykudHJpZ2dlckhhbmRsZXIobiwgZSkgfSkgfSwgdC5mbi50cmlnZ2VySGFuZGxlciA9IGZ1bmN0aW9uIChuLCBlKSB7IHZhciBpLCBvOyByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh1LCBjKSB7IGkgPSBsKG0obikgPyB0LkV2ZW50KG4pIDogbiksIGkuX2FyZ3MgPSBlLCBpLnRhcmdldCA9IGMsIHQuZWFjaChyKGMsIG4udHlwZSB8fCBuKSwgZnVuY3Rpb24gKG4sIHQpIHsgaWYgKG8gPSB0LnByb3h5KGkpLCBpLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHJldHVybiAhMSB9KSB9KSwgbyB9LCBcImZvY3VzaW4gZm9jdXNvdXQgZm9jdXMgYmx1ciBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvclwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IHQuZm5bbl0gPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gMCBpbiBhcmd1bWVudHMgPyB0aGlzLmJpbmQobiwgdCkgOiB0aGlzLnRyaWdnZXIobikgfSB9KSwgdC5FdmVudCA9IGZ1bmN0aW9uIChuLCB0KSB7IG0obikgfHwgKHQgPSBuLCBuID0gdC50eXBlKTsgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCh5W25dIHx8IFwiRXZlbnRzXCIpLCByID0gITA7IGlmICh0KSBmb3IgKHZhciBpIGluIHQpIFwiYnViYmxlc1wiID09IGkgPyByID0gISF0W2ldIDogZVtpXSA9IHRbaV07IHJldHVybiBlLmluaXRFdmVudChuLCByLCAhMCksIHMoZSkgfVxyXG4gICAgICAgIH0odCksIGZ1bmN0aW9uICgpIHsgdHJ5IHsgZ2V0Q29tcHV0ZWRTdHlsZSh2b2lkIDApIH0gY2F0Y2ggKGUpIHsgdmFyIHQgPSBnZXRDb21wdXRlZFN0eWxlOyBuLmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbiAobiwgZSkgeyB0cnkgeyByZXR1cm4gdChuLCBlKSB9IGNhdGNoIChuKSB7IHJldHVybiBudWxsIH0gfSB9IH0oKSwgZnVuY3Rpb24gKG4pIHsgdmFyIHQgPSBuLnplcHRvLCBlID0gdC5xc2EsIHIgPSAvXlxccyo+LywgaSA9IFwiWmVwdG9cIiArICtuZXcgRGF0ZTsgdC5xc2EgPSBmdW5jdGlvbiAodCwgbykgeyB2YXIgdSwgYywgYSA9IG87IHRyeSB7IGEgPyByLnRlc3QoYSkgJiYgKGMgPSBuKHQpLmFkZENsYXNzKGkpLCBhID0gXCIuXCIgKyBpICsgXCIgXCIgKyBhKSA6IGEgPSBcIipcIiwgdSA9IGUodCwgYSkgfSBjYXRjaCAobikgeyB0aHJvdyBuIH0gZmluYWxseSB7IGMgJiYgYy5yZW1vdmVDbGFzcyhpKSB9IHJldHVybiB1IH0gfSh0KSwgdFxyXG4gICAgfSh3aW5kb3cpLCBycCA9IFwiOmVxKFwiLCBpcCA9IFwiKVwiLCBvcCA9IHJwLmxlbmd0aCwgdXAgPSAvKChcXC58IykoLSk/XFxkezF9KS9nLCBjcCA9IFwiW3RyYWNrRXZlbnQoKV1cIiwgYXAgPSBcIm5hdmlnYXRvclwiLCBmcCA9IFwic2VuZEJlYWNvblwiLCBzcCA9IFwic2VuZEJlYWNvbigpIHJlcXVlc3QgZmFpbGVkXCIsIGxwID0gemQsIGRwID0gZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIG5ldyBscChmdW5jdGlvbiAoZSwgcikgeyBcIm9ubG9hZFwiIGluIHQgPyAodC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7IGUodCkgfSwgdC5vbmVycm9yID0gZnVuY3Rpb24gKCkgeyByKG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIHNjcmlwdCBcIiArIG4pKSB9KSA6IFwicmVhZHlTdGF0ZVwiIGluIHQgJiYgKHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgeyB2YXIgbiA9IHQucmVhZHlTdGF0ZTsgXCJsb2FkZWRcIiAhPT0gbiAmJiBcImNvbXBsZXRlXCIgIT09IG4gfHwgKHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbCwgZSh0KSkgfSkgfSkgfSwgaHAgPSBmdW5jdGlvbiAobikgeyB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7IHQuc3JjID0gbiwgdC5hc3luYyA9ICEwOyB2YXIgZSA9IGRwKG4sIHQpOyByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHQpLCBlIH0sIHBwID0gXCJjbGlja1RyYWNrSWRcIiwgdnAgPSBcIm1ib3hUYXJnZXRcIiwgbXAgPSBcInNjcmlwdCxsaW5rLFwiICsgVGY7IEZvLnByb3RvdHlwZSA9IHsgb246IGZ1bmN0aW9uIChuLCB0LCBlKSB7IHZhciByID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7IHJldHVybiAocltuXSB8fCAocltuXSA9IFtdKSkucHVzaCh7IGZuOiB0LCBjdHg6IGUgfSksIHRoaXMgfSwgb25jZTogZnVuY3Rpb24gKG4sIHQsIGUpIHsgZnVuY3Rpb24gcigpIHsgaS5vZmYobiwgciksIHQuYXBwbHkoZSwgYXJndW1lbnRzKSB9IHZhciBpID0gdGhpczsgcmV0dXJuIHIuXyA9IHQsIHRoaXMub24obiwgciwgZSkgfSwgZW1pdDogZnVuY3Rpb24gKG4pIHsgdmFyIHQgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGUgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuXSB8fCBbXSkuc2xpY2UoKSwgciA9IDAsIGkgPSBlLmxlbmd0aDsgZm9yIChyOyByIDwgaTsgcisrKWVbcl0uZm4uYXBwbHkoZVtyXS5jdHgsIHQpOyByZXR1cm4gdGhpcyB9LCBvZmY6IGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSksIHIgPSBlW25dLCBpID0gW107IGlmIChyICYmIHQpIGZvciAodmFyIG8gPSAwLCB1ID0gci5sZW5ndGg7IG8gPCB1OyBvKyspcltvXS5mbiAhPT0gdCAmJiByW29dLmZuLl8gIT09IHQgJiYgaS5wdXNoKHJbb10pOyByZXR1cm4gaS5sZW5ndGggPyBlW25dID0gaSA6IGRlbGV0ZSBlW25dLCB0aGlzIH0gfTsgdmFyIGdwID0gRm8sIHlwID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IGdwIH0oKSwgYnAgPSBcImF0LVwiLCB4cCA9IFwiYXQtYm9keS1zdHlsZVwiLCBFcCA9IFwiI1wiICsgeHAsIHdwID0gXCJhdC1tYWtlcnMtc3R5bGVcIiwgQ3AgPSB7fSwgU3AgPSBcIm1cIiwgT3AgPSBcImZcIiwgVHAgPSBcInBcIiwga3AgPSB7IGNoaWxkTGlzdDogITAsIHN1YnRyZWU6ICEwIH0sIE5wID0gaGEuTXV0YXRpb25PYnNlcnZlciwgQXAgPSB7fSwganAgPSBudWxsLCBEcCA9IDFlMywgX3AgPSBcInZpc2liaWxpdHlTdGF0ZVwiLCBScCA9IFwidmlzaWJsZVwiLCBQcCA9IHt9LCBJcCA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBuW3ZhXSA9PT0gWWEgfHwgblt2YV0gPT09IFFhIH0sIE1wID0gXCJbYXBwbHlPZmZlcigpXVwiLCBxcCA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiAhYShuW19hXSkgfSwgTHAgPSBcImFkb2JlXCIsIFVwID0gXCJ0YXJnZXRcIiwgRnAgPSBcImV4dFwiLCAkcCA9IEooZnVuY3Rpb24gKG4sIHQpIHsgIWZ1bmN0aW9uIChlLCByKSB7IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgVGMgJiYgVGMuYW1kID8gVGMoW10sIHIpIDogXCJvYmplY3RcIiA9PT0gKHZvaWQgMCA9PT0gdCA/IFwidW5kZWZpbmVkXCIgOiBGYyh0KSkgPyBuLmV4cG9ydHMgPSByKCkgOiBlLmN1cnJlbnRFeGVjdXRpbmdTY3JpcHQgPSByKCkgfShkZCB8fCB3aW5kb3csIGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gbihuLCB0KSB7IHZhciBlLCByID0gbnVsbDsgaWYgKHQgPSB0IHx8IGYsIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4gJiYgbikgZm9yIChlID0gdC5sZW5ndGg7IGUtLTspaWYgKHRbZV0uc3JjID09PSBuKSB7IHIgPSB0W2VdOyBicmVhayB9IHJldHVybiByIH0gZnVuY3Rpb24gdChuKSB7IHZhciB0LCBlLCByID0gbnVsbDsgZm9yIChuID0gbiB8fCBmLCB0ID0gMCwgZSA9IG4ubGVuZ3RoOyB0IDwgZTsgdCsrKWlmICghblt0XS5oYXNBdHRyaWJ1dGUoXCJzcmNcIikpIHsgaWYgKHIpIHsgciA9IG51bGw7IGJyZWFrIH0gciA9IG5bdF0gfSByZXR1cm4gciB9IGZ1bmN0aW9uIGUobiwgdCkgeyB2YXIgciwgaSwgbyA9IG51bGwsIHUgPSBcIm51bWJlclwiID09IHR5cGVvZiB0OyByZXR1cm4gdCA9IHUgPyBNYXRoLnJvdW5kKHQpIDogMCwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgbiAmJiBuICYmICh1ID8gciA9IG4ubWF0Y2goLyhkYXRhOnRleHRcXC9qYXZhc2NyaXB0KD86O1teLF0rKT8sLis/fCg/OnxibG9iOikoPzpodHRwW3NdP3xmaWxlKTpcXC9cXC9bXFwvXT8uKz9cXC9bXjpcXCldKj8pKD86OlxcZCspKD86OlxcZCspPy8pIDogKHIgPSBuLm1hdGNoKC9eKD86fFteOkBdKkB8LitcXClAKD89ZGF0YTp0ZXh0XFwvamF2YXNjcmlwdHxibG9ifGh0dHBbc10/fGZpbGUpfC4rP1xccysoPzogYXQgfEApKD86W146XFwoXSsgKSpbXFwoXT8pKGRhdGE6dGV4dFxcL2phdmFzY3JpcHQoPzo7W14sXSspPywuKz98KD86fGJsb2I6KSg/Omh0dHBbc10/fGZpbGUpOlxcL1xcL1tcXC9dPy4rP1xcL1teOlxcKV0qPykoPzo6XFxkKykoPzo6XFxkKyk/LykpICYmIHJbMV0gfHwgKHIgPSBuLm1hdGNoKC9cXClAKGRhdGE6dGV4dFxcL2phdmFzY3JpcHQoPzo7W14sXSspPywuKz98KD86fGJsb2I6KSg/Omh0dHBbc10/fGZpbGUpOlxcL1xcL1tcXC9dPy4rP1xcL1teOlxcKV0qPykoPzo6XFxkKykoPzo6XFxkKyk/LykpLCByICYmIHJbMV0gJiYgKHQgPiAwID8gKGkgPSBuLnNsaWNlKG4uaW5kZXhPZihyWzBdKSArIHJbMF0ubGVuZ3RoKSwgbyA9IGUoaSwgdCAtIDEpKSA6IG8gPSByWzFdKSksIG8gfSBmdW5jdGlvbiByKCkgeyByZXR1cm4gbnVsbCB9IGZ1bmN0aW9uIGkoKSB7IHJldHVybiBudWxsIH0gZnVuY3Rpb24gbygpIHsgaWYgKDAgPT09IGYubGVuZ3RoKSByZXR1cm4gbnVsbDsgdmFyIHIsIGksIGMsIHYsIG0sIGcgPSBbXSwgeSA9IG8uc2tpcFN0YWNrRGVwdGggfHwgMTsgZm9yIChyID0gMDsgciA8IGYubGVuZ3RoOyByKyspbCAmJiBzID8gdS50ZXN0KGZbcl0ucmVhZHlTdGF0ZSkgJiYgZy5wdXNoKGZbcl0pIDogZy5wdXNoKGZbcl0pOyBpZiAoaSA9IG5ldyBFcnJvciwgaCAmJiAoYyA9IGkuc3RhY2spLCAhYyAmJiBwKSB0cnkgeyB0aHJvdyBpIH0gY2F0Y2ggKG4pIHsgYyA9IG4uc3RhY2sgfSBpZiAoYyAmJiAodiA9IGUoYywgeSksICEobSA9IG4odiwgZykpICYmIGEgJiYgdiA9PT0gYSAmJiAobSA9IHQoZykpKSwgbSB8fCAxID09PSBnLmxlbmd0aCAmJiAobSA9IGdbMF0pLCBtIHx8IGQgJiYgKG0gPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSwgIW0gJiYgbCAmJiBzKSBmb3IgKHIgPSBnLmxlbmd0aDsgci0tOylpZiAoXCJpbnRlcmFjdGl2ZVwiID09PSBnW3JdLnJlYWR5U3RhdGUpIHsgbSA9IGdbcl07IGJyZWFrIH0gcmV0dXJuIG0gfHwgKG0gPSBnW2cubGVuZ3RoIC0gMV0gfHwgbnVsbCksIG0gfSB2YXIgdSA9IC9eKGludGVyYWN0aXZlfGxvYWRlZHxjb21wbGV0ZSkkLywgYyA9IHdpbmRvdy5sb2NhdGlvbiA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogbnVsbCwgYSA9IGMgPyBjLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKSB8fCBudWxsIDogbnVsbCwgZiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLCBzID0gXCJyZWFkeVN0YXRlXCIgaW4gKGZbMF0gfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSksIGwgPSAhd2luZG93Lm9wZXJhIHx8IFwiW29iamVjdCBPcGVyYV1cIiAhPT0gd2luZG93Lm9wZXJhLnRvU3RyaW5nKCksIGQgPSBcImN1cnJlbnRTY3JpcHRcIiBpbiBkb2N1bWVudDsgXCJzdGFja1RyYWNlTGltaXRcIiBpbiBFcnJvciAmJiBFcnJvci5zdGFja1RyYWNlTGltaXQgIT09IDEgLyAwICYmIChFcnJvci5zdGFja1RyYWNlTGltaXQgPSAxIC8gMCk7IHZhciBoID0gITEsIHAgPSAhMTsgIWZ1bmN0aW9uICgpIHsgdHJ5IHsgdmFyIG4gPSBuZXcgRXJyb3I7IHRocm93IGggPSBcInN0cmluZ1wiID09IHR5cGVvZiBuLnN0YWNrICYmICEhbi5zdGFjaywgbiB9IGNhdGNoIChuKSB7IHAgPSBcInN0cmluZ1wiID09IHR5cGVvZiBuLnN0YWNrICYmICEhbi5zdGFjayB9IH0oKSwgby5za2lwU3RhY2tEZXB0aCA9IDE7IHZhciB2ID0gbzsgcmV0dXJuIHYubmVhciA9IG8sIHYuZmFyID0gciwgdi5vcmlnaW4gPSBpLCB2IH0pIH0pLCBCcCA9IFwiW21ib3hDcmVhdGUoKV1cIiwgSHAgPSBcIlttYm94RGVmaW5lKCldXCIsIFZwID0gXCJbbWJveFVwZGF0ZSgpXVwiLCB6cCA9IFwiVW5hYmxlIHRvIGxvYWQgdGFyZ2V0LXZlYy5qc1wiLCBacCA9IFwiTG9hZGluZyB0YXJnZXQtdmVjLmpzXCIsIEdwID0gXCJfQVRcIiwgS3AgPSBcImNsaWNrSGFuZGxlckZvckV4cGVyaWVuY2VFZGl0b3JcIiwgSnAgPSBcIltnbG9iYWwgbWJveF1cIiwgV3AgPSBcImF1dG8tY3JlYXRlIGRpc2FibGVkXCI7IHJldHVybiB7IGluaXQ6IE9jIH1cclxufSgpLCB3aW5kb3cuYWRvYmUudGFyZ2V0LmluaXQod2luZG93LCBkb2N1bWVudCwgeyBcImNsaWVudENvZGVcIjogXCJzdW50cnVzdFwiLCBcImltc09yZ0lkXCI6IFwiQUE3QTNCQzc1MjQ1QjNCQzBBNDkwRDREQEFkb2JlT3JnXCIsIFwic2VydmVyRG9tYWluXCI6IFwic3VudHJ1c3QudHQub210cmRjLm5ldFwiLCBcImNyb3NzRG9tYWluXCI6IFwiZGlzYWJsZWRcIiwgXCJ0aW1lb3V0XCI6IDUwMDAsIFwiZ2xvYmFsTWJveE5hbWVcIjogXCJ0YXJnZXQtZ2xvYmFsLW1ib3hcIiwgXCJnbG9iYWxNYm94QXV0b0NyZWF0ZVwiOiB0cnVlLCBcInZlcnNpb25cIjogXCIxLjYuM1wiLCBcImRlZmF1bHRDb250ZW50SGlkZGVuU3R5bGVcIjogXCJ2aXNpYmlsaXR5OmhpZGRlbjtcIiwgXCJkZWZhdWx0Q29udGVudFZpc2libGVTdHlsZVwiOiBcInZpc2liaWxpdHk6dmlzaWJsZTtcIiwgXCJib2R5SGlkZGVuU3R5bGVcIjogXCJib2R5e29wYWNpdHk6MCFpbXBvcnRhbnR9XCIsIFwiYm9keUhpZGluZ0VuYWJsZWRcIjogdHJ1ZSwgXCJkZXZpY2VJZExpZmV0aW1lXCI6IDYzMjQ0ODAwMDAwLCBcInNlc3Npb25JZExpZmV0aW1lXCI6IDE4NjAwMDAsIFwic2VsZWN0b3JzUG9sbGluZ1RpbWVvdXRcIjogNTAwMCwgXCJ2aXNpdG9yQXBpVGltZW91dFwiOiAyMDAwLCBcIm92ZXJyaWRlTWJveEVkZ2VTZXJ2ZXJcIjogdHJ1ZSwgXCJvdmVycmlkZU1ib3hFZGdlU2VydmVyVGltZW91dFwiOiAxODYwMDAwLCBcIm9wdG91dEVuYWJsZWRcIjogZmFsc2UsIFwic2VjdXJlT25seVwiOiBmYWxzZSwgXCJzdXBwbGVtZW50YWxEYXRhSWRQYXJhbVRpbWVvdXRcIjogMzAsIFwiYXV0aG9yaW5nU2NyaXB0VXJsXCI6IFwiLy9jZG4udHQub210cmRjLm5ldC9jZG4vdGFyZ2V0LXZlYy5qc1wiLCBcInVybFNpemVMaW1pdFwiOiAyMDQ4IH0pO1xyXG4vL05vIGN1c3RvbSBKYXZhU2NyaXB0Il19
