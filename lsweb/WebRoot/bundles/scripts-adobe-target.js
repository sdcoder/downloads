!function e(t, i, n) { function r(s, o) { if (!i[s]) { if (!t[s]) { var l = "function" == typeof require && require; if (!o && l) return l(s, !0); if (a) return a(s, !0); var u = new Error("Cannot find module '" + s + "'"); throw u.code = "MODULE_NOT_FOUND", u } var c = i[s] = { exports: {} }; t[s][0].call(c.exports, function (e) { var i = t[s][1][e]; return r(i || e) }, c, c.exports, e, t, i, n) } return i[s].exports } for (var a = "function" == typeof require && require, s = 0; s < n.length; s++)r(n[s]); return r }({
    1: [function (e, t, i) { (function (i) { e("./utils/polyfills"); var n = e("./strategies/LocalVisitor"), r = e("./strategies/ProxyVisitor"), a = e("./strategies/PlaceholderVisitor"), s = e("./utils/callbackRegistryFactory"), o = e("./Message"), l = e("./enums"), u = l.MESSAGES; t.exports = function (e, t, l, c) { function d(e) { Object.assign(I, e) } function f(e) { Object.assign(I.state, e), I.callbackRegistry.executeAll(I.state) } function g(e) { if (!A.isInvalid(e)) { v = !1; var t = A.parse(e); I.setStateAndPublish(t.state) } } function _(e) { !v && C && (v = !0, A.send(c, e)) } function m() { d(new n(l._generateID)), I.getMarketingCloudVisitorID(), I.callbackRegistry.executeAll(I.state, !0), i.removeEventListener("message", p) } function p(e) { if (!A.isInvalid(e)) { var t = A.parse(e); v = !1, i.clearTimeout(this.timeout), i.removeEventListener("message", p), d(new r(I)), i.addEventListener("message", g), I.setStateAndPublish(t.state), I.callbackRegistry.hasCallbacks() && _(u.GETSTATE) } } function h() { C && postMessage ? (i.addEventListener("message", p), _(u.HANDSHAKE), this.timeout = setTimeout(m, 250)) : m() } function S() { i.s_c_in || (i.s_c_il = [], i.s_c_in = 0), I._c = "Visitor", I._il = i.s_c_il, I._in = i.s_c_in, I._il[I._in] = I, i.s_c_in++ } function D() { function e(e) { 0 !== e.indexOf("_") && "function" == typeof l[e] && (I[e] = function () { }) } Object.keys(l).forEach(e), I.getSupplementalDataID = l.getSupplementalDataID } var I = this, C = t.whitelistParentDomain; I.state = {}, I.version = l.version, I.marketingCloudOrgID = e; var v = !1, A = new o(e, C); I.callbackRegistry = s(), I.findField = function (e, t) { if (I.state[e]) return t(I.state[e]), I.state[e] }, I.messageParent = _, I.setStateAndPublish = f, function () { S(), D(), d(new a(I)), h() }() } }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, { "./Message": 2, "./enums": 4, "./strategies/LocalVisitor": 5, "./strategies/PlaceholderVisitor": 6, "./strategies/ProxyVisitor": 7, "./utils/callbackRegistryFactory": 8, "./utils/polyfills": 10 }], 2: [function (e, t, i) { var n = e("./enums"), r = n.MESSAGES, a = { 0: "prefix", 1: "orgID", 2: "state" }; t.exports = function (e, t) { this.parse = function (e) { try { var t = {}; return e.data.split("|").forEach(function (e, i) { if (void 0 !== e) { t[a[i]] = 2 !== i ? e : JSON.parse(e) } }), t } catch (e) { } }, this.isInvalid = function (i) { var n = this.parse(i); if (!n || Object.keys(n).length < 2) return !0; var a = e !== n.orgID, s = !t || i.origin !== t, o = -1 === Object.keys(r).indexOf(n.prefix); return a || s || o }, this.send = function (i, n, r) { var a = n + "|" + e; r && r === Object(r) && (a += "|" + JSON.stringify(r)); try { i.postMessage(a, t) } catch (e) { } } } }, { "./enums": 4 }], 3: [function (e, t, i) {
        (function (i) {
            function n() { function e() { o.windowLoaded = !0 } i.addEventListener ? i.addEventListener("load", e) : i.attachEvent && i.attachEvent("onload", e), o.codeLoadEnd = (new Date).getTime() }/** @license ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

Adobe Visitor API for JavaScript version: 2.3.0
Copyright 1996-2015 Adobe, Inc. All Rights Reserved
More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
*/
            var r = e("./ChildVisitor"), a = e("./Message"), s = e("./utils/makeChildMessageListener"), o = function (e, t) {
                function n(e) { function t(e, t) { e && e.match(p.VALID_VISITOR_ID_REGEX) && t(e) } t(e[D], f.setMarketingCloudVisitorID), f._setFieldExpire(k, -1), t(e[E], f.setAnalyticsVisitorID) } function r(e) { e = e || {}, f._supplementalDataIDCurrent = e.supplementalDataIDCurrent || "", f._supplementalDataIDCurrentConsumed = e.supplementalDataIDCurrentConsumed || {}, f._supplementalDataIDLast = e.supplementalDataIDLast || "", f._supplementalDataIDLastConsumed = e.supplementalDataIDLastConsumed || {} } function o(e) { for (var t = "", i = 0, n = e.length; i < n; i++) { var r = e[i], a = r[0], s = r[1]; null != s && s !== L && (t = function (e, t, i) { return i = i ? i += "|" : i, i += e + "=" + encodeURIComponent(t) }(a, s, t)) } return function (e) { var t = P.getTimestampInSeconds(); return e = e ? e += "|" : e, e += "TS=" + t }(t) } function l(e) { var t = e.minutesToLive, i = ""; return f.idSyncDisableSyncs && (i = i || "Error: id syncs have been disabled"), "string" == typeof e.dpid && e.dpid.length || (i = i || "Error: config.dpid is empty"), "string" == typeof e.url && e.url.length || (i = i || "Error: config.url is empty"), void 0 === t ? t = 20160 : (t = parseInt(t, 10), (isNaN(t) || t <= 0) && (i = i || "Error: config.minutesToLive needs to be a positive number")), { error: i, ttl: t } } function u(e) { for (var t = 0, i = e.length; t < i; t++)if (!p.POSITIVE_INT_REGEX.test(e[t])) return !1; return !0 } function c(e, t) { for (; e.length < t.length;)e.push("0"); for (; t.length < e.length;)t.push("0") } function d(e, t) { for (var i = 0; i < e.length; i++) { var n = parseInt(e[i], 10), r = parseInt(t[i], 10); if (n > r) return 1; if (r > n) return -1 } return 0 } if (!e) throw new Error("Visitor requires Adobe Marketing Cloud Org ID"); var f = this; f.version = "2.3.0"; var g = i, _ = g.Visitor; _.version = f.version, g.s_c_in || (g.s_c_il = [], g.s_c_in = 0), f._c = "Visitor", f._il = g.s_c_il, f._in = g.s_c_in, f._il[f._in] = f, g.s_c_in++ , f._log = { requests: [] }; var m = g.document, p = { POST_MESSAGE_ENABLED: !!g.postMessage, DAYS_BETWEEN_SYNC_ID_CALLS: 1, MILLIS_PER_DAY: 864e5, ADOBE_MC: "adobe_mc", ADOBE_MC_SDID: "adobe_mc_sdid", VALID_VISITOR_ID_REGEX: /^[0-9a-fA-F\-]+$/, ADOBE_MC_TTL_IN_MIN: 5, POSITIVE_INT_REGEX: /^\d+$/, VERSION_REGEX: /vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/, HAS_JSON_STRINGIFY: window.JSON === Object(window.JSON) && "function" == typeof window.JSON.stringify }, h = function (e) { return !Object.prototype[e] }; f._hash = function (e) { var t, i, n = 0; if (e) for (t = 0; t < e.length; t++)i = e.charCodeAt(t), n = (n << 5) - n + i, n &= n; return n }, f._generateID = function (e, t) { var i, n, r = "0123456789", a = "", s = "", o = 8, l = 10, u = 10; if (t === D && (N.isClientSideMarketingCloudVisitorID = !0), 1 === e) { for (r += "ABCDEF", i = 0; i < 16; i++)n = Math.floor(Math.random() * o), a += r.substring(n, n + 1), n = Math.floor(Math.random() * o), s += r.substring(n, n + 1), o = 16; return a + "-" + s } for (i = 0; i < 19; i++)n = Math.floor(Math.random() * l), a += r.substring(n, n + 1), 0 === i && 9 === n ? l = 3 : (1 === i || 2 === i) && 10 !== l && n < 2 ? l = 10 : i > 2 && (l = 10), n = Math.floor(Math.random() * u), s += r.substring(n, n + 1), 0 === i && 9 === n ? u = 3 : (1 === i || 2 === i) && 10 !== u && n < 2 ? u = 10 : i > 2 && (u = 10); return a + s }, f._getDomain = function (e) { var t; if (!e && g.location && (e = g.location.hostname), t = e) if (/^[0-9.]+$/.test(t)) t = ""; else { var i = ",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,", n = t.split("."), r = n.length - 1, a = r - 1; if (r > 1 && n[r].length <= 2 && (2 === n[r - 1].length || i.indexOf("," + n[r] + ",") < 0) && a-- , a > 0) for (t = ""; r >= a;)t = n[r] + (t ? "." : "") + t, r-- } return t }, f.cookieRead = function (e) { e = encodeURIComponent(e); var t = (";" + m.cookie).split(" ").join(";"), i = t.indexOf(";" + e + "="), n = i < 0 ? i : t.indexOf(";", i + 1); return i < 0 ? "" : decodeURIComponent(t.substring(i + 2 + e.length, n < 0 ? t.length : n)) }, f.cookieWrite = function (e, t, i) { var n, r = f.cookieLifetime; if (t = "" + t, r = r ? ("" + r).toUpperCase() : "", i && "SESSION" !== r && "NONE" !== r) { if (n = "" !== t ? parseInt(r || 0, 10) : -60) i = new Date, i.setTime(i.getTime() + 1e3 * n); else if (1 === i) { i = new Date; var a = i.getYear(); i.setYear(a + 2 + (a < 1900 ? 1900 : 0)) } } else i = 0; return e && "NONE" !== r ? (m.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; path=/;" + (i ? " expires=" + i.toGMTString() + ";" : "") + (f.cookieDomain ? " domain=" + f.cookieDomain + ";" : ""), f.cookieRead(e) === t) : 0 }, f._callbackList = null, f._callCallback = function (e, t) { try { "function" == typeof e ? e.apply(g, t) : e[1].apply(e[0], t) } catch (e) { } }, f._registerCallback = function (e, t) { t && (null == f._callbackList && (f._callbackList = {}), void 0 == f._callbackList[e] && (f._callbackList[e] = []), f._callbackList[e].push(t)) }, f._callAllCallbacks = function (e, t) { if (null != f._callbackList) { var i = f._callbackList[e]; if (i) for (; i.length > 0;)f._callCallback(i.shift(), t) } }, f._addQuerystringParam = function (e, t, i, n) { var r = encodeURIComponent(t) + "=" + encodeURIComponent(i), a = P.parseHash(e), s = P.hashlessUrl(e); if (-1 === s.indexOf("?")) return s + "?" + r + a; var o = s.split("?"), l = o[0] + "?", u = o[1]; return l + P.addQueryParamAtLocation(u, r, n) + a }, f._extractParamFromUri = function (e, t) { var i = new RegExp("[\\?&#]" + t + "=([^&#]*)"), n = i.exec(e); if (n && n.length) return decodeURIComponent(n[1]) }, f._parseAdobeMcFromUrl = function (e) { var t = e || g.location.href; try { var i = f._extractParamFromUri(t, p.ADOBE_MC); if (i) return P.parsePipeDelimetedKeyValues(i) } catch (e) { } }, f._parseAdobeMcSdidFromUrl = function (e) { var t = e || g.location.href; try { var i = f._extractParamFromUri(t, p.ADOBE_MC_SDID); if (i) return P.parsePipeDelimetedKeyValues(i) } catch (e) { } }, f._attemptToPopulateSdidFromUrl = function (t) { var i = f._parseAdobeMcSdidFromUrl(t), n = 1e9; i && i.TS && (n = P.getTimestampInSeconds() - i.TS), i && i.SDID && i[I] === e && n < f.sdidParamExpiry && (f._supplementalDataIDCurrent = i.SDID, f._supplementalDataIDCurrentConsumed.SDID_URL_PARAM = !0) }, f._attemptToPopulateIdsFromUrl = function () { var t = f._parseAdobeMcFromUrl(); if (t && t.TS) { var i = P.getTimestampInSeconds(), r = i - t.TS; if (Math.floor(r / 60) > p.ADOBE_MC_TTL_IN_MIN || t[I] !== e) return; n(t) } }, f.resetState = function (e) { e ? f._mergeServerState(e) : r() }, f._mergeServerState = function (e) { if (e) try { if (e = function (e) { return P.isObject(e) ? e : P.parseJSON(e) }(e), e[f.marketingCloudOrgID]) { var t = e[f.marketingCloudOrgID]; !function (e) { P.isObject(e) && f.setCustomerIDs(e) }(t.customerIDs), r(t.sdid) } } catch (e) { throw new Error("`serverState` has an invalid format.") } }, f._timeout = null, f._loadData = function (e, t, i, n) { t = f._addQuerystringParam(t, "d_fieldgroup", e, 1), n.url = f._addQuerystringParam(n.url, "d_fieldgroup", e, 1), n.corsUrl = f._addQuerystringParam(n.corsUrl, "d_fieldgroup", e, 1), N.fieldGroupObj[e] = !0, n === Object(n) && n.corsUrl && "XMLHttpRequest" === f._requestProcs.corsMetadata.corsType ? f._requestProcs.fireCORS(n, i, e) : f.useCORSOnly || f._loadJSONP(e, t, i) }, f._loadJSONP = function (e, t, i) { var n, r = 0, a = 0; if (t && m) { for (n = 0; !r && n < 2;) { try { r = m.getElementsByTagName(n > 0 ? "HEAD" : "head"), r = r && r.length > 0 ? r[0] : 0 } catch (e) { r = 0 } n++ } if (!r) try { m.body && (r = m.body) } catch (e) { r = 0 } if (r) for (n = 0; !a && n < 2;) { try { a = m.createElement(n > 0 ? "SCRIPT" : "script") } catch (e) { a = 0 } n++ } } if (!t || !r || !a) return void (i && i()); a.type = "text/javascript", a.src = t, r.firstChild ? r.insertBefore(a, r.firstChild) : r.appendChild(a); var s = f.loadTimeout; i && (null == f._timeout && (f._timeout = {}), f._timeout[e] = setTimeout(function () { i(!0) }, s)), f._log.requests.push(t) }, f._clearTimeout = function (e) { null != f._timeout && f._timeout[e] && (clearTimeout(f._timeout[e]), f._timeout[e] = 0) }, f._isAllowedDone = !1, f._isAllowedFlag = !1, f.isAllowed = function () { return f._isAllowedDone || (f._isAllowedDone = !0, (f.cookieRead(f.cookieName) || f.cookieWrite(f.cookieName, "T", 1)) && (f._isAllowedFlag = !0)), f._isAllowedFlag }, f._fields = null, f._fieldsExpired = null; var S = "MC", D = "MCMID", I = "MCORGID", C = "MCCIDH", v = "MCSYNCS", A = "MCSYNCSOP", y = "MCIDTS", M = "MCOPTOUT", b = "A", E = "MCAID", O = "AAM", T = "MCAAMLH", k = "MCAAMB", L = "NONE"; f._settingsDigest = 0, f._getSettingsDigest = function () { if (!f._settingsDigest) { var e = f.version; f.audienceManagerServer && (e += "|" + f.audienceManagerServer), f.audienceManagerServerSecure && (e += "|" + f.audienceManagerServerSecure), f._settingsDigest = f._hash(e) } return f._settingsDigest }, f._readVisitorDone = !1, f._readVisitor = function () { if (!f._readVisitorDone) { f._readVisitorDone = !0; var e, t, i, n, r, a, s = f._getSettingsDigest(), o = !1, l = f.cookieRead(f.cookieName), u = new Date; if (null == f._fields && (f._fields = {}), l && "T" !== l) for (l = l.split("|"), l[0].match(/^[\-0-9]+$/) && (parseInt(l[0], 10) !== s && (o = !0), l.shift()), l.length % 2 == 1 && l.pop(), e = 0; e < l.length; e += 2)t = l[e].split("-"), i = t[0], n = l[e + 1], t.length > 1 ? (r = parseInt(t[1], 10), a = t[1].indexOf("s") > 0) : (r = 0, a = !1), o && (i === C && (n = ""), r > 0 && (r = u.getTime() / 1e3 - 60)), i && n && (f._setField(i, n, 1), r > 0 && (f._fields["expire" + i] = r + (a ? "s" : ""), (u.getTime() >= 1e3 * r || a && !f.cookieRead(f.sessionCookieName)) && (f._fieldsExpired || (f._fieldsExpired = {}), f._fieldsExpired[i] = !0))); !f._getField(E) && P.isTrackingServerPopulated() && (l = f.cookieRead("s_vi")) && (l = l.split("|"), l.length > 1 && l[0].indexOf("v1") >= 0 && (n = l[1], e = n.indexOf("["), e >= 0 && (n = n.substring(0, e)), n && n.match(p.VALID_VISITOR_ID_REGEX) && f._setField(E, n))) } }, f._appendVersionTo = function (e) { var t = "vVersion|" + f.version, i = e ? f._getCookieVersion(e) : null; return i ? P.areVersionsDifferent(i, f.version) && (e = e.replace(p.VERSION_REGEX, t)) : e += (e ? "|" : "") + t, e }, f._writeVisitor = function () { var e, t, i = f._getSettingsDigest(); for (e in f._fields) h(e) && f._fields[e] && "expire" !== e.substring(0, 6) && (t = f._fields[e], i += (i ? "|" : "") + e + (f._fields["expire" + e] ? "-" + f._fields["expire" + e] : "") + "|" + t); i = f._appendVersionTo(i), f.cookieWrite(f.cookieName, i, 1) }, f._getField = function (e, t) { return null == f._fields || !t && f._fieldsExpired && f._fieldsExpired[e] ? null : f._fields[e] }, f._setField = function (e, t, i) { null == f._fields && (f._fields = {}), f._fields[e] = t, i || f._writeVisitor() }, f._getFieldList = function (e, t) { var i = f._getField(e, t); return i ? i.split("*") : null }, f._setFieldList = function (e, t, i) { f._setField(e, t ? t.join("*") : "", i) }, f._getFieldMap = function (e, t) { var i = f._getFieldList(e, t); if (i) { var n, r = {}; for (n = 0; n < i.length; n += 2)r[i[n]] = i[n + 1]; return r } return null }, f._setFieldMap = function (e, t, i) { var n, r = null; if (t) { r = []; for (n in t) h(n) && (r.push(n), r.push(t[n])) } f._setFieldList(e, r, i) }, f._setFieldExpire = function (e, t, i) { var n = new Date; n.setTime(n.getTime() + 1e3 * t), null == f._fields && (f._fields = {}), f._fields["expire" + e] = Math.floor(n.getTime() / 1e3) + (i ? "s" : ""), t < 0 ? (f._fieldsExpired || (f._fieldsExpired = {}), f._fieldsExpired[e] = !0) : f._fieldsExpired && (f._fieldsExpired[e] = !1), i && (f.cookieRead(f.sessionCookieName) || f.cookieWrite(f.sessionCookieName, "1")) }, f._findVisitorID = function (e) { return e && ("object" == typeof e && (e = e.d_mid ? e.d_mid : e.visitorID ? e.visitorID : e.id ? e.id : e.uuid ? e.uuid : "" + e), e && "NOTARGET" === (e = e.toUpperCase()) && (e = L), e && (e === L || e.match(p.VALID_VISITOR_ID_REGEX)) || (e = "")), e }, f._setFields = function (e, t) { if (f._clearTimeout(e), null != f._loading && (f._loading[e] = !1), N.fieldGroupObj[e] && N.setState(e, !1), e === S) { !0 !== N.isClientSideMarketingCloudVisitorID && (N.isClientSideMarketingCloudVisitorID = !1); var i = f._getField(D); if (!i || f.overwriteCrossDomainMCIDAndAID) { if (!(i = "object" == typeof t && t.mid ? t.mid : f._findVisitorID(t))) { if (f._use1stPartyMarketingCloudServer && !f.tried1stPartyMarketingCloudServer) return f.tried1stPartyMarketingCloudServer = !0, void f.getAnalyticsVisitorID(null, !1, !0); i = f._generateID(0, D) } f._setField(D, i) } i && i !== L || (i = ""), "object" == typeof t && ((t.d_region || t.dcs_region || t.d_blob || t.blob) && f._setFields(O, t), f._use1stPartyMarketingCloudServer && t.mid && f._setFields(b, { id: t.id })), f._callAllCallbacks(D, [i]) } if (e === O && "object" == typeof t) { var n = 604800; void 0 != t.id_sync_ttl && t.id_sync_ttl && (n = parseInt(t.id_sync_ttl, 10)); var r = f._getField(T); r || (r = t.d_region, r || (r = t.dcs_region), r && (f._setFieldExpire(T, n), f._setField(T, r))), r || (r = ""), f._callAllCallbacks(T, [r]); var a = f._getField(k); (t.d_blob || t.blob) && (a = t.d_blob, a || (a = t.blob), f._setFieldExpire(k, n), f._setField(k, a)), a || (a = ""), f._callAllCallbacks(k, [a]), !t.error_msg && f._newCustomerIDsHash && f._setField(C, f._newCustomerIDsHash) } if (e === b) { var s = f._getField(E); s && !f.overwriteCrossDomainMCIDAndAID || (s = f._findVisitorID(t), s ? s !== L && f._setFieldExpire(k, -1) : s = L, f._setField(E, s)), s && s !== L || (s = ""), f._callAllCallbacks(E, [s]) } if (f.idSyncDisableSyncs) w.idCallNotProcesssed = !0; else { w.idCallNotProcesssed = !1; var o = {}; o.ibs = t.ibs, o.subdomain = t.subdomain, w.processIDCallData(o) } if (t === Object(t)) { var l, u; f.isAllowed() && (l = f._getField(M)), l || (l = L, t.d_optout && t.d_optout instanceof Array && (l = t.d_optout.join(",")), u = parseInt(t.d_ottl, 10), isNaN(u) && (u = 7200), f._setFieldExpire(M, u, !0), f._setField(M, l)), f._callAllCallbacks(M, [l]) } }, f._loading = null, f._getRemoteField = function (e, t, i, n, r) { var a, s = "", o = P.isFirstPartyAnalyticsVisitorIDCall(e); if (f.isAllowed()) { f._readVisitor(), s = f._getField(e, !0 === x[e]); if (function () { return (!s || f._fieldsExpired && f._fieldsExpired[e]) && (!f.disableThirdPartyCalls || o) }()) { if (e === D || e === M ? a = S : e === T || e === k ? a = O : e === E && (a = b), a) return !t || null != f._loading && f._loading[a] || (null == f._loading && (f._loading = {}), f._loading[a] = !0, f._loadData(a, t, function (t) { if (!f._getField(e)) { t && N.setState(a, !0); var i = ""; e === D ? i = f._generateID(0, D) : a === O && (i = { error_msg: "timeout" }), f._setFields(a, i) } }, r)), f._registerCallback(e, i), s || (t || f._setFields(a, { id: L }), "") } else s || (e === D ? (f._registerCallback(e, i), s = f._generateID(0, D), f.setMarketingCloudVisitorID(s)) : e === E ? (f._registerCallback(e, i), s = "", f.setAnalyticsVisitorID(s)) : (s = "", n = !0)) } return e !== D && e !== E || s !== L || (s = "", n = !0), i && n && f._callCallback(i, [s]), s }, f._setMarketingCloudFields = function (e) { f._readVisitor(), f._setFields(S, e) }, f.setMarketingCloudVisitorID = function (e) { f._setMarketingCloudFields(e) }, f._use1stPartyMarketingCloudServer = !1, f.getMarketingCloudVisitorID = function (e, t) { if (f.isAllowed()) { f.marketingCloudServer && f.marketingCloudServer.indexOf(".demdex.net") < 0 && (f._use1stPartyMarketingCloudServer = !0); var i = f._getAudienceManagerURLData("_setMarketingCloudFields"), n = i.url; return f._getRemoteField(D, n, e, t, i) } return "" }, f._mapCustomerIDs = function (e) { f.getAudienceManagerBlob(e, !0) }, _.AuthState = { UNKNOWN: 0, AUTHENTICATED: 1, LOGGED_OUT: 2 }, f._currentCustomerIDs = {}, f._customerIDsHashChanged = !1, f._newCustomerIDsHash = "", f.setCustomerIDs = function (e) { function t() { f._customerIDsHashChanged = !1 } if (f.isAllowed() && e) { f._readVisitor(); var i, n; for (i in e) if (h(i) && (n = e[i])) if ("object" == typeof n) { var r = {}; n.id && (r.id = n.id), void 0 != n.authState && (r.authState = n.authState), f._currentCustomerIDs[i] = r } else f._currentCustomerIDs[i] = { id: n }; var a = f.getCustomerIDs(), s = f._getField(C), o = ""; s || (s = 0); for (i in a) h(i) && (n = a[i], o += (o ? "|" : "") + i + "|" + (n.id ? n.id : "") + (n.authState ? n.authState : "")); f._newCustomerIDsHash = f._hash(o), f._newCustomerIDsHash !== s && (f._customerIDsHashChanged = !0, f._mapCustomerIDs(t)) } }, f.getCustomerIDs = function () { f._readVisitor(); var e, t, i = {}; for (e in f._currentCustomerIDs) h(e) && (t = f._currentCustomerIDs[e], i[e] || (i[e] = {}), t.id && (i[e].id = t.id), void 0 != t.authState ? i[e].authState = t.authState : i[e].authState = _.AuthState.UNKNOWN); return i }, f._setAnalyticsFields = function (e) { f._readVisitor(), f._setFields(b, e) }, f.setAnalyticsVisitorID = function (e) { f._setAnalyticsFields(e) }, f.getAnalyticsVisitorID = function (e, t, i) { if (!P.isTrackingServerPopulated() && !i) return f._callCallback(e, [""]), ""; if (f.isAllowed()) { var n = ""; if (i || (n = f.getMarketingCloudVisitorID(function (t) { f.getAnalyticsVisitorID(e, !0) })), n || i) { var r = i ? f.marketingCloudServer : f.trackingServer, a = ""; f.loadSSL && (i ? f.marketingCloudServerSecure && (r = f.marketingCloudServerSecure) : f.trackingServerSecure && (r = f.trackingServerSecure)); var s = {}; if (r) { var o = "http" + (f.loadSSL ? "s" : "") + "://" + r + "/id", l = "d_visid_ver=" + f.version + "&mcorgid=" + encodeURIComponent(f.marketingCloudOrgID) + (n ? "&mid=" + encodeURIComponent(n) : "") + (f.idSyncDisable3rdPartySyncing ? "&d_coppa=true" : ""), u = ["s_c_il", f._in, "_set" + (i ? "MarketingCloud" : "Analytics") + "Fields"]; a = o + "?" + l + "&callback=s_c_il%5B" + f._in + "%5D._set" + (i ? "MarketingCloud" : "Analytics") + "Fields", s.corsUrl = o + "?" + l, s.callback = u } return s.url = a, f._getRemoteField(i ? D : E, a, e, t, s) } } return "" }, f._setAudienceManagerFields = function (e) { f._readVisitor(), f._setFields(O, e) }, f._getAudienceManagerURLData = function (e) { var t = f.audienceManagerServer, i = "", n = f._getField(D), r = f._getField(k, !0), a = f._getField(E), s = a && a !== L ? "&d_cid_ic=AVID%01" + encodeURIComponent(a) : ""; if (f.loadSSL && f.audienceManagerServerSecure && (t = f.audienceManagerServerSecure), t) { var o, l, u = f.getCustomerIDs(); if (u) for (o in u) h(o) && (l = u[o], s += "&d_cid_ic=" + encodeURIComponent(o) + "%01" + encodeURIComponent(l.id ? l.id : "") + (l.authState ? "%01" + l.authState : "")); e || (e = "_setAudienceManagerFields"); var c = "http" + (f.loadSSL ? "s" : "") + "://" + t + "/id", d = "d_visid_ver=" + f.version + "&d_rtbd=json&d_ver=2" + (!n && f._use1stPartyMarketingCloudServer ? "&d_verify=1" : "") + "&d_orgid=" + encodeURIComponent(f.marketingCloudOrgID) + "&d_nsid=" + (f.idSyncContainerID || 0) + (n ? "&d_mid=" + encodeURIComponent(n) : "") + (f.idSyncDisable3rdPartySyncing ? "&d_coppa=true" : "") + (r ? "&d_blob=" + encodeURIComponent(r) : "") + s, g = ["s_c_il", f._in, e]; return i = c + "?" + d + "&d_cb=s_c_il%5B" + f._in + "%5D." + e, { url: i, corsUrl: c + "?" + d, callback: g } } return { url: i } }, f.getAudienceManagerLocationHint = function (e, t) { if (f.isAllowed()) { if (f.getMarketingCloudVisitorID(function (t) { f.getAudienceManagerLocationHint(e, !0) })) { var i = f._getField(E); if (!i && P.isTrackingServerPopulated() && (i = f.getAnalyticsVisitorID(function (t) { f.getAudienceManagerLocationHint(e, !0) })), i || !P.isTrackingServerPopulated()) { var n = f._getAudienceManagerURLData(), r = n.url; return f._getRemoteField(T, r, e, t, n) } } } return "" }, f.getLocationHint = f.getAudienceManagerLocationHint, f.getAudienceManagerBlob = function (e, t) { if (f.isAllowed()) { if (f.getMarketingCloudVisitorID(function (t) { f.getAudienceManagerBlob(e, !0) })) { var i = f._getField(E); if (!i && P.isTrackingServerPopulated() && (i = f.getAnalyticsVisitorID(function (t) { f.getAudienceManagerBlob(e, !0) })), i || !P.isTrackingServerPopulated()) { var n = f._getAudienceManagerURLData(), r = n.url; return f._customerIDsHashChanged && f._setFieldExpire(k, -1), f._getRemoteField(k, r, e, t, n) } } } return "" }, f._supplementalDataIDCurrent = "", f._supplementalDataIDCurrentConsumed = {}, f._supplementalDataIDLast = "", f._supplementalDataIDLastConsumed = {}, f.getSupplementalDataID = function (e, t) { f._supplementalDataIDCurrent || t || (f._supplementalDataIDCurrent = f._generateID(1)); var i = f._supplementalDataIDCurrent; return f._supplementalDataIDLast && !f._supplementalDataIDLastConsumed[e] ? (i = f._supplementalDataIDLast, f._supplementalDataIDLastConsumed[e] = !0) : i && (f._supplementalDataIDCurrentConsumed[e] && (f._supplementalDataIDLast = f._supplementalDataIDCurrent, f._supplementalDataIDLastConsumed = f._supplementalDataIDCurrentConsumed, f._supplementalDataIDCurrent = i = t ? "" : f._generateID(1), f._supplementalDataIDCurrentConsumed = {}), i && (f._supplementalDataIDCurrentConsumed[e] = !0)), i }, _.OptOut = { GLOBAL: "global" }, f.getOptOut = function (e, t) { if (f.isAllowed()) { var i = f._getAudienceManagerURLData("_setMarketingCloudFields"), n = i.url; return f._getRemoteField(M, n, e, t, i) } return "" }, f.isOptedOut = function (e, t, i) { if (f.isAllowed()) { t || (t = _.OptOut.GLOBAL); var n = f.getOptOut(function (i) { var n = i === _.OptOut.GLOBAL || i.indexOf(t) >= 0; f._callCallback(e, [n]) }, i); return n ? n === _.OptOut.GLOBAL || n.indexOf(t) >= 0 : null } return !1 }, f.appendVisitorIDsTo = function (e) { var t = p.ADOBE_MC, i = [[D, f._getField(D)], [E, f._getField(E)], [I, f.marketingCloudOrgID]], n = o(i); try { return f._addQuerystringParam(e, t, n) } catch (t) { return e } }, f.appendSupplementalDataIDTo = function (e, t) { if (!(t = t || f.getSupplementalDataID(P.generateRandomString(), !0))) return e; var i = p.ADOBE_MC_SDID, n = "SDID=" + encodeURIComponent(t) + "|"; n += I + "=" + encodeURIComponent(f.marketingCloudOrgID) + "|", n += "TS=" + P.getTimestampInSeconds(); try { return f._addQuerystringParam(e, i, n) } catch (t) { return e } }, f._xd = { postMessage: function (e, t, i) { var n = 1; t && (p.POST_MESSAGE_ENABLED ? i.postMessage(e, t.replace(/([^:]+:\/\/[^\/]+).*/, "$1")) : t && (i.location = t.replace(/#.*$/, "") + "#" + +new Date + n++ + "&" + e)) }, receiveMessage: function (e, t) { var i; try { p.POST_MESSAGE_ENABLED && (e && (i = function (i) { if ("string" == typeof t && i.origin !== t || "[object Function]" === Object.prototype.toString.call(t) && !1 === t(i.origin)) return !1; e(i) }), g.addEventListener ? g[e ? "addEventListener" : "removeEventListener"]("message", i, !1) : g[e ? "attachEvent" : "detachEvent"]("å", i)) } catch (e) { } } }; var P = { addListener: function () { return m.addEventListener ? function (e, t, i) { e.addEventListener(t, function (e) { "function" == typeof i && i(e) }, !1) } : m.attachEvent ? function (e, t, i) { e.attachEvent("on" + t, function (e) { "function" == typeof i && i(e) }) } : void 0 }(), map: function (e, t) { if (Array.prototype.map) return e.map(t); if (void 0 === e || null == e) throw new TypeError; var i = Object(e), n = i.length >>> 0; if ("function" != typeof t) throw new TypeError; for (var r = new Array(n), a = arguments[1], s = 0; s < n; s++)s in i && (r[s] = t.call(a, i[s], s, i)); return r }, encodeAndBuildRequest: function (e, t) { return this.map(e, function (e) { return encodeURIComponent(e) }).join(t) }, parseHash: function (e) { var t = e.indexOf("#"); return t > 0 ? e.substr(t) : "" }, hashlessUrl: function (e) { var t = e.indexOf("#"); return t > 0 ? e.substr(0, t) : e }, addQueryParamAtLocation: function (e, t, i) { var n = e.split("&"); return i = null != i ? i : n.length, n.splice(i, 0, t), n.join("&") }, isFirstPartyAnalyticsVisitorIDCall: function (e, t, i) { if (e !== E) return !1; var n; return t || (t = f.trackingServer), i || (i = f.trackingServerSecure), !("string" != typeof (n = f.loadSSL ? i : t) || !n.length) && (n.indexOf("2o7.net") < 0 && n.indexOf("omtrdc.net") < 0) }, isObject: function (e) { return Boolean(e && e === Object(e)) }, isLessThan: function (e, t) { return f._compareVersions(e, t) < 0 }, areVersionsDifferent: function (e, t) { return 0 !== f._compareVersions(e, t) }, removeCookie: function (e) { document.cookie = encodeURIComponent(e) + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;" }, isTrackingServerPopulated: function () { return !!f.trackingServer || !!f.trackingServerSecure }, parseJSON: function (e, t) { function i(e, n) { var r, a, s = e[n]; if (s && "object" == typeof s) for (r in s) Object.prototype.hasOwnProperty.call(s, r) && (a = i(s, r), void 0 !== a ? s[r] = a : delete s[r]); return t.call(e, n, s) } if ("object" == typeof JSON && "function" == typeof JSON.parse) return JSON.parse(e, t); var n, r = /^[\],:{}\s]*$/, a = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, s = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, o = /(?:^|:|,)(?:\s*\[)+/g, l = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g; if (e = String(e), l.lastIndex = 0, l.test(e) && (e = e.replace(l, function (e) { return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4) })), r.test(e.replace(a, "@").replace(s, "]").replace(o, ""))) return n = eval("(" + e + ")"), "function" == typeof t ? i({ "": n }, "") : n; throw new SyntaxError("JSON.parse") }, getTimestampInSeconds: function () { return Math.round((new Date).getTime() / 1e3) }, parsePipeDelimetedKeyValues: function (e) { for (var t = {}, i = e.split("|"), n = 0, r = i.length; n < r; n++) { var a = i[n].split("="); t[a[0]] = decodeURIComponent(a[1]) } return t }, generateRandomString: function (e) { e = e || 5; for (var t = "", i = "abcdefghijklmnopqrstuvwxyz0123456789"; e--;)t += i[Math.floor(Math.random() * i.length)]; return t } }; f._helpers = P; var R = { corsMetadata: function () { var e = "none", t = !0; return "undefined" != typeof XMLHttpRequest && XMLHttpRequest === Object(XMLHttpRequest) && ("withCredentials" in new XMLHttpRequest ? e = "XMLHttpRequest" : "undefined" != typeof XDomainRequest && XDomainRequest === Object(XDomainRequest) && (t = !1), Object.prototype.toString.call(g.HTMLElement).indexOf("Constructor") > 0 && (t = !1)), { corsType: e, corsCookiesEnabled: t } }(), getCORSInstance: function () { return "none" === this.corsMetadata.corsType ? null : new g[this.corsMetadata.corsType] }, fireCORS: function (e, t, i) { function n(t) { var i; try { if ((i = JSON.parse(t)) !== Object(i)) return void r.handleCORSError(e, null, "Response is not JSON") } catch (t) { return void r.handleCORSError(e, t, "Error parsing response as JSON") } try { for (var n = e.callback, a = g, s = 0; s < n.length; s++)a = a[n[s]]; a(i) } catch (t) { r.handleCORSError(e, t, "Error forming callback function") } } var r = this; t && (e.loadErrorHandler = t); try { var a = this.getCORSInstance(); a.open("get", e.corsUrl + "&ts=" + (new Date).getTime(), !0), "XMLHttpRequest" === this.corsMetadata.corsType && (a.withCredentials = !0, a.timeout = f.loadTimeout, a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), a.onreadystatechange = function () { 4 === this.readyState && 200 === this.status && n(this.responseText) }), a.onerror = function (t) { r.handleCORSError(e, t, "onerror") }, a.ontimeout = function (t) { r.handleCORSError(e, t, "ontimeout") }, a.send(), f._log.requests.push(e.corsUrl) } catch (t) { this.handleCORSError(e, t, "try-catch") } }, handleCORSError: function (e, t, i) { f.CORSErrors.push({ corsData: e, error: t, description: i }), e.loadErrorHandler && ("ontimeout" === i ? e.loadErrorHandler(!0) : e.loadErrorHandler(!1)) } }; f._requestProcs = R; var w = { THROTTLE_START: 3e4, MAX_SYNCS_LENGTH: 649, throttleTimerSet: !1, id: null, onPagePixels: [], iframeHost: null, getIframeHost: function (e) { if ("string" == typeof e) { var t = e.split("/"); return t[0] + "//" + t[2] } }, subdomain: null, url: null, getUrl: function () { var e, t = "http://fast.", i = "?d_nsid=" + f.idSyncContainerID + "#" + encodeURIComponent(m.location.href); return this.subdomain || (this.subdomain = "nosubdomainreturned"), f.loadSSL && (t = f.idSyncSSLUseAkamai ? "https://fast." : "https://"), e = t + this.subdomain + ".demdex.net/dest5.html" + i, this.iframeHost = this.getIframeHost(e), this.id = "destination_publishing_iframe_" + this.subdomain + "_" + f.idSyncContainerID, e }, checkDPIframeSrc: function () { var e = "?d_nsid=" + f.idSyncContainerID + "#" + encodeURIComponent(m.location.href); "string" == typeof f.dpIframeSrc && f.dpIframeSrc.length && (this.id = "destination_publishing_iframe_" + (f._subdomain || this.subdomain || (new Date).getTime()) + "_" + f.idSyncContainerID, this.iframeHost = this.getIframeHost(f.dpIframeSrc), this.url = f.dpIframeSrc + e) }, idCallNotProcesssed: null, doAttachIframe: !1, startedAttachingIframe: !1, iframeHasLoaded: null, iframeIdChanged: null, newIframeCreated: null, originalIframeHasLoadedAlready: null, sendingMessages: !1, messages: [], messagesPosted: [], messagesReceived: [], messageSendingInterval: p.POST_MESSAGE_ENABLED ? null : 100, jsonForComparison: [], jsonDuplicates: [], jsonWaiting: [], jsonProcessed: [], canSetThirdPartyCookies: !0, receivedThirdPartyCookiesNotification: !1, readyToAttachIframe: function () { return !f.idSyncDisable3rdPartySyncing && (this.doAttachIframe || f._doAttachIframe) && (this.subdomain && "nosubdomainreturned" !== this.subdomain || f._subdomain) && this.url && !this.startedAttachingIframe }, attachIframe: function () { function e() { n = document.createElement("iframe"), n.sandbox = "allow-scripts allow-same-origin", n.title = "Adobe ID Syncing iFrame", n.id = i.id, n.style.cssText = "display: none; width: 0; height: 0;", n.src = i.url, i.newIframeCreated = !0, t(), document.body.appendChild(n) } function t() { P.addListener(n, "load", function () { n.className = "aamIframeLoaded", i.iframeHasLoaded = !0, i.requestToProcess() }) } this.startedAttachingIframe = !0; var i = this, n = document.getElementById(this.id); n ? "IFRAME" !== n.nodeName ? (this.id += "_2", this.iframeIdChanged = !0, e()) : (this.newIframeCreated = !1, "aamIframeLoaded" !== n.className ? (this.originalIframeHasLoadedAlready = !1, t()) : (this.originalIframeHasLoadedAlready = !0, this.iframeHasLoaded = !0, this.iframe = n, this.requestToProcess())) : e(), this.iframe = n }, requestToProcess: function (e) { function t() { n.jsonForComparison.push(e), n.jsonWaiting.push(e), n.processSyncOnPage(e) } var i, n = this; if (e === Object(e) && e.ibs) if (p.HAS_JSON_STRINGIFY) if (i = JSON.stringify(e.ibs || []), this.jsonForComparison.length) { var r, a, s, o = !1; for (r = 0, a = this.jsonForComparison.length; r < a; r++)if (s = this.jsonForComparison[r], i === JSON.stringify(s.ibs || [])) { o = !0; break } o ? this.jsonDuplicates.push(e) : t() } else t(); else t(); if ((this.receivedThirdPartyCookiesNotification || !p.POST_MESSAGE_ENABLED || this.iframeHasLoaded) && this.jsonWaiting.length) { var l = this.jsonWaiting.shift(); this.process(l), this.requestToProcess() } !f.idSyncDisableSyncs && this.iframeHasLoaded && this.messages.length && !this.sendingMessages && (this.throttleTimerSet || (this.throttleTimerSet = !0, setTimeout(function () { n.messageSendingInterval = p.POST_MESSAGE_ENABLED ? null : 150 }, this.THROTTLE_START)), this.sendingMessages = !0, this.sendMessages()) }, processSyncOnPage: function (e) { var t, i, n, r; if ((t = e.ibs) && t instanceof Array && (i = t.length)) for (n = 0; n < i; n++)r = t[n], r.syncOnPage && this.checkFirstPartyCookie(r, "", "syncOnPage") }, process: function (e) { var t, i, n, r, a, s = encodeURIComponent, o = !1; if ((t = e.ibs) && t instanceof Array && (i = t.length)) for (o = !0, n = 0; n < i; n++)r = t[n], a = [s("ibs"), s(r.id || ""), s(r.tag || ""), P.encodeAndBuildRequest(r.url || [], ","), s(r.ttl || ""), "", "", r.fireURLSync ? "true" : "false"], r.syncOnPage || (this.canSetThirdPartyCookies ? this.addMessage(a.join("|")) : r.fireURLSync && this.checkFirstPartyCookie(r, a.join("|"))); o && this.jsonProcessed.push(e) }, checkFirstPartyCookie: function (e, t, i) { var n = "syncOnPage" === i, r = n ? A : v; f._readVisitor(); var a, s, o = f._getField(r), l = !1, u = !1, c = Math.ceil((new Date).getTime() / p.MILLIS_PER_DAY); o ? (a = o.split("*"), s = this.pruneSyncData(a, e.id, c), l = s.dataPresent, u = s.dataValid, l && u || this.fireSync(n, e, t, a, r, c)) : (a = [], this.fireSync(n, e, t, a, r, c)) }, pruneSyncData: function (e, t, i) { var n, r, a, s = !1, o = !1; for (r = 0; r < e.length; r++)n = e[r], a = parseInt(n.split("-")[1], 10), n.match("^" + t + "-") ? (s = !0, i < a ? o = !0 : (e.splice(r, 1), r--)) : i >= a && (e.splice(r, 1), r--); return { dataPresent: s, dataValid: o } }, manageSyncsSize: function (e) { if (e.join("*").length > this.MAX_SYNCS_LENGTH) for (e.sort(function (e, t) { return parseInt(e.split("-")[1], 10) - parseInt(t.split("-")[1], 10) }); e.join("*").length > this.MAX_SYNCS_LENGTH;)e.shift() }, fireSync: function (e, t, i, n, r, a) { var s = this; if (e) { if ("img" === t.tag) { var o, l, u, c, d = t.url, g = f.loadSSL ? "https:" : "http:"; for (o = 0, l = d.length; o < l; o++) { u = d[o], c = /^\/\//.test(u); var _ = new Image; P.addListener(_, "load", function (e, t, i, n) { return function () { s.onPagePixels[e] = null, f._readVisitor(); var a, o = f._getField(r), l = []; if (o) { a = o.split("*"); var u, c, d; for (u = 0, c = a.length; u < c; u++)d = a[u], d.match("^" + t.id + "-") || l.push(d) } s.setSyncTrackingData(l, t, i, n) } }(this.onPagePixels.length, t, r, a)), _.src = (c ? g : "") + u, this.onPagePixels.push(_) } } } else this.addMessage(i), this.setSyncTrackingData(n, t, r, a) }, addMessage: function (e) { var t = encodeURIComponent, i = t(f._enableErrorReporting ? "---destpub-debug---" : "---destpub---"); this.messages.push((p.POST_MESSAGE_ENABLED ? "" : i) + e) }, setSyncTrackingData: function (e, t, i, n) { e.push(t.id + "-" + (n + Math.ceil(t.ttl / 60 / 24))), this.manageSyncsSize(e), f._setField(i, e.join("*")) }, sendMessages: function () { var e, t = this; this.messages.length ? p.POST_MESSAGE_ENABLED ? (e = encodeURIComponent("---destpub-combined---") + this.messages.join("%01"), this.postMessage(e), this.messages = [], this.sendingMessages = !1) : (e = this.messages.shift(), this.postMessage(e), setTimeout(function () { t.sendMessages() }, this.messageSendingInterval)) : this.sendingMessages = !1 }, postMessage: function (e) { f._xd.postMessage(e, this.url, this.iframe.contentWindow), this.messagesPosted.push(e) }, receiveMessage: function (e) { var t, i = /^---destpub-to-parent---/; "string" == typeof e && i.test(e) && (t = e.replace(i, "").split("|"), "canSetThirdPartyCookies" === t[0] && (this.canSetThirdPartyCookies = "true" === t[1], this.receivedThirdPartyCookiesNotification = !0, this.requestToProcess()), this.messagesReceived.push(e)) }, processIDCallData: function (e) { (null == this.url || e.subdomain && "nosubdomainreturned" === this.subdomain) && ("string" == typeof f._subdomain && f._subdomain.length ? this.subdomain = f._subdomain : this.subdomain = e.subdomain || "", this.url = this.getUrl()), e.ibs instanceof Array && e.ibs.length && (this.doAttachIframe = !0), this.readyToAttachIframe() && (f.idSyncAttachIframeOnWindowLoad ? (_.windowLoaded || "complete" === m.readyState || "loaded" === m.readyState) && this.attachIframe() : this.attachIframeASAP()), "function" == typeof f.idSyncIDCallResult ? f.idSyncIDCallResult(e) : this.requestToProcess(e), "function" == typeof f.idSyncAfterIDCallResult && f.idSyncAfterIDCallResult(e) }, canMakeSyncIDCall: function (e, t) { return f._forceSyncIDCall || !e || t - e > p.DAYS_BETWEEN_SYNC_ID_CALLS }, attachIframeASAP: function () { function e() { t.startedAttachingIframe || (document.body ? t.attachIframe() : setTimeout(e, 30)) } var t = this; e() } }; f._destinationPublishing = w, f.timeoutMetricsLog = []; var F, N = {
                    isClientSideMarketingCloudVisitorID: null, MCIDCallTimedOut: null, AnalyticsIDCallTimedOut: null, AAMIDCallTimedOut: null, fieldGroupObj: {}, setState: function (e, t) {
                        switch (e) {
                            case S: !1 === t ? !0 !== this.MCIDCallTimedOut && (this.MCIDCallTimedOut = !1) : this.MCIDCallTimedOut = t; break; case b: !1 === t ? !0 !== this.AnalyticsIDCallTimedOut && (this.AnalyticsIDCallTimedOut = !1) : this.AnalyticsIDCallTimedOut = t; break; case O: !1 === t ? !0 !== this.AAMIDCallTimedOut && (this.AAMIDCallTimedOut = !1) : this.AAMIDCallTimedOut = t
                        }
                    }
                }; f.isClientSideMarketingCloudVisitorID = function () { return N.isClientSideMarketingCloudVisitorID }, f.MCIDCallTimedOut = function () { return N.MCIDCallTimedOut }, f.AnalyticsIDCallTimedOut = function () { return N.AnalyticsIDCallTimedOut }, f.AAMIDCallTimedOut = function () { return N.AAMIDCallTimedOut }, f.idSyncGetOnPageSyncInfo = function () { return f._readVisitor(), f._getField(A) }, f.idSyncByURL = function (e) { var t = l(e || {}); if (t.error) return t.error; var i, n, r = e.url, a = encodeURIComponent, s = w; return r = r.replace(/^https:/, "").replace(/^http:/, ""), i = P.encodeAndBuildRequest(["", e.dpid, e.dpuuid || ""], ","), n = ["ibs", a(e.dpid), "img", a(r), t.ttl, "", i], s.addMessage(n.join("|")), s.requestToProcess(), "Successfully queued" }, f.idSyncByDataSource = function (e) { return e === Object(e) && "string" == typeof e.dpuuid && e.dpuuid.length ? (e.url = "//dpm.demdex.net/ibs:dpid=" + e.dpid + "&dpuuid=" + e.dpuuid, f.idSyncByURL(e)) : "Error: config or config.dpuuid is empty" }, f._compareVersions = function (e, t) { if (e === t) return 0; var i = e.toString().split("."), n = t.toString().split("."); return u(i.concat(n)) ? (c(i, n), d(i, n)) : NaN }, f._getCookieVersion = function (e) { e = e || f.cookieRead(f.cookieName); var t = p.VERSION_REGEX.exec(e); return t && t.length > 1 ? t[1] : null }, f._resetAmcvCookie = function (e) { var t = f._getCookieVersion(); t && !P.isLessThan(t, e) || P.removeCookie(f.cookieName) }, e.indexOf("@") < 0 && (e += "@AdobeOrg"), f.marketingCloudOrgID = e, f.cookieName = "AMCV_" + e, f.sessionCookieName = "AMCVS_" + e, f.cookieDomain = f._getDomain(), f.cookieDomain === g.location.hostname && (f.cookieDomain = ""), f.loadSSL = g.location.protocol.toLowerCase().indexOf("https") >= 0, f.loadTimeout = 3e4, f.CORSErrors = [], f.marketingCloudServer = f.audienceManagerServer = "dpm.demdex.net", f.sdidParamExpiry = 30; var x = {}; if (x[T] = !0, x[k] = !0, t && "object" == typeof t) { var V; for (V in t) h(V) && (f[V] = t[V]); f.idSyncContainerID = f.idSyncContainerID || 0, f.resetBeforeVersion && f._resetAmcvCookie(f.resetBeforeVersion), f._attemptToPopulateIdsFromUrl(), f._attemptToPopulateSdidFromUrl(), f._readVisitor(); var j = f._getField(y), U = Math.ceil((new Date).getTime() / p.MILLIS_PER_DAY); !f.idSyncDisableSyncs && w.canMakeSyncIDCall(j, U) && (f._setFieldExpire(k, -1), f._setField(y, U)), f.getMarketingCloudVisitorID(), f.getAudienceManagerLocationHint(), f.getAudienceManagerBlob(), f._mergeServerState(f.serverState) } else f._attemptToPopulateIdsFromUrl(), f._attemptToPopulateSdidFromUrl(); if (!f.idSyncDisableSyncs) { w.checkDPIframeSrc(); var H = function () { var e = w; e.readyToAttachIframe() && e.attachIframe() }; P.addListener(g, "load", function () { _.windowLoaded = !0, H() }); try { f._xd.receiveMessage(function (e) { w.receiveMessage(e.data) }, w.iframeHost) } catch (e) { } } f.whitelistIframeDomains && p.POST_MESSAGE_ENABLED && (f.whitelistIframeDomains = f.whitelistIframeDomains instanceof Array ? f.whitelistIframeDomains : [f.whitelistIframeDomains], f.whitelistIframeDomains.forEach(function (t) { var i = new a(e, t), n = s(f, i); f._xd.receiveMessage(n, t) }))
            }; o.getInstance = function (e, t) { if (!e) throw new Error("Visitor requires Adobe Marketing Cloud Org ID"); e.indexOf("@") < 0 && (e += "@AdobeOrg"); var n = function () { var t = i.s_c_il; if (t) for (var n = 0; n < t.length; n++) { var r = t[n]; if (r && "Visitor" === r._c && r.marketingCloudOrgID === e) return r } }(); if (n) return n; var a = new o(e), s = a.isAllowed(); return function () { i.s_c_il.splice(--i.s_c_in, 1) }(), function () { try { return i.self !== i.parent } catch (e) { return !0 } }() && !s && i.parent ? new r(e, t, a, i.parent) : new o(e, t) }, n(), i.Visitor = o, t.exports = o
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, { "./ChildVisitor": 1, "./Message": 2, "./utils/makeChildMessageListener": 9 }], 4: [function (e, t, i) { i.MESSAGES = { HANDSHAKE: "HANDSHAKE", GETSTATE: "GETSTATE", PARENTSTATE: "PARENTSTATE" }, i.STATE_KEYS_MAP = { MCMID: "MCMID", MCAID: "MCAID", MCAAMB: "MCAAMB", MCAAMLH: "MCAAMLH", MCOPTOUT: "MCOPTOUT", CUSTOMERIDS: "CUSTOMERIDS" }, i.ASYNC_API_MAP = { MCMID: "getMarketingCloudVisitorID", MCAID: "getAnalyticsVisitorID", MCAAMB: "getAudienceManagerBlob", MCAAMLH: "getAudienceManagerLocationHint", MCOPTOUT: "getOptOut" }, i.SYNC_API_MAP = { CUSTOMERIDS: "getCustomerIDs" }, i.ALL_APIS = { MCMID: "getMarketingCloudVisitorID", MCAAMB: "getAudienceManagerBlob", MCAAMLH: "getAudienceManagerLocationHint", MCOPTOUT: "getOptOut", MCAID: "getAnalyticsVisitorID", CUSTOMERIDS: "getCustomerIDs" }, i.FIELDGROUP_TO_FIELD = { MC: "MCMID", A: "MCAID", AAM: "MCAAMB" } }, {}], 5: [function (e, t, i) { var n = e("../enums"), r = n.STATE_KEYS_MAP; t.exports = function (e) { function t() { } function i(t, i) { var n = this; return function () { var t = e(0, r.MCMID), a = {}; return a[r.MCMID] = t, n.setStateAndPublish(a), i(t), t } } this.getMarketingCloudVisitorID = function (e) { e = e || t; var n = this.findField(r.MCMID, e), a = i.call(this, r.MCMID, e); return void 0 !== n ? n : a() } } }, { "../enums": 4 }], 6: [function (e, t, i) { var n = e("../enums"), r = n.ASYNC_API_MAP; t.exports = function () { Object.keys(r).forEach(function (e) { this[r[e]] = function (t) { this.callbackRegistry.add(e, t) } }, this) } }, { "../enums": 4 }], 7: [function (e, t, i) { var n = e("../enums"), r = n.MESSAGES, a = n.ASYNC_API_MAP, s = n.SYNC_API_MAP; t.exports = function () { function e() { } function t(e, t) { var i = this; return function () { return i.callbackRegistry.add(e, t), i.messageParent(r.GETSTATE), "" } } function i(i) { this[a[i]] = function (n) { n = n || e; var r = this.findField(i, n), a = t.call(this, i, n); return void 0 !== r ? r : a() } } function n(t) { this[s[t]] = function () { return this.findField(t, e) || {} } } Object.keys(a).forEach(i, this), Object.keys(s).forEach(n, this) } }, { "../enums": 4 }], 8: [function (e, t, i) { function n() { return { callbacks: {}, add: function (e, t) { this.callbacks[e] = this.callbacks[e] || []; var i = this.callbacks[e].push(t) - 1; return function () { this.callbacks[e].splice(i, 1) } }, execute: function (e, t) { if (this.callbacks[e]) { t = void 0 === t ? [] : t, t = t instanceof Array ? t : [t]; try { for (; this.callbacks[e].length;) { var i = this.callbacks[e].shift(); "function" == typeof i ? i.apply(null, t) : i instanceof Array && i[1].apply(i[0], t) } delete this.callbacks[e] } catch (e) { } } }, executeAll: function (e, t) { (t || e && !r.isObjectEmpty(e)) && Object.keys(this.callbacks).forEach(function (t) { var i = void 0 !== e[t] ? e[t] : ""; this.execute(t, i) }, this) }, hasCallbacks: function () { return Boolean(Object.keys(this.callbacks).length) } } } var r = e("./utils"); t.exports = n }, { "./utils": 11 }], 9: [function (e, t, i) { var n = e("../enums"), r = e("./utils"), a = n.MESSAGES, s = n.ALL_APIS, o = n.ASYNC_API_MAP, l = n.FIELDGROUP_TO_FIELD; t.exports = function (e, t) { function i() { var t = {}; return Object.keys(s).forEach(function (i) { var n = s[i], a = e[n](); r.isValueEmpty(a) || (t[i] = a) }), t } function n() { var t = []; return e._loading && Object.keys(e._loading).forEach(function (i) { if (e._loading[i]) { var n = l[i]; t.push(n) } }), t.length ? t : null } function u(t) { return function i(r) { var a = n(); if (a) { var s = o[a[0]]; e[s](i, !0) } else t() } } function c(e, n) { var r = i(); t.send(e, n, r) } function d(e) { g(e), c(e, a.HANDSHAKE) } function f(e) { u(function () { c(e, a.PARENTSTATE) })() } function g(i) { function n(n) { r.call(e, n), t.send(i, a.PARENTSTATE, { CUSTOMERIDS: e.getCustomerIDs() }) } var r = e.setCustomerIDs; e.setCustomerIDs = n } return function (e) { if (!t.isInvalid(e)) { (t.parse(e).prefix === a.HANDSHAKE ? d : f)(e.source) } } } }, { "../enums": 4, "./utils": 11 }], 10: [function (e, t, i) { Object.keys = Object.keys || function (e) { var t = []; for (var i in e) t.hasOwnProperty.call(e, i) && t.push(i); return t }, Array.prototype.forEach = Array.prototype.forEach || function (e, t) { for (var i = this, n = 0, r = i.length; n < r; n++)e.call(t, i[n], n, i) }, Object.assign = Object.assign || function (e, t) { for (var i, n, r = 1; r < arguments.length; ++r) { n = arguments[r]; for (i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]) } return e } }, {}], 11: [function (e, t, i) { i.isObjectEmpty = function (e) { return e === Object(e) && 0 === Object.keys(e).length }, i.isValueEmpty = function (e) { return "" === e || i.isObjectEmpty(e) } }, {}]
}, {}, [1, 2, 3, 4]);

var visitor = Visitor.getInstance("AA7A3BC75245B3BC0A490D4D@AdobeOrg", {
    "trackingServer": "omni.suntrust.com",
    "trackingServerSecure": "somni.suntrust.com",
    "marketingCloudServer": "omni.suntrust.com",
    "marketingCloudServerSecure": "somni.suntrust.com"
});
//No Custom JavaScript
/**
 * @license
 * at.js 1.6.3 | (c) Adobe Systems Incorporated | All rights reserved
 * zepto.js | (c) 2010-2016 Thomas Fuchs | zeptojs.com/license
*/
window.adobe = window.adobe || {}, window.adobe.target = function () {
    "use strict"; function n() { } function t(n) { if (null === n || void 0 === n) throw new TypeError("Object.assign cannot be called with null or undefined"); return Object(n) } function e(n) { return Uc.call(n) } function r(n) { return e(n) } function i(n) { var t = void 0 === n ? "undefined" : Fc(n); return null != n && ("object" === t || "function" === t) } function o(n) { return !!i(n) && r(n) === $c } function u(n) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; return o(n) ? setTimeout(n, Number(t) || 0) : -1 } function c() { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1; -1 !== n && clearTimeout(n) } function a(n) { return null == n } function f(n) { return n } function s(n) { return o(n) ? n : f } function l(n) { return a(n) ? [] : Object.keys(n) } function d(n, t) { return a(t) ? [] : (Bc(t) ? zc : Zc)(s(n), t) } function h(n) { return n && n.length ? n[0] : void 0 } function p(n) { return a(n) ? [] : [].concat.apply([], n) } function v(n) { for (var t = this, e = n ? n.length : 0, r = e; r -= 1;)if (!o(n[r])) throw new TypeError("Expected a function"); return function () { for (var r = arguments.length, i = Array(r), o = 0; o < r; o++)i[o] = arguments[o]; for (var u = 0, c = e ? n[u].apply(t, i) : i[0]; (u += 1) < e;)c = n[u].call(t, c); return c } } function m(n, t) { if (!a(t)) { (Bc(t) ? Hc : Vc)(s(n), t) } } function g(n) { return null != n && "object" === (void 0 === n ? "undefined" : Fc(n)) } function y(n) { return "string" == typeof n || !Bc(n) && g(n) && r(n) === Gc } function b(n) { if (!y(n)) return -1; for (var t = 0, e = n.length, r = 0; r < e; r += 1)t = (t << 5) - t + n.charCodeAt(r) & 4294967295; return t } function x(n) { return "number" == typeof n && n > -1 && n % 1 == 0 && n <= Kc } function E(n) { return null != n && x(n.length) && !o(n) } function w(n, t) { return Jc(function (n) { return t[n] }, n) } function C(n) { for (var t = 0, e = n.length, r = Array(e); t < e;)r[t] = n[t], t += 1; return r } function S(n) { return n.split("") } function O(n) { return a(n) ? [] : E(n) ? y(n) ? S(n) : C(n) : w(l(n), n) } function T(n) { if (null == n) return !0; if (E(n) && (Bc(n) || y(n) || o(n.splice))) return !n.length; for (var t in n) if (Xc.call(n, t)) return !1; return !0 } function k(n) { return a(n) ? "" : Qc.call(n) } function N(n) { return y(n) ? !k(n) : T(n) } function A(n) { return Object.getPrototypeOf(Object(n)) } function j(n) { if (!g(n) || r(n) !== na) return !1; var t = A(n); if (null === t) return !0; var e = ia.call(t, "constructor") && t.constructor; return "function" == typeof e && e instanceof e && ra.call(e) === oa } function D(n) { return g(n) && 1 === n.nodeType && !j(n) } function _(n) { return "number" == typeof n || g(n) && r(n) === ca } function R(n, t) { return a(t) ? [] : (Bc(t) ? Jc : aa)(s(n), t) } function P() { } function I() { return (new Date).getTime() } function M(n, t, e) { return a(e) ? t : (Bc(e) ? fa : sa)(s(n), t, e) } function q(n) { return null == n ? n : da.call(n) } function L(n, t) { return N(t) ? [] : t.split(n) } function U(n, t) { return n + Math.floor(Math.random() * (t - n + 1)) } function F() { var n = I(); return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function (t) { var e = (n + U(0, 16)) % 16 | 0; return n = Math.floor(n / 16), ("x" === t ? e : 3 & e | 8).toString(16) }) } function $(n) { return cd.test(n) } function B(n) { if ($(n)) return n; var t = q(L(".", n)), e = t.length; return e >= 3 && ad.test(t[1]) ? t[2] + "." + t[1] + "." + t[0] : 1 === e ? t[0] : t[1] + "." + t[0] } function H(n, t) { n.enabled && m(function (e) { a(t[e]) || (n[e] = t[e]) }, ld) } function V(n) { var t = n.documentMode; return !t || t >= 10 } function z(n) { var t = n.compatMode; return t && "CSS1Compat" === t } function Z(n, t, e) { var r = n.location.protocol === fd, i = ""; r || (i = B(n.location.hostname)), e[ml] = i, e[zs] = z(t) && V(t), H(e, n[td] || {}) } function G(n) { Z(ha, pa, n); var t = ha.location.protocol === fd; sd = qc({}, n), sd[rl] = n[rl] / 1e3, sd[il] = n[il] / 1e3, sd[hl] = "x-only" === sd[Js], sd[pl] = "disabled" !== sd[Js], sd[vl] = sd[sl] || t ? "https:" : "" } function K() { return sd } function J(n, t) { return t = { exports: {} }, n(t, t.exports), t.exports } function W(n) { try { return decodeURIComponent(n) } catch (t) { return n } } function X(n) { try { return encodeURIComponent(n) } catch (t) { return n } } function Y(n, t) { return Object.prototype.hasOwnProperty.call(n, t) } function Q(n) { if (Nd[n]) return Nd[n]; kd.href = n; var t = bd(kd.href); return t.queryKey = Td(t.query), Nd[n] = t, Nd[n] } function nn(n, t, e) { return { name: n, value: t, expires: e } } function tn(n) { var t = L("#", n); return T(t) || t.length < 3 ? null : isNaN(parseInt(t[2], 10)) ? null : nn(W(t[0]), W(t[1]), Number(t[2])) } function en(n) { return N(n) ? [] : L("|", n) } function rn() { var n = R(tn, en(md(Vs))), t = Math.ceil(I() / 1e3), e = function (n) { return i(n) && t <= n.expires }; return M(function (n, t) { return n[t.name] = t, n }, {}, d(e, n)) } function on(n) { var t = rn(), e = t[n]; return i(e) ? e.value : "" } function un(n) { return [X(n.name), X(n.value), n.expires].join("#") } function cn(n) { return n.expires } function an(n) { var t = R(cn, n); return Math.max.apply(null, t) } function fn(n, t) { var e = O(n), r = Math.abs(1e3 * an(e) - I()), i = R(un, e).join("|"), o = new Date(I() + r); gd(Vs, i, { domain: t, expires: o }) } function sn(n) { var t = n.name, e = n.value, r = n.expires, i = n.domain, o = rn(); o[t] = nn(t, e, Math.ceil(r + I() / 1e3)), fn(o, i) } function ln(n) { return ua(md(n)) } function dn(n, t) { var e = n.location, r = e.search, i = Td(r); return ua(i[t]) } function hn(n, t) { var e = n.referrer, r = Q(e), i = r.queryKey; return !a(i) && ua(i[t]) } function pn(n, t, e) { return ln(e) || dn(n, e) || hn(t, e) } function vn() { var n = K(), t = n[ml]; gd(af, ff, { domain: t }); var e = md(af) === ff; return yd(af), e } function mn() { return pn(ha, pa, uf) } function gn() { var n = K(), t = n[zs]; return n[hl] ? t && !mn() : t && vn() && !mn() } function yn() { return pn(ha, pa, of) } function bn() { return pn(ha, pa, cf) } function xn(n, t) { var e = n.console; return !a(e) && o(e[t]) } function En(n, t) { var e = n.console; xn(n, "warn") && e.warn.apply(e, [jd].concat(t)) } function wn(n, t) { var e = n.console; xn(n, "debug") && yn() && e.debug.apply(e, [jd].concat(t)) } function Cn() { for (var n = arguments.length, t = Array(n), e = 0; e < n; e++)t[e] = arguments[e]; En(ha, t) } function Sn() { for (var n = arguments.length, t = Array(n), e = 0; e < n; e++)t[e] = arguments[e]; wn(ha, t) } function On(n) { return M(function (t, e) { return t[e] = n[e], t }, {}, _d) } function Tn(n, t, e) { var r = n[nd] || []; if (e) { var i = r.push; r[Qs] = Dd, r[Xl] = On(t), r[Yl] = [], r[Ql] = [], r.push = function (n) { r[Ql].push(n), i.call(this, n) } } n[nd] = r } function kn(n, t, e, r) { if (t) { var i = {}; i[id] = I(), n[nd][e].push(qc(i, r)) } } function Nn() { Tn(ha, K(), yn()) } function An(n, t) { kn(ha, yn(), n, t) } function jn() { var n = {}; return n[Es] = !0, n } function Dn(n) { var t = {}; return t[Es] = !1, t[ys] = n, t } function _n(n) { return N(n) ? Dn(_f) : n.length > sf ? Dn(Rf) : jn() } function Rn(n) { if (!i(n)) return Dn(Df); var t = n[Cs], e = _n(t); return e[Es] ? o(n[ws]) ? o(n[ys]) ? jn() : Dn(If) : Dn(Pf) : e } function Pn(n) { if (!i(n)) return Dn(Df); var t = n[Cs], e = _n(t); if (!e[Es]) return e; var r = n[Ss]; return Bc(r) ? jn() : Dn(Mf) } function In(n) { if (!i(n)) return Dn(Df); var t = n[Cs], e = _n(t); return e[Es] ? jn() : e } function Mn(n, t) { if (!i(n)) return Dn(Df); var e = n[Os]; if (N(e)) return Dn(qf); var r = L(".", e); if (!T(d(function (n) { return !lf.test(n) }, r))) return Dn(Lf); var u = n[Ts]; return !Bc(u) || T(u) ? Dn(Uf) : T(d(function (n) { return a(t[n]) }, u)) ? o(n[ks]) ? jn() : Dn(Ff) : Dn($f) } function qn(n, t) { sn({ name: Hl, value: n, expires: t[il], domain: t[ml] }) } function Ln(n) { var t = K(); t[hl] || qn(n, t) } function Un() { var n = K(); return n[hl] ? Rd : (N(on(Hl)) && qn(Rd, n), on(Hl)) } function Fn(n) { var t = K(); t[hl] || sn({ name: $l, value: n, expires: t[rl], domain: t[ml] }) } function $n() { return K()[hl] ? "" : on($l) } function Bn(n) { var t = Pd.exec(n); return T(t) || 2 !== t.length ? "" : t[1] } function Hn() { if (!K()[cl]) return ""; var n = md(Bl); return N(n) ? "" : n } function Vn(n) { var t = K(); if (t[cl]) { var e = md(Bl); if (!ua(e)) { var r = Bn(n); if (!N(r)) { var i = new Date(I() + t[al]); gd(Bl, r, { domain: t[ml], expires: i }) } } } } function zn(n) { return n[va] === Xa } function Zn(n, t) { var e = n(), r = t(), i = {}; return i.sessionId = e, ua(r) ? (i.deviceId = r, i) : i } function Gn(n, t, e, r) { var i = new n.CustomEvent(e, { detail: r }); t.dispatchEvent(i) } function Kn(n) { return !T(n) && !T(d(zn, n)) } function Jn() { Gn(ha, pa, Id, { type: Id }) } function Wn(n) { var t = { type: Md, mbox: n.mbox, tracking: Zn(Un, $n) }; Gn(ha, pa, Md, t) } function Xn(n, t) { var e = n.responseTokens, r = { type: qd, mbox: n.mbox, redirect: Kn(t), tracking: Zn(Un, $n) }; T(e) || (r.responseTokens = e), Gn(ha, pa, qd, r) } function Yn(n) { Gn(ha, pa, Ld, { type: Ld, mbox: n.mbox, message: n.message, tracking: Zn(Un, $n) }) } function Qn(n) { var t = { type: Ud, mbox: n.mbox, tracking: Zn(Un, $n) }; Gn(ha, pa, Ud, t) } function nt(n) { Gn(ha, pa, Fd, { type: Fd, mbox: n.mbox, tracking: Zn(Un, $n) }) } function tt(n) { Gn(ha, pa, $d, { type: $d, mbox: n.mbox, message: n.message, actions: n.actions, tracking: Zn(Un, $n) }) } function et(n) { var t = { type: Bd, mbox: n.mbox, tracking: Zn(Un, $n) }; Gn(ha, pa, Bd, t) } function rt(n) { var t = { type: Hd, mbox: n.mbox, url: n.url, tracking: Zn(Un, $n) }; Gn(ha, pa, Hd, t) } function it(n) { return new zd(n) } function ot(n) { return zd.resolve(n) } function ut(n) { return zd.reject(n) } function ct(n) { return Bc(n) ? zd.race(n) : ut(new TypeError(Zd)) } function at(n) { return Bc(n) ? zd.all(n) : ut(new TypeError(Zd)) } function ft(n, t, e) { var r = -1; return ct([n, it(function (n, i) { r = u(function () { return i(new Error(e)) }, t) })]).then(function (n) { return c(r), n }, function (n) { throw c(r), n }) } function st(n) { throw new Error(n) } function lt(n) { var t = n[Yd] || Wd, e = n[Qd] || st(Jd), r = n[nh] || {}, i = n[th] || null, o = n[eh] || !1, u = n[rh] || 3e3, c = !!a(n[ih]) || !0 === n[ih], f = {}; return f[Yd] = t, f[Qd] = e, f[nh] = r, f[th] = i, f[eh] = o, f[rh] = u, f[ih] = c, f } function dt(n, t, e, r) { return n.onload = function () { var i = 1223 === n.status ? 204 : n.status; if (i < 100 || i > 599) return r[ys] = Gd, An(Yl, r), void e(new Error(Gd)); var o = n.responseText, u = n.getAllResponseHeaders(), c = { status: i, headers: u, response: o }; r[Rs] = c, An(Yl, r), t(c) }, n } function ht(n, t, e) { return n.onerror = function () { e[ys] = Gd, An(Yl, e), t(new Error(Gd)) }, n } function pt(n, t, e, r) { return n.timeout = t, n.ontimeout = function () { r[ys] = Kd, An(Yl, r), e(new Error(Kd)) }, n } function vt(n, t) { return !0 === t && (n.withCredentials = t), n } function mt(n, t) { return m(function (t, e) { m(function (t) { return n.setRequestHeader(e, t) }, t) }, t), n } function gt(n, t) { var e = {}, r = lt(t), i = r[Yd], o = r[Qd], u = r[nh], c = r[th], a = r[eh], f = r[rh], s = r[ih]; return e[Ps] = r, it(function (t, r) { var l = new n.XMLHttpRequest; l = dt(l, t, r, e), l = ht(l, r, e), l.open(i, o, s), l = vt(l, a), l = mt(l, u), s && (l = pt(l, f, r, e)), l.send(c) }) } function yt(n) { return gt(ha, n) } function bt(n, t) { var e = t.sessionId; return ua(e) && n(e), t } function xt(n, t) { var e = t.tntId; return ua(e) && n(e), t } function Et(n, t) { var e = t.tntId; return ua(e) && n(e), t } function wt(n, t) { n[nd].push(t) } function Ct(n, t) { var e = t.trace; return i(e) && wt(n, e), t } function St(n) { var t = n[ys]; if (ua(t)) { var e = {}; throw e[Ns] = ys, e[ys] = t, e } return n } function Ot(n) { var t = n.message; return N(t) ? ah : t } function Tt(n) { var t = n.duration; return _(t) ? t : ch } function kt(n, t, e) { var r = n[ml], i = Ot(e), o = new Date(I() + Tt(e)); t(oh, i, { domain: r, expires: o }) } function Nt(n, t, e) { var r = e.disabled; if (i(r)) { var o = {}; throw o[Ns] = uh, o[ys] = Ot(r), kt(n, t, r), o } return e } function At(n) { return ua(n[gf]) } function jt(n) { return i(n[mf]) || Bc(n[mf]) } function Dt(n) { return ua(n[Xa]) } function _t(n) { return Bc(n[js]) && !T(n[js]) } function Rt(n) { return i(n[Is]) && ua(n[Is][_a]) } function Pt(n) { return a(n[gf]) && a(n[Xa]) && a(n[js]) && a(n[Is]) } function It(n) { return ua(n[qs]) } function Mt(n) { return Bc(n[Ms]) && !T(n[Ms]) } function qt(n) { if (It(n)) { var t = {}; return t[va] = Qa, t[ya] = n[qs], [t] } return [] } function Lt(n) { return Mt(n) ? [n.html].concat(n.plugins) : [n.html] } function Ut(n) { var t = d(At, n); if (T(t)) return ot([]); var e = p(R(qt, n)), r = {}; return r[va] = Fa, r[ba] = p(R(Lt, t)).join(""), ot([r].concat(e)) } function Ft(n) { return n[mf] } function $t(n) { return M(function (n, t) { return n.push(Ft(t)), n }, [], n) } function Bt(n) { var t = d(jt, n); if (T(t)) return ot([]); var e = {}; return e[va] = Ba, e[ba] = $t(t), ot([e]) } function Ht(n, t) { return ot([n({ action: Xa, url: t[Xa] })]) } function Vt(n) { return { action: Ja, content: n } } function zt(n) { return Mt(n) ? R(Vt, n.plugins) : [] } function Zt(n) { var t = n[qa]; if (N(t)) return ""; var e = fh.exec(t); return T(e) || 2 !== e.length ? "" : e[1] } function Gt(n, t) { var e = document.createElement(Nf); e.innerHTML = t; var r = e.firstElementChild; return a(r) ? t : (r.id = n, r.outerHTML) } function Kt(n) { var t = n[ba], e = Zt(n); if (N(e) || N(t)) return n; var r = n[qa]; return n[qa] = r.replace(sh, ""), n[ba] = Gt(e, t), n } function Jt(n) { var t = n[ga]; return N(t) ? n : (n[ba] = "<" + kf + " " + xf + '="' + t + '" />', n) } function Wt(n) { var t = Kt(n); if (!y(t[ba])) return Sn(Jf, t), null; var e = n[xa]; return bf === e && (n[va] = $a), n } function Xt(n) { var t = Kt(n); return y(t[ba]) ? t : (Sn(Jf, t), null) } function Yt(n) { var t = Kt(n); return y(t[ba]) ? t : (Sn(Jf, t), null) } function Qt(n) { var t = Kt(n); return y(t[ba]) ? t : (Sn(Jf, t), null) } function ne(n) { var t = Kt(Jt(n)); return y(t[ba]) ? t : (Sn(Jf, t), null) } function te(n) { var t = Kt(Jt(n)); return y(t[ba]) ? t : (Sn(Jf, t), null) } function ee(n) { return y(n[ba]) ? n : (Sn(Jf, n), null) } function re(n) { var t = n[ma], e = n[ga]; return N(t) || N(e) ? (Sn(Wf, n), null) : n } function ie(n) { var t = n[Ia], e = n[ga]; if (N(t) || N(e)) return Sn(Xf, n), null; var r = {}; return r[t] = e, n[Ua] = r, n } function oe(n) { var t = n[Ea], e = n[wa]; if (N(t) || N(e)) return Sn(Yf, n), null; var r = {}; return r[Ca] = t, r[Sa] = e, n[va] = Va, n[Ua] = r, n } function ue(n) { var t = Number(n[Oa]), e = Number(n[Ta]); if (isNaN(t) || isNaN(e)) return Sn(Qf, n), null; var r = n[Aa], i = {}; return i[ka] = t, i[Na] = e, ua(r) && (i[Aa] = r), n[va] = Va, n[Ua] = i, n } function ce(n) { var t = Number(n[ja]), e = Number(n[Da]); return isNaN(t) || isNaN(e) ? (Sn(ns, n), null) : n } function ae(n, t) { return n(t) } function fe(n) { return N(n[ya]) ? (Sn(es, n), null) : n } function se(n, t) { switch (t[va]) { case Fa: return Wt(t); case Wa: return Xt(t); case ef: return Yt(t); case rf: return Qt(t); case nf: return ne(t); case tf: return te(t); case Ja: return ee(t); case Ha: return re(t); case Va: return ie(t); case Za: return oe(t); case Ga: return ue(t); case Ka: return t; case za: return ce(t); case Xa: return ae(n, t); case Ya: return fe(t); default: return null } } function le(n, t) { return d(function (n) { return !a(n) }, R(function (t) { return se(n, t) }, t)) } function de(n, t) { return ot([].concat(le(n, t.actions), zt(t))) } function he(n) { var t = n.queryKey, e = t[lh]; if (!y(e)) return t; if (N(e)) return t; var r = Math.round(I() / 1e3); return t[lh] = e.replace(/\|TS=\d+/, "|TS=" + r), t } function pe(n, t) { var e = Q(n), r = e.protocol, i = e.host, o = e.path, u = "" === e.port ? "" : ":" + e.port, c = N(e.anchor) ? "" : "#" + e.anchor, a = he(e), f = Ad(qc({}, a, t)); return r + "://" + i + u + o + (N(f) ? "" : "?" + f) + c } function ve(n) { var t = {}; return m(function (n) { a(t[n.type]) && (t[n.type] = {}), t[n.type][n.name] = n.defaultValue }, n[As]), t } function me(n) { return a(n[Ps]) ? {} : n[Ps] } function ge(n) { return -1 !== n.indexOf(Cs) } function ye(n) { var t = {}; return a(n[Cs]) ? t : (m(function (n, e) { ge(e) || (t[e] = n) }, n[Cs]), t) } function be(n, t) { m(function (e, r) { var i = t[r]; a(i) || (n[r] = i) }, n) } function xe(n, t, e, r) { return be(n, t), be(e, r), qc({}, n, e) } function Ee(n, t, e) { var r = {}; return r[Yd] = Wd, r[Qd] = pe(n, t), r[rh] = e, r } function we(n) { return n >= 200 && n < 300 || 304 === n } function Ce(n, t) { if (!we(n[Ns])) return []; var e = n[Rs]; if (N(e)) return []; var r = {}; return r[va] = Fa, r[ba] = e, [r].concat(qt(t), zt(t)) } function Se(n, t, e, r) { var i = r[Is], o = ve(i), u = me(o), c = ye(o), a = Td(n.location.search), f = e[As], s = i[Qd], l = xe(u, a, c, f), d = e[rh], h = function (n) { return Ce(n, r) }; return t(Ee(s, l, d)).then(h)['catch'](function () { return [] }) } function Oe(n) { return ot([].concat(qt(n), zt(n))) } function Te(n, t, e, r, i) { var o = []; return m(function (i) { return Dt(i) ? void o.push(Ht(e, i)) : _t(i) ? void o.push(de(e, i)) : Rt(i) ? void o.push(Se(n, t, r, i)) : void (Pt(i) && o.push(Oe(i))) }, i), o.concat(Ut(i), Bt(i)) } function ke(n) { var t = []; return m(function (n) { var e = n[Ds]; i(e) && t.push(e) }, n), t } function Ne(n, t) { m(function (n) { n.id = F() }, n); var e = {}; return e[js] = n, e[Ds] = t, e } function Ae(n, t, e, r, i) { var o = i[Ls]; if (!Bc(o)) return ot(Ne([], [])); var u = Te(n, t, e, r, o), c = ke(o), a = function (n) { return Ne(p(n), c) }; return at(u).then(a) } function je(n, t, e) { var r = e[_a]; if (N(r)) return Sn(ts, e), null; var i = String(e[Ra]) === hh, o = String(e[Pa]) === hh, u = {}; return i && (u = qc(u, Td(n.location.search))), o && (u[dh] = t()), e[_a] = pe(r, u), e } function De(n) { return !T(n) && 2 === n.length && ua(n[0]) } function _e(n) { var t = n.indexOf("="); return -1 === t ? [] : [n.substr(0, t), n.substr(t + 1)] } function Re(n, t, e, r) { m(function (n, o) { i(n) ? (t.push(o), Re(n, t, e, r), t.pop()) : T(t) ? e[r(o)] = n : e[r(t.concat(o).join("."))] = n }, n) } function Pe(n) { return d(function (n, t) { return ua(t) }, Td(n)) } function Ie(n) { var t = M(function (n, t) { return n.push(_e(t)), n }, [], d(ua, n)); return M(function (n, t) { return n[W(k(t[0]))] = W(k(t[1])), n }, {}, d(De, t)) } function Me(n, t) { var e = {}; return a(t) ? Re(n, [], e, f) : Re(n, [], e, t), e } function qe(n) { if (!o(n)) return {}; var t = null; try { t = n() } catch (n) { return {} } return a(t) ? {} : Bc(t) ? Ie(t) : y(t) && ua(t) ? Pe(t) : i(t) ? Me(t) : {} } function Le() { var n = ha.devicePixelRatio; if (!a(n)) return n; n = 1; var t = ha.screen, e = t.systemXDPI, r = t.logicalXDPI; return !a(e) && !a(r) && e > r && (n = e / r), n } function Ue() { var n = ha.screen, t = n.orientation, e = n.width, r = n.height; if (a(t)) return e > r ? "landscape" : "portrait"; if (a(t.type)) return null; var i = L("-", t.type); if (T(i)) return null; var o = i[0]; return a(o) ? null : o } function Fe() { return ph } function $e() { var n = ha.screen, t = pa.documentElement, e = {}; e[xl] = t.clientHeight, e[El] = t.clientWidth, e[wl] = -(new Date).getTimezoneOffset(), e[Cl] = n.height, e[Sl] = n.width, e[Tl] = n.colorDepth, e[kl] = Le(); var r = Ue(); a(r) || (e[Ol] = r); var i = Fe(); return a(i) || (e[Nl] = i), e } function Be() { return vh } function He() { var n = new Date; return n.getTime() - 6e4 * n.getTimezoneOffset() } function Ve() { var n = K(), t = ha.location, e = {}; return e[jl] = Un(), n[hl] || (e[Dl] = $n()), e[_l] = Be(), e[Rl] = F(), e[Pl] = n[Qs], e[Il] = mh, e[Ml] = He(), e[ql] = t.hostname, e[Ll] = t.href, e[Ul] = pa.referrer, n[pl] && (e[Fl] = n[Js]), mh += 1, e } function ze(n) { return qc({}, n, qe(ha.targetPageParamsAll)) } function Ze(n) { return qc({}, n, qe(ha.targetPageParams)) } function Ge(n) { var t = K(), e = t[Xs], r = t[gl], i = t[yl]; return e !== n ? ze(r || {}) : qc(ze(r || {}), Ze(i || {})) } function Ke(n, t) { var e = {}; e[Al] = n; var r = Ie(t), i = Ve(), o = $e(), u = Ge(n); return qc({}, e, r, i, o, u) } function Je() { var n = K(), t = n[Xs], e = {}; e[Al] = t; var r = Ve(), i = $e(), o = Ge(t); return qc({}, e, r, i, o) } function We(n, t, e) { if (N(t)) return null; if (a(n[gh])) return null; if (!o(n[gh][yh])) return null; var r = n[gh][yh](t, { sdidParamExpiry: e }); return i(r) && o(r[bh]) && r[bh]() ? r : null } function Xe(n) { return "" + $h + n } function Ye(n) { if (!o(n[Lh])) return {}; var t = n[Lh](); return i(t) ? Me(t, Xe) : {} } function Qe(n) { var t = {}; return ua(n[Uh]) && (t[Bh] = n[Uh]), ua(n[Fh]) && (t[Hh] = n[Fh]), t } function nr(n, t) { var e = {}; return o(n[qh]) ? (e[Mh] = n[qh](Cs + ":" + t), e) : {} } function tr(n, t) { if (a(n)) return {}; var e = Ye(n), r = Qe(n), i = nr(n, t); return qc({}, i, r, e) } function er(n) { var t = {}, e = n[jh], r = n[Ah], i = n[kh], o = n[Nh]; return ua(e) && (t[Ih] = e), ua(r) && (t[_h] = r), ua(i) && (t[Rh] = i), isNaN(parseInt(o, 10)) || (t[Ph] = o), t } function rr(n) { return M(function (n, t) { return qc(n, t) }, {}, n) } function ir(n, t, e) { return e && o(t[Oh]) && !a(n[gh][Th]) } function or(n, t) { var e = {}; return e[n] = t, e } function ur(n, t, e) { return ir(n, t, e) ? it(function (e) { t[Oh](function (n) { return e(or(Dh, n)) }, n[gh][Th].GLOBAL, !0) }) : ot(or(Dh, !1)) } function cr(n, t, e) { return o(n[t]) ? it(function (r) { n[t](function (n) { return r(or(e, n)) }, !0) }) : ot({}) } function ar(n, t, e) { return at([cr(t, Eh, jh), cr(t, wh, kh), cr(t, Ch, Ah), cr(t, Sh, Nh), ur(n, t, e)]).then(rr) } function fr(n) { return Sn(zh, n), {} } function sr(n, t, e, r) { return a(t) ? ot({}) : ft(ar(n, t, r), e, Vh)['catch'](fr) } function lr() { return { status: ys, error: xh } } function dr(n, t, e) { return a(n) ? ot({}) : !0 === e[Dh] ? ut(lr()) : ot(qc({}, t, er(e))) } function hr(n, t, e) { if (!ir(n, t, e)) return or(Dh, !1); var r = t[Oh](null, n[gh][Th].GLOBAL); return or(Dh, r) } function pr(n, t, e) { return o(n[t]) ? or(e, n[t]()) : {} } function vr(n, t, e) { return rr([pr(t, Eh, jh), pr(t, wh, kh), pr(t, Ch, Ah), pr(t, Sh, Nh), hr(n, t, e)]) } function mr(n, t, e) { return a(t) ? {} : vr(n, t, e) } function gr(n, t, e) { return a(n) ? {} : !0 === e[Dh] ? {} : qc({}, t, er(e)) } function yr() { var n = K(), t = n[Gs], e = n[ll]; return We(ha, t, e) } function br() { var n = yr(), t = K(), e = t[ul], r = t[fl]; return sr(ha, n, e, r) } function xr() { var n = yr(), t = K(), e = t[fl]; return mr(ha, n, e) } function Er(n) { var t = yr(), e = tr(t, n), r = function (n) { return dr(t, e, n) }; return br().then(r) } function wr(n) { var t = yr(); return gr(t, tr(t, n), xr()) } function Cr(n, t) { Zh[n] = t } function Sr(n) { return Zh[n] } function Or(n) { var t = n[td]; if (a(t)) return !1; var e = t[rd]; return !(!Bc(e) || T(e)) } function Tr(n) { var t = n[Os]; if (!y(t) || T(t)) return !1; var e = n[Qs]; if (!y(e) || T(e)) return !1; var r = n[Ws]; return !(!a(r) && !_(r)) && !!o(n[Us]) } function kr(n) { return it(function (t, e) { n(function (n, r) { if (!a(n)) return void e(n); t(r) }) }) } function Nr(n, t, e, r, i, o) { var u = {}; u[n] = t, u[e] = r, u[i] = o; var c = {}; return c[ed] = u, c } function Ar(n) { var t = n[Os], e = n[Qs], r = n[Ws] || Jh; return ft(kr(n[Us]), r, Kh).then(function (n) { var r = Nr(Os, t, Qs, e, As, n); return Sn(Gh, ws, r), An(Yl, r), n })['catch'](function (n) { var r = Nr(Os, t, Qs, e, ys, n); return Sn(Gh, ys, r), An(Yl, r), {} }) } function jr(n) { var t = M(function (n, t) { return qc(n, t) }, {}, n); return Cr(rd, t), t } function Dr(n) { return Or(n) ? at(R(Ar, d(Tr, n[td][rd]))).then(jr) : ot({}) } function _r() { var n = Sr(rd); return a(n) ? {} : n } function Rr() { return Dr(ha) } function Pr() { return _r(ha) } function Ir(n, t, e, r) { if (!r) return e; var i = n(); return N(i) ? e : e.replace(t, "" + Wh + i) } function Mr(n) { return Yh.replace(Xh, n) } function qr(n, t) { var e = n[Zs], r = n[Ks], i = n[cl]; return [n[vl], Qh, Ir(t, e, r, i), Mr(e)].join("") } function Lr(n, t, e, r) { var i = qc({}, r[As], e), o = {}; return o[Qd] = qr(n, t), o[th] = Ad(i), o[rh] = r[rh], o } function Ur(n) { return qc({}, n[0], n[1]) } function Fr(n, t) { var e = t[Cs], r = function (e) { return Lr(n, Hn, Ur(e), t) }; return at([Er(e), Rr()]).then(r) } function $r(n, t) { return Lr(n, Hn, Ur([wr(t[Cs]), Pr()]), t) } function Br(n) { return n >= 200 && n < 300 || 304 === n } function Hr(n) { var t = {}; return t[Ns] = ys, t[ys] = n, t } function Vr(n, t, e, r, i, o) { return v([function (n) { return bt(Ln, n) }, function (n) { return xt(Fn, n) }, function (n) { return Et(Vn, n) }, function (n) { return Ct(t, n) }, St, function (t) { return Nt(n, gd, t) }, function (n) { return Ae(t, e, r, i, n) }])(o) } function zr() { var n = {}; return n[od] = [ud], n } function Zr(n, t) { var e = n[hl], r = n[bl], i = t[Qd], o = t[th], u = i + "?" + o, c = {}; return c[eh] = !0, c[Yd] = Wd, c[rh] = t[rh], c[Qd] = u, e ? c : u.length > r ? (c[Yd] = Xd, c[Qd] = i, c[nh] = zr(), c[th] = o, c) : c } function Gr(n) { if (!Br(n[Ns])) return Hr(gs); try { return JSON.parse(n[Rs]) } catch (n) { return Hr(n.message || np) } } function Kr(n, t, e, r) { var i = function (n) { return Zr(t, n) }, o = function (t) { return je(n, Un, t) }, u = function (i) { return Vr(t, n, e, o, r, Gr(i)) }; return Fr(t, r).then(i).then(e).then(u) } function Jr(n) { var t = K(); return Kr(ha, t, yt, n) } function Wr(n) { return $r(K(), n) } function Xr(n, t) { var e = t[Ws]; return _(e) ? e <= 0 ? n[Ws] : e : n[Ws] } function Yr(n) { return i(n) && ua(n[ys]) ? n[ys] : i(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function Qr(n, t) { var e = t[Cs], r = i(t[As]) ? t[As] : {}, o = {}; return o[Cs] = e, o[As] = qc({}, Ke(e), r), o[Ws] = Xr(n, t), o } function ni(n, t, e) { var r = e[js], i = {}; i[Cs] = t[Cs], i[Ds] = e[Ds], Sn(tp, Vf, r), t[ws](r), n(i, r) } function ti(n, t, e) { var r = e[Ns] || xs, i = Yr(e), o = {}; o[Cs] = t[Cs], o[_s] = i, Cn(tp, zf, e), t[ys](r, i), n(o) } function ei(n, t, e, r, i, o, c, a) { var f = t(a), s = f[ys]; if (!f[Es]) return void Cn(tp, s); if (!n()) return u(a[ys](bs, Af)), void Cn(Af); var l = {}; l[Cs] = a[Cs]; var d = function (n) { return ni(i, a, n) }, h = function (n) { return ti(o, a, n) }; r(l), e(Qr(c, a)).then(d)['catch'](h) } function ri(n) { ei(gn, Rn, Jr, Wn, Xn, Yn, K(), n) } function ii(n) { var t = n.charAt(0), e = n.charAt(1), r = n.charAt(2), i = { key: n }; return i.val = "-" === e ? "" + t + e + "\\3" + r + " " : t + "\\3" + e + " ", i } function oi(n) { var t = n.match(up); if (T(t)) return n; var e = R(ii, t); return M(function (n, t) { return n.replace(t.key, t.val) }, n, e) } function ui(n) { for (var t = [], e = k(n), r = e.indexOf(rp), i = void 0, o = void 0, u = void 0, c = void 0; -1 !== r;)i = k(e.substring(0, r)), o = k(e.substring(r)), c = o.indexOf(ip), u = k(o.substring(op, c)), e = k(o.substring(c + 1)), r = e.indexOf(rp), i && u && t.push({ sel: i, eq: Number(u) }); return e && t.push({ sel: e }), t } function ci(n) { if (D(n)) return ep(n); if (!y(n)) return ep(n); var t = oi(n); if (-1 === t.indexOf(rp)) return ep(t); var e = ui(t); return M(function (n, t) { var e = t.sel, r = t.eq; return n = n.find(e), _(r) && (n = n.eq(r)), n }, ep(pa), e) } function ai(n) { return ci(n).length > 0 } function fi(n) { return ep("<" + Nf + "/>").append(n) } function si(n) { return ep(n) } function li(n) { return ci(n).prev() } function di(n) { return ci(n).next() } function hi(n) { return ci(n).parent() } function pi(n, t) { return ci(t).is(n) } function vi(n, t) { return ci(t).find(n) } function mi(n) { return ci(n).children() } function gi(n, t, e) { return ci(e).on(n, t) } function yi(n) { return i(n) && ua(n[ys]) ? n[ys] : i(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function bi(n) { return function () { Sn(os, n), n[ws]() } } function xi(n) { return function (t) { var e = t[Ns] || xs, r = yi(t); Cn(us, n, t), n[ys](e, r) } } function Ei(n, t) { var e = t[Cs], r = qc({}, t), u = i(t[As]) ? t[As] : {}, c = n[Ws], a = t[Ws]; return r[As] = qc({}, Ke(e), u), r[Ws] = _(a) && a >= 0 ? a : c, r[ws] = o(t[ws]) ? t[ws] : P, r[ys] = o(t[ys]) ? t[ys] : P, r } function wi(n, t) { var e = bi(t), r = xi(t); n(t).then(e)['catch'](r) } function Ci(n, t) { return wi(n, t), !t.preventDefault } function Si(n, t, e) { var r = e[qa], i = e[Cf], o = O(ci(r)), u = function () { return Ci(n, e) }; m(function (n) { return t(i, u, n) }, o) } function Oi(n) { var t = n[Cf], e = n[qa]; return ua(t) && (ua(e) || D(e)) } function Ti(n, t, e, r, i, o, u) { if (!r()) return void Cn(Af); var c = In(u), a = c[ys]; if (!c[Es]) return void Cn(cp, a); var f = Ei(n, u); if (Oi(f)) return void i(t, e, f); o(t, f) } function ki() { var n = {}; return n[od] = [ud], n } function Ni(n, t) { var e = t[Qd], r = t[th], i = e + "?" + r; return it(function (t, e) { if (n[ap][fp](i)) return void t(); e(sp) }) } function Ai(n) { var t = n[Qd], e = n[th], r = {}; return r[Yd] = Xd, r[Qd] = t + "?" + e, r[eh] = !0, r[ih] = !1, r[nh] = ki(), yt(r) } function ji(n) { return ap in n && fp in n[ap] } function Di(n, t) { var e = Wr(t); return ji(n) ? Ni(n, e) : Ai(e) } function _i(n) { Ti(K(), function (n) { return Di(ha, n) }, gi, gn, Si, wi, n) } function Ri(n) { return ci(n).empty().remove() } function Pi(n, t) { return ci(t).after(n) } function Ii(n, t) { return ci(t).before(n) } function Mi(n, t) { return ci(t).append(n) } function qi(n, t) { return ci(t).prepend(n) } function Li(n, t) { return ci(t).html(n) } function Ui(n) { return ci(n).html() } function Fi(n, t) { return ci(t).text(n) } function $i(n, t) { return ci(t).attr(n) } function Bi(n, t, e) { return ci(e).attr(n, t) } function Hi(n, t) { return ci(t).removeAttr(n) } function Vi(n, t, e) { var r = $i(n, e); ua(r) && (Hi(n, e), Bi(t, r, e)) } function zi(n, t) { return ua($i(n, t)) } function Zi(n) { var t = {}; t[va] = n, An(Yl, t) } function Gi(n, t) { var e = {}; e[va] = n, e[ys] = t, An(Yl, e) } function Ki(n) { return $i(df, n) } function Ji(n) { return zi(df, n) } function Wi(n) { return m(function (n) { return Vi(xf, df, n) }, O(vi(kf, n))), n } function Xi(n) { return m(function (n) { return Vi(df, xf, n) }, O(vi(kf, n))), n } function Yi(n) { return Sn(is, n), $i(xf, Bi(xf, n, si("<" + kf + "/>"))) } function Qi(n) { var t = d(Ji, O(vi(kf, n))); return T(t) ? n : (m(Yi, R(Ki, t)), n) } function no(n) { return v([Wi, Qi, Xi])(n) } function to(n) { var t = $i(xf, n); return ua(t) ? t : null } function eo(n) { return d(ua, R(to, O(vi(yf, n)))) } function ro(n) { return M(function (n, t) { return n.then(function () { return Sn(ms, t), hp(t) }) }, ot(), n) } function io(n) { return Zi(n), n } function oo(n, t) { return Sn(Hf, t), Gi(n, t), n } function uo(n, t) { var e = ci(t[qa]), r = no(fi(t[ba])), i = eo(r), o = void 0; try { o = ot(n(e, r)) } catch (n) { return ut(oo(t, n)) } return T(i) ? o.then(function () { return io(t) })['catch'](function (n) { return oo(t, n) }) : o.then(function () { return ro(i) }).then(function () { return io(t) })['catch'](function (n) { return oo(t, n) }) } function co(n, t) { return Li(Ui(t), n) } function ao(n) { return Sn(Kf, n), uo(co, n) } function fo(n) { var t = ci(n[qa]), e = n[ba]; return Sn(Kf, n), Zi(n), Fi(e, t), ot(n) } function so(n, t) { return Mi(Ui(t), n) } function lo(n) { return Sn(Kf, n), uo(so, n) } function ho(n, t) { return qi(Ui(t), n) } function po(n) { return Sn(Kf, n), uo(ho, n) } function vo(n, t) { var e = hi(n); return Ri(Ii(Ui(t), n)), e } function mo(n) { return Sn(Kf, n), uo(vo, n) } function go(n, t) { return li(Ii(Ui(t), n)) } function yo(n) { return Sn(Kf, n), uo(go, n) } function bo(n, t) { return di(Pi(Ui(t), n)) } function xo(n) { return Sn(Kf, n), uo(bo, n) } function Eo(n, t) { return hi(Ii(Ui(t), n)) } function wo(n) { return Sn(Kf, n), uo(Eo, n) } function Co(n, t) { return xf === t && pi(kf, n) } function So(n, t) { Hi(xf, n), Bi(xf, Yi(t), n) } function Oo(n) { var t = n[ma], e = n[ga], r = ci(n[qa]); return Sn(Kf, n), Zi(n), Co(r, t) ? So(r, e) : Bi(t, e, r), ot(n) } function To(n, t) { return ci(t).addClass(n) } function ko(n, t) { return ci(t).removeClass(n) } function No(n, t) { return ci(t).hasClass(n) } function Ao(n, t) { return ci(t).css(n) } function jo(n, t, e) { m(function (n) { m(function (t, r) { return n.style.setProperty(r, t, e) }, t) }, O(n)) } function Do(n) { var t = ci(n[qa]), e = n[Ma]; return Sn(Kf, n), Zi(n), N(e) ? Ao(n[Ua], t) : jo(t, n[Ua], e), ot(n) } function _o(n) { var t = ci(n[qa]); return Sn(Kf, n), Zi(n), Ri(t), ot(n) } function Ro(n) { var t = n[ja], e = n[Da], r = ci(n[qa]), i = O(mi(r)), o = i[t], u = i[e]; return ai(o) && ai(u) ? (Sn(Kf, n), Zi(n), t < e ? Pi(o, u) : Ii(o, u), ot(n)) : (Sn(rs, n), Gi(n, rs), ot(n)) } function Po(n, t) { return Sn(Kf, t), Zi(t), n(pp, t), ot(t) } function Io(n, t) { return Sn(Kf, t), Zi(t), n(vp, t), ot(t) } function Mo(n) { var t = fi(n); return M(function (n, t) { return n.push(Ui(fi(t))), n }, [], O(vi(mp, t))).join("") } function qo(n) { var t = qc({}, n), e = t[ba]; if (N(e)) return t; var r = ci(t[qa]); return pi(Of, r) ? (t[va] = Wa, t[ba] = Mo(e), t) : t } function Lo(n, t) { var e = t[_a]; Sn(Kf, t), n.location.replace(e) } function Uo(n, t) { var e = qo(t); switch (e[va]) { case Fa: return ao(e); case $a: return fo(e); case Wa: return lo(e); case ef: return po(e); case rf: return mo(e); case nf: return yo(e); case tf: return xo(e); case Ja: return wo(e); case Ha: return Oo(e); case Va: return Do(e); case Ka: return _o(e); case za: return Ro(e); case Ya: return Po(n, e); case Qa: return Io(n, e); default: return ot(e) } } function Fo() { } function $o(n, t, e) { n.emit(t, e) } function Bo(n, t, e) { n.on(t, e) } function Ho(n, t, e) { n.once(t, e) } function Vo(n, t) { n.off(t) } function zo(n, t) { $o(yp, n, t) } function Zo(n, t) { Bo(yp, n, t) } function Go(n, t) { Ho(yp, n, t) } function Ko(n) { Vo(yp, n) } function Jo(n, t) { return "<" + Tf + " " + Ef + '="' + n + '" ' + wf + '="' + $s + '">' + t + "</" + Tf + ">" } function Wo(n, t) { return Jo(bp + b(t), t + " {" + n + "}") } function Xo(n) { if (!0 === n[el] && !ai(Ep)) { var t = n[tl]; Mi(Jo(xp, t), Of) } } function Yo(n) { !0 === n[el] && ai(Ep) && Ri(Tf + "[" + Ef + '="' + xp + '"]') } function Qo(n, t) { if (!T(t)) { var e = n[nl]; Mi(R(function (n) { return Wo(e, n) }, t).join("\n"), Of) } } function nu(n) { var t = "\n." + Fs + " {" + n[nl] + "}\n"; Mi(Jo(wp, t), Of) } function tu() { Xo(K()) } function eu() { Yo(K()) } function ru(n) { Qo(K(), n) } function iu(n) { Ri("#" + (bp + b(n))) } function ou() { nu(K()) } function uu(n, t) { for (var e = 0, r = -1, i = n.length; e < i;) { if (n[e].id === t.id) { r = e; break } e += 1 } -1 !== r && n.splice(r, 1) } function cu(n, t) { return Cp[n] = Cp[n] || {}, Cp[n][t] || [] } function au(n, t, e) { Cp[n] = Cp[n] || {}, Cp[n][t] = e } function fu(n) { delete Cp[n] } function su(n, t, e) { Cp[n] = Cp[n] || {}, Cp[n][t] = Cp[n][t] || [], Cp[n][t].push(e) } function lu(n, t, e) { Cp[n] = Cp[n] || {}, Cp[n][t] = Cp[n][t] || [], uu(Cp[n][t], e) } function du() { m(function (n) { return n() }, Ap) } function hu() { a(jp) && (jp = new Np(du), jp.observe(pa, kp)) } function pu() { return !a(Np) } function vu(n, t) { Ap[n] = t, t(), hu() } function mu(n) { delete Ap[n], a(jp) || T(Ap) && (jp.disconnect(), jp = null) } function gu(n) { if (pa[_p] === Rp) return void ha.requestAnimationFrame(n); u(n, Dp) } function yu() { if (!T(Pp)) { gu(function () { m(function (n) { return n() }, Pp), yu() }) } } function bu(n, t) { Pp[n] = t, t(), yu() } function xu(n) { delete Pp[n] } function Eu(n, t) { if (pu()) return void vu(n, t); bu(n, t) } function wu(n) { if (pu()) return void mu(n); xu(n) } function Cu(n) { ru(d(ua, R(function (n) { return n[La] }, n))) } function Su(n) { To(Bs, ko(Fs, n)) } function Ou(n) { var t = n[qa], e = n[La]; (ua(t) || D(t)) && (Ip(n) ? To(Hs, ko(Fs, t)) : Su(t)), ua(e) && iu(e) } function Tu(n) { m(Ou, n) } function ku(n, t, e) { var r = cu(n, Sp), i = cu(n, Op), o = r.concat(i); if (fu(n), !T(o)) return Tu(o), void e(o); t() } function Nu(n) { var t = cu(n, Sp), e = cu(n, Tp); return T(t) && T(e) } function Au(n, t, e) { var r = zl + "-" + n; Uo(t, e).then(function () { Sn(Gf, e), Ou(e), lu(n, Tp, e), Nu(n) && zo(r) })['catch'](function (t) { Sn(Hf, t), Ou(e), lu(n, Tp, e), su(n, Op, e), Nu(n) && zo(r) }) } function ju(n, t) { u(function () { return zo(Zl + "-" + n) }, t) } function Du(n, t, e, r) { var i = Vl + "-" + n, o = Zl + "-" + n, u = zl + "-" + n; Zo(i, function () { if (Nu(n)) return void zo(u); var e = cu(n, Sp), r = []; m(function (e) { if (ai(e[qa])) return su(n, Tp, e), void Au(n, t, e); r.push(e) }, e), au(n, Sp, r) }), Go(u, function () { wu(n), Ko(i), Ko(o), ku(n, e, r) }), Go(o, function () { wu(n), Ko(i), Ko(u), ku(n, e, r) }), Eu(n, function () { return zo(i) }) } function _u(n, t, e) { var r = K(), i = r[ol], o = F(); return ju(o, i), Cu(e), n(), au(o, Sp, e), it(function (n, e) { return Du(o, t, n, e) }) } function Ru(n) { Lo(ha, n) } function Pu(n, t, e) { return _u(n, t, e) } function Iu(n, t, e) { var r = {}; r[t] = e[ya]; var i = {}; return i[Cs] = n + pf, i[Cf] = Sf, i[qa] = e[qa], i[As] = r, i } function Mu(n) { return ua(n) ? n : D(n) ? n : Of } function qu(n) { To(Bs, ko(Fs, n)) } function Lu(n, t) { a(t[qa]) && (t[qa] = n) } function Uu(n, t) { m(function (t) { return Lu(n, t) }, t) } function Fu(n, t) { var e = {}; return e[Cs] = n, e[_s] = Bf, e[js] = t, e } function $u(n) { var t = {}; return t[ys] = n, t } function Bu(n, t) { var e = Fu(n, t), r = $u(e); Cn(Bf, t), An(Yl, r), tt(e) } function Hu(n) { var t = {}; t[Cs] = n, Sn(Zf), nt(t) } function Vu(n) { return R(function (n) { return qc({}, n) }, n) } function zu(n) { var t = n[Cs], e = Mu(n[qa]), r = Pn(n), i = r[ys]; if (!r[Es]) return Cn(Mp, i), void qu(e); if (!gn()) return Cn(Af), void qu(e); var o = n[Ss], u = {}; if (u[Cs] = t, T(o)) return Sn(Mp, ls), qu(e), zo(Gl, t), void et(u); var c = h(d(qp, o)); if (!a(c)) return u[_a] = c[_a], Sn(Mp, ds), rt(u), void Ru(c); var f = function (n, e) { return _i(Iu(t, n, e)) }, s = function () { return zo(Kl, t) }, l = Vu(o); Uu(e, l), Qn(u), Pu(s, f, l).then(function () { return Hu(t) })['catch'](function (n) { return Bu(t, n) }) }
    function Zu() { return { log: Sn, error: Cn } } function Gu(n) { var t = {}; return t[Zs] = n[Zs], t[Ks] = n[Ks], t[Ws] = n[Ws], t[Xs] = n[Xs], t[Ys] = n[Ys], t } function Ku(n, t, e) { for (var r = L(".", t), i = r.length, o = 0; o < i - 1; o += 1) { var u = r[o]; n[u] = n[u] || {}, n = n[u] } n[r[i - 1]] = e } function Ju(n, t, e, r) { var i = { logger: Zu(), settings: Gu(t) }, o = e(r, i), u = o[ys]; if (!o[Es]) throw new Error(u); var c = n[Lp][Up]; c[Fp] = c[Fp] || {}; var a = r[Os], f = r[Ts], s = r[ks], l = M(function (n, t) { return n.push(i[t]), n }, [], f); Ku(c[Fp], a, s.apply(void 0, l)) } function Wu(n) { Ju(ha, K(), Mn, n) } function Xu(n) { return i(n) && ua(n[ys]) ? n[ys] : !a(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function Yu(n, t) { return To("" + vf + t, Bi(hf, t, n)) } function Qu(n, t, e) { var r = e[js], i = {}; i[Cs] = n, i[Ds] = e[Ds]; var o = {}; o[Cs] = n, o[qa] = t, o[Ss] = r, Sn(as, n), Xn(i, r), zu(o) } function nc(n, t, e) { var r = Xu(e), i = {}; i[Cs] = n, i[_s] = r, Cn(fs, n, e), Yn(i), To(Bs, ko(Fs, t)) } function tc(n, t) { return [].slice.call(n, t) } function ec(n) { return Cs + ":" + n } function rc(n, t) { var e = Sr(n); a(e) ? Cr(ec(n), [t]) : (e.push(t), Cr(ec(n), e)) } function ic(n) { return Sr(ec(n)) } function oc(n, t, e) { var r = K(), i = {}; i[Cs] = n, i[As] = t, i[Ws] = r[Ws]; var o = {}; o[Cs] = n; var u = function (t) { return Qu(n, e, t) }, c = function (t) { return nc(n, e, t) }; Wn(o), Jr(i).then(u)['catch'](c) } function uc(n, t) { if (!D(n)) return Cn(Bp, ps, hs, t), ci(Of); if (pi(Of, hi(n))) return Sn(Bp, vs, t), ci(Of); var e = li(n); return pi(Nf, e) && No(Fs, e) ? e : (Sn(Bp, cs, hs, t), ci(Of)) } function cc(n, t, e) { if (!gn() && !bn()) return void Cn(Af); var r = _n(t), i = r[ys]; if (!r[Es]) return void Cn(Bp, i); var o = uc(n, t), u = Ke(t, e), c = {}; c[Cs] = t, c[As] = u, c[qa] = Yu(o, t), Sn(Bp, t, u, o), rc(t, c), gn() && oc(t, u, o) } function ac(n, t) { var e = ci("#" + n); return ai(e) ? e : (Sn(Hp, cs, hs, t), ci(Of)) } function fc(n, t, e) { if (!gn() && !bn()) return void Cn(Af); if (N(n)) return void Cn(Hp, ss); var r = _n(t), i = r[ys]; if (!r[Es]) return void Cn(Hp, i); var o = ac(n, t), u = Ke(t, e), c = {}; c[Cs] = t, c[As] = u, c[qa] = Yu(o, t), Sn(Hp, t, u, o), rc(t, c) } function sc(n, t) { if (!gn()) return void Cn(Af); var e = _n(n), r = e[ys]; if (!e[Es]) return void Cn(Vp, r); var i = Ie(t); i[_l] = F(); var o = ic(n); Sn(Vp, o), m(function (n) { var t = n[Cs], e = n[As], r = n[qa]; oc(t, qc({}, e, i), r) }, o) } function lc(n) { var t = tc(arguments, 1); $p.skipStackDepth = 2, cc($p(), n, t) } function dc(n, t) { fc(n, t, tc(arguments, 2)) } function hc(n) { sc(n, tc(arguments, 1)) } function pc(n) { n[Gp] = n[Gp] || {}, n[Gp].querySelectorAll = ci } function vc(n, t) { t.addEventListener(Sf, function (t) { o(n[Gp][Kp]) && n[Gp][Kp](t) }, !0) } function mc(n, t, e) { if (bn()) { pc(n); var r = e[dl], i = function () { return vc(n, t) }, o = function () { return Cn(zp) }; Sn(Zp), hp(r).then(i)['catch'](o) } } function gc(n) { return i(n) && ua(n[ys]) ? n[ys] : !a(n) && ua(n[_s]) ? n[_s] : ua(n) ? n : gs } function yc(n, t, e) { var r = e[js], i = {}; i[Cs] = n, i[Ds] = e[Ds]; var o = {}; o[Cs] = n, o[qa] = t, o[Ss] = r, Sn(as, n), Xn(i, r), zu(o) } function bc(n, t) { var e = {}; e[Cs] = n, e[_s] = gc(t), Cn(fs, n, t), Yn(e), zo(Wl, n) } function xc() { var n = K(), t = n[Xs], e = {}; e[Cs] = t, e[As] = Je(), e[Ws] = n[Ws]; var r = function (n) { return yc(t, Of, n) }, i = function (n) { return bc(t, n) }; Sn(as, t); var o = {}; o[Cs] = t, Wn(o), Jr(e).then(r)['catch'](i) } function Ec() { Go(Jl, tu) } function wc(n, t) { Zo(n, function (e) { e === t && (eu(), Ko(n)) }) } function Cc(n) { if (!n[Ys]) return void Sn(Jp, Wp); var t = n[Xs], e = _n(t), r = e[ys]; if (!e[Es]) return void Cn(Jp, r); Ec(), wc(Wl, t), wc(Gl, t), wc(Kl, t), xc() } function Sc(n) { var t = function () { }; n.adobe = n.adobe || {}, n.adobe.target = { VERSION: "", event: {}, getOffer: t, applyOffer: t, trackEvent: t, registerExtension: t, init: t }, n.mboxCreate = t, n.mboxDefine = t, n.mboxUpdate = t } function Oc(n, t, e) { if (n.adobe && n.adobe.target && void 0 !== n.adobe.target.getOffer) return void Cn(jf); G(e); var r = K(), i = r[Qs]; if (n.adobe.target.VERSION = i, n.adobe.target.event = { LIBRARY_LOADED: Id, REQUEST_START: Md, REQUEST_SUCCEEDED: qd, REQUEST_FAILED: Ld, CONTENT_RENDERING_START: Ud, CONTENT_RENDERING_SUCCEEDED: Fd, CONTENT_RENDERING_FAILED: $d, CONTENT_RENDERING_NO_OFFERS: Bd, CONTENT_RENDERING_REDIRECT: Hd }, !r[zs]) return Sc(n), void Cn(Af); mc(n, t, r), gn() && (ou(), Nn(), Cc(r)), n.adobe.target.getOffer = ri, n.adobe.target.trackEvent = _i, n.adobe.target.applyOffer = zu, n.adobe.target.registerExtension = Wu, n.mboxCreate = lc, n.mboxDefine = dc, n.mboxUpdate = hc, zo(Jl), Jn() } var Tc, kc = window, Nc = document, Ac = !Nc.documentMode || Nc.documentMode >= 10, jc = Nc.compatMode && "CSS1Compat" === Nc.compatMode, Dc = jc && Ac, _c = kc.targetGlobalSettings; if (!Dc || _c && !1 === _c.enabled) return kc.adobe = kc.adobe || {}, kc.adobe.target = { VERSION: "", event: {}, getOffer: n, applyOffer: n, trackEvent: n, registerExtension: n, init: n }, kc.mboxCreate = n, kc.mboxDefine = n, kc.mboxUpdate = n, "console" in kc && "warn" in kc.console && kc.console.warn("AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode."), kc.adobe.target;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
    var Rc = Object.getOwnPropertySymbols, Pc = Object.prototype.hasOwnProperty, Ic = Object.prototype.propertyIsEnumerable, Mc = function () { try { if (!Object.assign) return !1; var n = new String("abc"); if (n[5] = "de", "5" === Object.getOwnPropertyNames(n)[0]) return !1; for (var t = {}, e = 0; e < 10; e++)t["_" + String.fromCharCode(e)] = e; if ("0123456789" !== Object.getOwnPropertyNames(t).map(function (n) { return t[n] }).join("")) return !1; var r = {}; return "abcdefghijklmnopqrst".split("").forEach(function (n) { r[n] = n }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("") } catch (n) { return !1 } }() ? Object.assign : function (n, e) { for (var r, i, o = t(n), u = 1; u < arguments.length; u++) { r = Object(arguments[u]); for (var c in r) Pc.call(r, c) && (o[c] = r[c]); if (Rc) { i = Rc(r); for (var a = 0; a < i.length; a++)Ic.call(r, i[a]) && (o[i[a]] = r[i[a]]) } } return o }, qc = Mc, Lc = Object.prototype, Uc = Lc.toString, Fc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) { return typeof n } : function (n) { return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n }, $c = "[object Function]", Bc = Array.isArray, Hc = function (n, t) { return t.forEach(n) }, Vc = function (n, t) { Hc(function (e) { return n(t[e], e) }, l(t)) }, zc = function (n, t) { return t.filter(n) }, Zc = function (n, t) { var e = {}; return Vc(function (t, r) { n(t, r) && (e[r] = t) }, t), e }, Gc = "[object String]", Kc = 9007199254740991, Jc = function (n, t) { return t.map(n) }, Wc = Object.prototype, Xc = Wc.hasOwnProperty, Yc = String.prototype, Qc = Yc.trim, na = "[object Object]", ta = Function.prototype, ea = Object.prototype, ra = ta.toString, ia = ea.hasOwnProperty, oa = ra.call(Object), ua = function (n) { return !N(n) }, ca = "[object Number]", aa = function (n, t) { var e = {}; return Vc(function (t, r) { e[r] = n(t, r) }, t), e }, fa = function (n, t, e) { return e.reduce(n, t) }, sa = function (n, t, e) { var r = t; return Vc(function (t, e) { r = n(r, t, e) }, e), r }, la = Array.prototype, da = la.reverse, ha = window, pa = document, va = "action", ma = "attribute", ga = "value", ya = "clickTrackId", ba = "content", xa = "contentType", Ea = "finalHeight", wa = "finalWidth", Ca = "height", Sa = "width", Oa = "finalLeftPosition", Ta = "finalTopPosition", ka = "left", Na = "top", Aa = "position", ja = "from", Da = "to", _a = "url", Ra = "includeAllUrlParameters", Pa = "passMboxSession", Ia = "property", Ma = "priority", qa = "selector", La = "cssSelector", Ua = "style", Fa = "setContent", $a = "setText", Ba = "setJson", Ha = "setAttribute", Va = "setStyle", za = "rearrange", Za = "resize", Ga = "move", Ka = "remove", Ja = "customCode", Wa = "appendContent", Xa = "redirect", Ya = "trackClick", Qa = "signalClick", nf = "insertBefore", tf = "insertAfter", ef = "prependContent", rf = "replaceContent", of = "mboxDebug", uf = "mboxDisable", cf = "mboxEdit", af = "check", ff = "true", sf = 250, lf = /^[a-zA-Z]+$/, df = "data-at-src", hf = "data-at-mbox-name", pf = "-clicked", vf = "mbox-name-", mf = "json", gf = "html", yf = "script", bf = "text", xf = "src", Ef = "id", wf = "class", Cf = "type", Sf = "click", Of = "head", Tf = "style", kf = "img", Nf = "div", Af = 'Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.', jf = "Adobe Target has already been initialized.", Df = "options argument is required", _f = "mbox option is required", Rf = "mbox option is too long", Pf = "success option is required", If = "error option is required", Mf = "offer option is required", qf = "name option is required", Lf = "name is invalid", Uf = "modules option is required", Ff = "register option is required", $f = "modules do not exists", Bf = "Failed actions", Hf = "Unexpected error", Vf = "actions to be rendered", zf = "request failed", Zf = "All actions rendered successfully", Gf = "Action rendered successfully", Kf = "Rendering action", Jf = "Action has no content", Wf = "Action has no attribute or value", Xf = "Action has no property or value", Yf = "Action has no height or width", Qf = "Action has no left, top or position", ns = "Action has no from or to", ts = "Action has no url", es = "Action has no click track ID", rs = "Rearrange elements are missing", is = "Loading image", os = "Track event request succeeded", us = "Track event request failed", cs = "Mbox container not found", as = "Rendering mbox", fs = "Rendering mbox failed", ss = "ID is missing", ls = "No actions to be rendered", ds = "Redirect action", hs = "default to HEAD", ps = "document.currentScript is missing or not supported", vs = "executing from HTML HEAD", ms = "Script load", gs = "unknown error", ys = "error", bs = "warning", xs = "unknown", Es = "valid", ws = "success", Cs = "mbox", Ss = "offer", Os = "name", Ts = "modules", ks = "register", Ns = "status", As = "params", js = "actions", Ds = "responseTokens", _s = "message", Rs = "response", Ps = "request", Is = "dynamic", Ms = "plugins", qs = "clickToken", Ls = "offers", Us = "provider", Fs = "mboxDefault", $s = "at-flicker-control", Bs = "at-element-marker", Hs = "at-element-click-tracking", Vs = Cs, zs = "enabled", Zs = "clientCode", Gs = "imsOrgId", Ks = "serverDomain", Js = "crossDomain", Ws = "timeout", Xs = "globalMboxName", Ys = "globalMboxAutoCreate", Qs = "version", nl = "defaultContentHiddenStyle", tl = "bodyHiddenStyle", el = "bodyHidingEnabled", rl = "deviceIdLifetime", il = "sessionIdLifetime", ol = "selectorsPollingTimeout", ul = "visitorApiTimeout", cl = "overrideMboxEdgeServer", al = "overrideMboxEdgeServerTimeout", fl = "optoutEnabled", sl = "secureOnly", ll = "supplementalDataIdParamTimeout", dl = "authoringScriptUrl", hl = "crossDomainOnly", pl = "crossDomainEnabled", vl = "scheme", ml = "cookieDomain", gl = "mboxParams", yl = "globalMboxParams", bl = "urlSizeLimit", xl = "browserHeight", El = "browserWidth", wl = "browserTimeOffset", Cl = "screenHeight", Sl = "screenWidth", Ol = "screenOrientation", Tl = "colorDepth", kl = "devicePixelRatio", Nl = "webGLRenderer", Al = Cs, jl = "mboxSession", Dl = "mboxPC", _l = "mboxPage", Rl = "mboxRid", Pl = "mboxVersion", Il = "mboxCount", Ml = "mboxTime", ql = "mboxHost", Ll = "mboxURL", Ul = "mboxReferrer", Fl = "mboxXDomain", $l = "PC", Bl = "mboxEdgeCluster", Hl = "session", Vl = "at-tick", zl = "at-render-complete", Zl = "at-timeout", Gl = "at-no-offers", Kl = "at-selectors-hidden", Jl = "at-library-loaded", Wl = "at-global-mbox-failed", Xl = "settings", Yl = "clientTraces", Ql = "serverTraces", nd = "___target_traces", td = "targetGlobalSettings", ed = "dataProvider", rd = ed + "s", id = "timestamp", od = "Content-Type", ud = "application/x-www-form-urlencoded", cd = /^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/, ad = /^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i, fd = "file:", sd = {}, ld = [zs, Zs, Gs, Ks, ml, Js, Ws, Ys, gl, yl, nl, "defaultContentVisibleStyle", tl, el, ol, ul, cl, al, fl, sl, ll, dl, bl], dd = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, hd = J(function (n, t) { !function (e) { var r = !1; if ("function" == typeof Tc && Tc.amd && (Tc(e), r = !0), "object" === (void 0 === t ? "undefined" : Fc(t)) && (n.exports = e(), r = !0), !r) { var i = window.Cookies, o = window.Cookies = e(); o.noConflict = function () { return window.Cookies = i, o } } }(function () { function n() { for (var n = 0, t = {}; n < arguments.length; n++) { var e = arguments[n]; for (var r in e) t[r] = e[r] } return t } function t(e) { function r(t, i, o) { var u; if ("undefined" != typeof document) { if (arguments.length > 1) { if (o = n({ path: "/" }, r.defaults, o), "number" == typeof o.expires) { var c = new Date; c.setMilliseconds(c.getMilliseconds() + 864e5 * o.expires), o.expires = c } o.expires = o.expires ? o.expires.toUTCString() : ""; try { u = JSON.stringify(i), /^[\{\[]/.test(u) && (i = u) } catch (n) { } i = e.write ? e.write(i, t) : encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)), t = t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), t = t.replace(/[\(\)]/g, escape); var a = ""; for (var f in o) o[f] && (a += "; " + f, !0 !== o[f] && (a += "=" + o[f])); return document.cookie = t + "=" + i + a } t || (u = {}); for (var s = document.cookie ? document.cookie.split("; ") : [], l = /(%[0-9A-Z]{2})+/g, d = 0; d < s.length; d++) { var h = s[d].split("="), p = h.slice(1).join("="); '"' === p.charAt(0) && (p = p.slice(1, -1)); try { var v = h[0].replace(l, decodeURIComponent); if (p = e.read ? e.read(p, v) : e(p, v) || p.replace(l, decodeURIComponent), this.json) try { p = JSON.parse(p) } catch (n) { } if (t === v) { u = p; break } t || (u[v] = p) } catch (n) { } } return u } } return r.set = r, r.get = function (n) { return r.call(r, n) }, r.getJSON = function () { return r.apply({ json: !0 }, [].slice.call(arguments)) }, r.defaults = {}, r.remove = function (t, e) { r(t, "", n(e, { expires: -1 })) }, r.withConverter = t, r } return t(function () { }) }) }), pd = hd, vd = { get: pd.get, set: pd.set, remove: pd.remove }, md = vd.get, gd = vd.set, yd = vd.remove, bd = function (n, t) { t = t || {}; for (var e = { key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], q: { name: "queryKey", parser: /(?:^|&)([^&=]*)=?([^&]*)/g }, parser: { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ } }, r = e.parser[t.strictMode ? "strict" : "loose"].exec(n), i = {}, o = 14; o--;)i[e.key[o]] = r[o] || ""; return i[e.q.name] = {}, i[e.key[12]].replace(e.q.parser, function (n, t, r) { t && (i[e.q.name][t] = r) }), i }, xd = function (n, t, e, r) { t = t || "&", e = e || "="; var i = {}; if ("string" != typeof n || 0 === n.length) return i; var o = /\+/g; n = n.split(t); var u = 1e3; r && "number" == typeof r.maxKeys && (u = r.maxKeys); var c = n.length; u > 0 && c > u && (c = u); for (var a = 0; a < c; ++a) { var f, s, l, d, h = n[a].replace(o, "%20"), p = h.indexOf(e); p >= 0 ? (f = h.substr(0, p), s = h.substr(p + 1)) : (f = h, s = ""), l = decodeURIComponent(f), d = decodeURIComponent(s), Y(i, l) ? Array.isArray(i[l]) ? i[l].push(d) : i[l] = [i[l], d] : i[l] = d } return i }, Ed = function (n) { switch (void 0 === n ? "undefined" : Fc(n)) { case "string": return n; case "boolean": return n ? "true" : "false"; case "number": return isFinite(n) ? n : ""; default: return "" } }, wd = function (n, t, e, r) { return t = t || "&", e = e || "=", null === n && (n = void 0), "object" === (void 0 === n ? "undefined" : Fc(n)) ? Object.keys(n).map(function (r) { var i = encodeURIComponent(Ed(r)) + e; return Array.isArray(n[r]) ? n[r].map(function (n) { return i + encodeURIComponent(Ed(n)) }).join(t) : i + encodeURIComponent(Ed(n[r])) }).join(t) : r ? encodeURIComponent(Ed(r)) + e + encodeURIComponent(Ed(n)) : "" }, Cd = J(function (n, t) { t.decode = t.parse = xd, t.encode = t.stringify = wd }), Sd = (Cd.encode, Cd.stringify, Cd.decode, Cd.parse, Cd), Od = { parse: function (n) { return "string" == typeof n && (n = n.trim().replace(/^[?#&]/, "")), Sd.parse(n) }, stringify: function (n) { return Sd.stringify(n) } }, Td = Od.parse, kd = pa.createElement("a"), Nd = {}, Ad = Od.stringify, jd = "AT:", Dd = "1", _d = [zs, Zs, Gs, Ks, ml, Js, Ws, Ys, gl, yl, nl, "defaultContentVisibleStyle", tl, el, ol, ul, cl, al, fl, sl, ll, dl], Rd = F(), Pd = /.*\.(\d+)_\d+/; !function (n, t) { function e(n, e) { var r = t.createEvent("CustomEvent"); return e = e || { bubbles: !1, cancelable: !1, detail: void 0 }, r.initCustomEvent(n, e.bubbles, e.cancelable, e.detail), r } o(n.CustomEvent) || (e.prototype = n.Event.prototype, n.CustomEvent = e) }(ha, pa); var Id = "at-library-loaded", Md = "at-request-start", qd = "at-request-succeeded", Ld = "at-request-failed", Ud = "at-content-rendering-start", Fd = "at-content-rendering-succeeded", $d = "at-content-rendering-failed", Bd = "at-content-rendering-no-offers", Hd = "at-content-rendering-redirect", Vd = J(function (n) { !function (t) { function e() { } function r(n, t) { return function () { n.apply(t, arguments) } } function i(n) { if ("object" !== Fc(this)) throw new TypeError("Promises must be constructed via new"); if ("function" != typeof n) throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], s(n, this) } function o(n, t) { for (; 3 === n._state;)n = n._value; if (0 === n._state) return void n._deferreds.push(t); n._handled = !0, i._immediateFn(function () { var e = 1 === n._state ? t.onFulfilled : t.onRejected; if (null === e) return void (1 === n._state ? u : c)(t.promise, n._value); var r; try { r = e(n._value) } catch (n) { return void c(t.promise, n) } u(t.promise, r) }) } function u(n, t) { try { if (t === n) throw new TypeError("A promise cannot be resolved with itself."); if (t && ("object" === (void 0 === t ? "undefined" : Fc(t)) || "function" == typeof t)) { var e = t.then; if (t instanceof i) return n._state = 3, n._value = t, void a(n); if ("function" == typeof e) return void s(r(e, t), n) } n._state = 1, n._value = t, a(n) } catch (t) { c(n, t) } } function c(n, t) { n._state = 2, n._value = t, a(n) } function a(n) { 2 === n._state && 0 === n._deferreds.length && i._immediateFn(function () { n._handled || i._unhandledRejectionFn(n._value) }); for (var t = 0, e = n._deferreds.length; t < e; t++)o(n, n._deferreds[t]); n._deferreds = null } function f(n, t, e) { this.onFulfilled = "function" == typeof n ? n : null, this.onRejected = "function" == typeof t ? t : null, this.promise = e } function s(n, t) { var e = !1; try { n(function (n) { e || (e = !0, u(t, n)) }, function (n) { e || (e = !0, c(t, n)) }) } catch (n) { if (e) return; e = !0, c(t, n) } } var l = setTimeout; i.prototype['catch'] = function (n) { return this.then(null, n) }, i.prototype.then = function (n, t) { var r = new this.constructor(e); return o(this, new f(n, t, r)), r }, i.all = function (n) { var t = Array.prototype.slice.call(n); return new i(function (n, e) { function r(o, u) { try { if (u && ("object" === (void 0 === u ? "undefined" : Fc(u)) || "function" == typeof u)) { var c = u.then; if ("function" == typeof c) return void c.call(u, function (n) { r(o, n) }, e) } t[o] = u, 0 == --i && n(t) } catch (n) { e(n) } } if (0 === t.length) return n([]); for (var i = t.length, o = 0; o < t.length; o++)r(o, t[o]) }) }, i.resolve = function (n) { return n && "object" === (void 0 === n ? "undefined" : Fc(n)) && n.constructor === i ? n : new i(function (t) { t(n) }) }, i.reject = function (n) { return new i(function (t, e) { e(n) }) }, i.race = function (n) { return new i(function (t, e) { for (var r = 0, i = n.length; r < i; r++)n[r].then(t, e) }) }, i._immediateFn = "function" == typeof setImmediate && function (n) { setImmediate(n) } || function (n) { l(n, 0) }, i._unhandledRejectionFn = function (n) { "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", n) }, i._setImmediateFn = function (n) { i._immediateFn = n }, i._setUnhandledRejectionFn = function (n) { i._unhandledRejectionFn = n }, void 0 !== n && n.exports ? n.exports = i : t.Promise || (t.Promise = i) }(dd) }), zd = window.Promise || Vd, Zd = "Expected an array of promises", Gd = "Network request failed", Kd = "Request timed out", Jd = "URL is required", Wd = "GET", Xd = "POST", Yd = "method", Qd = "url", nh = "headers", th = "data", eh = "credentials", rh = "timeout", ih = "async", oh = "mboxDisable", uh = "disabled", ch = 864e5, ah = "3rd party cookies disabled", fh = /CLKTRK#(\S+)/, sh = /CLKTRK#(\S+)\s/, lh = "adobe_mc_sdid", dh = "mboxSession", hh = "true", ph = function () { var n = pa.createElement("canvas"), t = n.getContext("webgl") || n.getContext("experimental-webgl"); if (a(t)) return null; var e = t.getExtension("WEBGL_debug_renderer_info"); if (a(e)) return null; var r = t.getParameter(e.UNMASKED_RENDERER_WEBGL); return a(r) ? null : r }(), vh = F(), mh = 1, gh = "Visitor", yh = "getInstance", bh = "isAllowed", xh = "Disabled due to optout", Eh = "getMarketingCloudVisitorID", wh = "getAudienceManagerBlob", Ch = "getAnalyticsVisitorID", Sh = "getAudienceManagerLocationHint", Oh = "isOptedOut", Th = "OptOut", kh = "MCAAMB", Nh = "MCAAMLH", Ah = "MCAID", jh = "MCMID", Dh = "MCOPTOUT", _h = "mboxMCAVID", Rh = "mboxAAMB", Ph = "mboxMCGLH", Ih = "mboxMCGVID", Mh = "mboxMCSDID", qh = "getSupplementalDataID", Lh = "getCustomerIDs", Uh = "trackingServer", Fh = Uh + "Secure", $h = "vst.", Bh = $h + "trk", Hh = $h + "trks", Vh = "Visitor API requests timed out", zh = "Visitor API requests error", Zh = {}, Gh = "Data provider", Kh = "timed out", Jh = 2e3, Wh = "mboxedge", Xh = "<clientCode>", Yh = "/m2/" + Xh + "/mbox/json", Qh = "//", np = "JSON parser error", tp = "[getOffer()]", ep = function (n) {
        var t = function () { function t(n) { return null == n ? String(n) : J[W.call(n)] || "object" } function e(n) { return "function" == t(n) } function r(n) { return null != n && n == n.window } function i(n) { return null != n && n.nodeType == n.DOCUMENT_NODE } function o(n) { return "object" == t(n) } function u(n) { return o(n) && !r(n) && Object.getPrototypeOf(n) == Object.prototype } function c(n) { var t = !!n && "length" in n && n.length, e = O.type(n); return "function" != e && !r(n) && ("array" == e || 0 === t || "number" == typeof t && t > 0 && t - 1 in n) } function a(n) { return D.call(n, function (n) { return null != n }) } function f(n) { return n.length > 0 ? O.fn.concat.apply([], n) : n } function s(n) { return n.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase() } function l(n) { return n in I ? I[n] : I[n] = new RegExp("(^|\\s)" + n + "(\\s|$)") } function d(n, t) { return "number" != typeof t || M[s(n)] ? t : t + "px" } function h(n) { var t, e; return P[n] || (t = R.createElement(n), R.body.appendChild(t), e = getComputedStyle(t, "").getPropertyValue("display"), t.parentNode.removeChild(t), "none" == e && (e = "block"), P[n] = e), P[n] } function p(n) { return "children" in n ? _.call(n.children) : O.map(n.childNodes, function (n) { if (1 == n.nodeType) return n }) } function v(n, t) { var e, r = n ? n.length : 0; for (e = 0; e < r; e++)this[e] = n[e]; this.length = r, this.selector = t || "" } function m(n, t, e) { for (S in t) e && (u(t[S]) || nn(t[S])) ? (u(t[S]) && !u(n[S]) && (n[S] = {}), nn(t[S]) && !nn(n[S]) && (n[S] = []), m(n[S], t[S], e)) : t[S] !== C && (n[S] = t[S]) } function g(n, t) { return null == t ? O(n) : O(n).filter(t) } function y(n, t, r, i) { return e(t) ? t.call(n, r, i) : t } function b(n, t, e) { null == e ? n.removeAttribute(t) : n.setAttribute(t, e) } function x(n, t) { var e = n.className || "", r = e && e.baseVal !== C; if (t === C) return r ? e.baseVal : e; r ? e.baseVal = t : n.className = t } function E(n) { try { return n ? "true" == n || "false" != n && ("null" == n ? null : +n + "" == n ? +n : /^[\[\{]/.test(n) ? O.parseJSON(n) : n) : n } catch (t) { return n } } function w(n, t) { t(n); for (var e = 0, r = n.childNodes.length; e < r; e++)w(n.childNodes[e], t) } var C, S, O, T, k, N, A = [], j = A.concat, D = A.filter, _ = A.slice, R = n.document, P = {}, I = {}, M = { "column-count": 1, columns: 1, "font-weight": 1, "line-height": 1, opacity: 1, "z-index": 1, zoom: 1 }, q = /^\s*<(\w+|!)[^>]*>/, L = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, U = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, F = /^(?:body|html)$/i, $ = /([A-Z])/g, B = ["val", "css", "html", "text", "data", "width", "height", "offset"], H = ["after", "prepend", "before", "append"], V = R.createElement("table"), z = R.createElement("tr"), Z = { tr: R.createElement("tbody"), tbody: V, thead: V, tfoot: V, td: z, th: z, "*": R.createElement("div") }, G = /complete|loaded|interactive/, K = /^[\w-]*$/, J = {}, W = J.toString, X = {}, Y = R.createElement("div"), Q = { tabindex: "tabIndex", readonly: "readOnly", 'for': "htmlFor", 'class': "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable" }, nn = Array.isArray || function (n) { return n instanceof Array }; return X.matches = function (n, t) { if (!t || !n || 1 !== n.nodeType) return !1; var e = n.matches || n.webkitMatchesSelector || n.mozMatchesSelector || n.oMatchesSelector || n.matchesSelector; if (e) return e.call(n, t); var r, i = n.parentNode, o = !i; return o && (i = Y).appendChild(n), r = ~X.qsa(i, t).indexOf(n), o && Y.removeChild(n), r }, k = function (n) { return n.replace(/-+(.)?/g, function (n, t) { return t ? t.toUpperCase() : "" }) }, N = function (n) { return D.call(n, function (t, e) { return n.indexOf(t) == e }) }, X.fragment = function (n, t, e) { var r, i, o; return L.test(n) && (r = O(R.createElement(RegExp.$1))), r || (n.replace && (n = n.replace(U, "<$1></$2>")), t === C && (t = q.test(n) && RegExp.$1), t in Z || (t = "*"), o = Z[t], o.innerHTML = "" + n, r = O.each(_.call(o.childNodes), function () { o.removeChild(this) })), u(e) && (i = O(r), O.each(e, function (n, t) { B.indexOf(n) > -1 ? i[n](t) : i.attr(n, t) })), r }, X.Z = function (n, t) { return new v(n, t) }, X.isZ = function (n) { return n instanceof X.Z }, X.init = function (n, t) { var r; if (!n) return X.Z(); if ("string" == typeof n) if (n = n.trim(), "<" == n[0] && q.test(n)) r = X.fragment(n, RegExp.$1, t), n = null; else { if (t !== C) return O(t).find(n); r = X.qsa(R, n) } else { if (e(n)) return O(R).ready(n); if (X.isZ(n)) return n; if (nn(n)) r = a(n); else if (o(n)) r = [n], n = null; else if (q.test(n)) r = X.fragment(n.trim(), RegExp.$1, t), n = null; else { if (t !== C) return O(t).find(n); r = X.qsa(R, n) } } return X.Z(r, n) }, O = function (n, t) { return X.init(n, t) }, O.extend = function (n) { var t, e = _.call(arguments, 1); return "boolean" == typeof n && (t = n, n = e.shift()), e.forEach(function (e) { m(n, e, t) }), n }, X.qsa = function (n, t) { var e, r = "#" == t[0], i = !r && "." == t[0], o = r || i ? t.slice(1) : t, u = K.test(o); return n.getElementById && u && r ? (e = n.getElementById(o)) ? [e] : [] : 1 !== n.nodeType && 9 !== n.nodeType && 11 !== n.nodeType ? [] : _.call(u && !r && n.getElementsByClassName ? i ? n.getElementsByClassName(o) : n.getElementsByTagName(t) : n.querySelectorAll(t)) }, O.contains = R.documentElement.contains ? function (n, t) { return n !== t && n.contains(t) } : function (n, t) { for (; t && (t = t.parentNode);)if (t === n) return !0; return !1 }, O.type = t, O.isFunction = e, O.isWindow = r, O.isArray = nn, O.isPlainObject = u, O.isEmptyObject = function (n) { var t; for (t in n) return !1; return !0 }, O.isNumeric = function (n) { var t = Number(n), e = void 0 === n ? "undefined" : Fc(n); return null != n && "boolean" != e && ("string" != e || n.length) && !isNaN(t) && isFinite(t) || !1 }, O.inArray = function (n, t, e) { return A.indexOf.call(t, n, e) }, O.camelCase = k, O.trim = function (n) { return null == n ? "" : String.prototype.trim.call(n) }, O.uuid = 0, O.support = {}, O.expr = {}, O.noop = function () { }, O.map = function (n, t) { var e, r, i, o = []; if (c(n)) for (r = 0; r < n.length; r++)null != (e = t(n[r], r)) && o.push(e); else for (i in n) null != (e = t(n[i], i)) && o.push(e); return f(o) }, O.each = function (n, t) { var e, r; if (c(n)) { for (e = 0; e < n.length; e++)if (!1 === t.call(n[e], e, n[e])) return n } else for (r in n) if (!1 === t.call(n[r], r, n[r])) return n; return n }, O.grep = function (n, t) { return D.call(n, t) }, n.JSON && (O.parseJSON = JSON.parse), O.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (n, t) { J["[object " + t + "]"] = t.toLowerCase() }), O.fn = { constructor: X.Z, length: 0, forEach: A.forEach, reduce: A.reduce, push: A.push, sort: A.sort, splice: A.splice, indexOf: A.indexOf, concat: function () { var n, t, e = []; for (n = 0; n < arguments.length; n++)t = arguments[n], e[n] = X.isZ(t) ? t.toArray() : t; return j.apply(X.isZ(this) ? this.toArray() : this, e) }, map: function (n) { return O(O.map(this, function (t, e) { return n.call(t, e, t) })) }, slice: function () { return O(_.apply(this, arguments)) }, ready: function (n) { return G.test(R.readyState) && R.body ? n(O) : R.addEventListener("DOMContentLoaded", function () { n(O) }, !1), this }, get: function (n) { return n === C ? _.call(this) : this[n >= 0 ? n : n + this.length] }, toArray: function () { return this.get() }, size: function () { return this.length }, remove: function () { return this.each(function () { null != this.parentNode && this.parentNode.removeChild(this) }) }, each: function (n) { for (var t, e = this.length, r = 0; r < e && (t = this[r], !1 !== n.call(t, r, t));)r++; return this }, filter: function (n) { return e(n) ? this.not(this.not(n)) : O(D.call(this, function (t) { return X.matches(t, n) })) }, add: function (n, t) { return O(N(this.concat(O(n, t)))) }, is: function (n) { return this.length > 0 && X.matches(this[0], n) }, not: function (n) { var t = []; if (e(n) && n.call !== C) this.each(function (e) { n.call(this, e) || t.push(this) }); else { var r = "string" == typeof n ? this.filter(n) : c(n) && e(n.item) ? _.call(n) : O(n); this.forEach(function (n) { r.indexOf(n) < 0 && t.push(n) }) } return O(t) }, has: function (n) { return this.filter(function () { return o(n) ? O.contains(this, n) : O(this).find(n).size() }) }, eq: function (n) { return -1 === n ? this.slice(n) : this.slice(n, +n + 1) }, first: function () { var n = this[0]; return n && !o(n) ? n : O(n) }, last: function () { var n = this[this.length - 1]; return n && !o(n) ? n : O(n) }, find: function (n) { var t = this; return n ? "object" == (void 0 === n ? "undefined" : Fc(n)) ? O(n).filter(function () { var n = this; return A.some.call(t, function (t) { return O.contains(t, n) }) }) : 1 == this.length ? O(X.qsa(this[0], n)) : this.map(function () { return X.qsa(this, n) }) : O() }, closest: function (n, t) { var e = [], r = "object" == (void 0 === n ? "undefined" : Fc(n)) && O(n); return this.each(function (o, u) { for (; u && !(r ? r.indexOf(u) >= 0 : X.matches(u, n));)u = u !== t && !i(u) && u.parentNode; u && e.indexOf(u) < 0 && e.push(u) }), O(e) }, parents: function (n) { for (var t = [], e = this; e.length > 0;)e = O.map(e, function (n) { if ((n = n.parentNode) && !i(n) && t.indexOf(n) < 0) return t.push(n), n }); return g(t, n) }, parent: function (n) { return g(N(this.pluck("parentNode")), n) }, children: function (n) { return g(this.map(function () { return p(this) }), n) }, contents: function () { return this.map(function () { return this.contentDocument || _.call(this.childNodes) }) }, siblings: function (n) { return g(this.map(function (n, t) { return D.call(p(t.parentNode), function (n) { return n !== t }) }), n) }, empty: function () { return this.each(function () { this.innerHTML = "" }) }, pluck: function (n) { return O.map(this, function (t) { return t[n] }) }, show: function () { return this.each(function () { "none" == this.style.display && (this.style.display = ""), "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = h(this.nodeName)) }) }, replaceWith: function (n) { return this.before(n).remove() }, wrap: function (n) { var t = e(n); if (this[0] && !t) var r = O(n).get(0), i = r.parentNode || this.length > 1; return this.each(function (e) { O(this).wrapAll(t ? n.call(this, e) : i ? r.cloneNode(!0) : r) }) }, wrapAll: function (n) { if (this[0]) { O(this[0]).before(n = O(n)); for (var t; (t = n.children()).length;)n = t.first(); O(n).append(this) } return this }, wrapInner: function (n) { var t = e(n); return this.each(function (e) { var r = O(this), i = r.contents(), o = t ? n.call(this, e) : n; i.length ? i.wrapAll(o) : r.append(o) }) }, unwrap: function () { return this.parent().each(function () { O(this).replaceWith(O(this).children()) }), this }, clone: function () { return this.map(function () { return this.cloneNode(!0) }) }, hide: function () { return this.css("display", "none") }, toggle: function (n) { return this.each(function () { var t = O(this); (n === C ? "none" == t.css("display") : n) ? t.show() : t.hide() }) }, prev: function (n) { return O(this.pluck("previousElementSibling")).filter(n || "*") }, next: function (n) { return O(this.pluck("nextElementSibling")).filter(n || "*") }, html: function (n) { return 0 in arguments ? this.each(function (t) { var e = this.innerHTML; O(this).empty().append(y(this, n, t, e)) }) : 0 in this ? this[0].innerHTML : null }, text: function (n) { return 0 in arguments ? this.each(function (t) { var e = y(this, n, t, this.textContent); this.textContent = null == e ? "" : "" + e }) : 0 in this ? this.pluck("textContent").join("") : null }, attr: function (n, t) { var e; return "string" != typeof n || 1 in arguments ? this.each(function (e) { if (1 === this.nodeType) if (o(n)) for (S in n) b(this, S, n[S]); else b(this, n, y(this, t, e, this.getAttribute(n))) }) : 0 in this && 1 == this[0].nodeType && null != (e = this[0].getAttribute(n)) ? e : C }, removeAttr: function (n) { return this.each(function () { 1 === this.nodeType && n.split(" ").forEach(function (n) { b(this, n) }, this) }) }, prop: function (n, t) { return n = Q[n] || n, 1 in arguments ? this.each(function (e) { this[n] = y(this, t, e, this[n]) }) : this[0] && this[0][n] }, removeProp: function (n) { return n = Q[n] || n, this.each(function () { delete this[n] }) }, data: function (n, t) { var e = "data-" + n.replace($, "-$1").toLowerCase(), r = 1 in arguments ? this.attr(e, t) : this.attr(e); return null !== r ? E(r) : C }, val: function (n) { return 0 in arguments ? (null == n && (n = ""), this.each(function (t) { this.value = y(this, n, t, this.value) })) : this[0] && (this[0].multiple ? O(this[0]).find("option").filter(function () { return this.selected }).pluck("value") : this[0].value) }, offset: function (t) { if (t) return this.each(function (n) { var e = O(this), r = y(this, t, n, e.offset()), i = e.offsetParent().offset(), o = { top: r.top - i.top, left: r.left - i.left }; "static" == e.css("position") && (o.position = "relative"), e.css(o) }); if (!this.length) return null; if (R.documentElement !== this[0] && !O.contains(R.documentElement, this[0])) return { top: 0, left: 0 }; var e = this[0].getBoundingClientRect(); return { left: e.left + n.pageXOffset, top: e.top + n.pageYOffset, width: Math.round(e.width), height: Math.round(e.height) } }, css: function (n, e) { if (arguments.length < 2) { var r = this[0]; if ("string" == typeof n) { if (!r) return; return r.style[k(n)] || getComputedStyle(r, "").getPropertyValue(n) } if (nn(n)) { if (!r) return; var i = {}, o = getComputedStyle(r, ""); return O.each(n, function (n, t) { i[t] = r.style[k(t)] || o.getPropertyValue(t) }), i } } var u = ""; if ("string" == t(n)) e || 0 === e ? u = s(n) + ":" + d(n, e) : this.each(function () { this.style.removeProperty(s(n)) }); else for (S in n) n[S] || 0 === n[S] ? u += s(S) + ":" + d(S, n[S]) + ";" : this.each(function () { this.style.removeProperty(s(S)) }); return this.each(function () { this.style.cssText += ";" + u }) }, index: function (n) { return n ? this.indexOf(O(n)[0]) : this.parent().children().indexOf(this[0]) }, hasClass: function (n) { return !!n && A.some.call(this, function (n) { return this.test(x(n)) }, l(n)) }, addClass: function (n) { return n ? this.each(function (t) { if ("className" in this) { T = []; var e = x(this); y(this, n, t, e).split(/\s+/g).forEach(function (n) { O(this).hasClass(n) || T.push(n) }, this), T.length && x(this, e + (e ? " " : "") + T.join(" ")) } }) : this }, removeClass: function (n) { return this.each(function (t) { if ("className" in this) { if (n === C) return x(this, ""); T = x(this), y(this, n, t, T).split(/\s+/g).forEach(function (n) { T = T.replace(l(n), " ") }), x(this, T.trim()) } }) }, toggleClass: function (n, t) { return n ? this.each(function (e) { var r = O(this); y(this, n, e, x(this)).split(/\s+/g).forEach(function (n) { (t === C ? !r.hasClass(n) : t) ? r.addClass(n) : r.removeClass(n) }) }) : this }, scrollTop: function (n) { if (this.length) { var t = "scrollTop" in this[0]; return n === C ? t ? this[0].scrollTop : this[0].pageYOffset : this.each(t ? function () { this.scrollTop = n } : function () { this.scrollTo(this.scrollX, n) }) } }, scrollLeft: function (n) { if (this.length) { var t = "scrollLeft" in this[0]; return n === C ? t ? this[0].scrollLeft : this[0].pageXOffset : this.each(t ? function () { this.scrollLeft = n } : function () { this.scrollTo(n, this.scrollY) }) } }, position: function () { if (this.length) { var n = this[0], t = this.offsetParent(), e = this.offset(), r = F.test(t[0].nodeName) ? { top: 0, left: 0 } : t.offset(); return e.top -= parseFloat(O(n).css("margin-top")) || 0, e.left -= parseFloat(O(n).css("margin-left")) || 0, r.top += parseFloat(O(t[0]).css("border-top-width")) || 0, r.left += parseFloat(O(t[0]).css("border-left-width")) || 0, { top: e.top - r.top, left: e.left - r.left } } }, offsetParent: function () { return this.map(function () { for (var n = this.offsetParent || R.body; n && !F.test(n.nodeName) && "static" == O(n).css("position");)n = n.offsetParent; return n }) } }, O.fn.detach = O.fn.remove, ["width", "height"].forEach(function (n) { var t = n.replace(/./, function (n) { return n[0].toUpperCase() }); O.fn[n] = function (e) { var o, u = this[0]; return e === C ? r(u) ? u["inner" + t] : i(u) ? u.documentElement["scroll" + t] : (o = this.offset()) && o[n] : this.each(function (t) { u = O(this), u.css(n, y(this, e, t, u[n]())) }) } }), H.forEach(function (e, r) { var i = r % 2; O.fn[e] = function () { var e, o, u = O.map(arguments, function (n) { var r = []; return e = t(n), "array" == e ? (n.forEach(function (n) { return n.nodeType !== C ? r.push(n) : O.zepto.isZ(n) ? r = r.concat(n.get()) : void (r = r.concat(X.fragment(n))) }), r) : "object" == e || null == n ? n : X.fragment(n) }), c = this.length > 1; return u.length < 1 ? this : this.each(function (t, e) { o = i ? e : e.parentNode, e = 0 == r ? e.nextSibling : 1 == r ? e.firstChild : 2 == r ? e : null; var a = O.contains(R.documentElement, o), f = /^(text|application)\/(javascript|ecmascript)$/; u.forEach(function (t) { if (c) t = t.cloneNode(!0); else if (!o) return O(t).remove(); o.insertBefore(t, e), a && w(t, function (t) { if (null != t.nodeName && "SCRIPT" === t.nodeName.toUpperCase() && (!t.type || f.test(t.type.toLowerCase())) && !t.src) { var e = t.ownerDocument ? t.ownerDocument.defaultView : n; e.eval.call(e, t.innerHTML) } }) }) }) }, O.fn[i ? e + "To" : "insert" + (r ? "Before" : "After")] = function (n) { return O(n)[e](this), this } }), X.Z.prototype = v.prototype = O.fn, X.uniq = N, X.deserializeValue = E, O.zepto = X, O }(); return function (t) {
            function e(n) { return n._zid || (n._zid = h++) } function r(n, t, r, u) { if (t = i(t), t.ns) var c = o(t.ns); return (g[e(n)] || []).filter(function (n) { return n && (!t.e || n.e == t.e) && (!t.ns || c.test(n.ns)) && (!r || e(n.fn) === e(r)) && (!u || n.sel == u) }) } function i(n) { var t = ("" + n).split("."); return { e: t[0], ns: t.slice(1).sort().join(" ") } } function o(n) { return new RegExp("(?:^| )" + n.replace(" ", " .* ?") + "(?: |$)") } function u(n, t) { return n.del && !b && n.e in x || !!t } function c(n) { return E[n] || b && x[n] || n } function a(n, r, o, a, f, l, h) { var p = e(n), v = g[p] || (g[p] = []); r.split(/\s/).forEach(function (e) { if ("ready" == e) return t(document).ready(o); var r = i(e); r.fn = o, r.sel = f, r.e in E && (o = function (n) { var e = n.relatedTarget; if (!e || e !== this && !t.contains(this, e)) return r.fn.apply(this, arguments) }), r.del = l; var p = l || o; r.proxy = function (t) { if (t = s(t), !t.isImmediatePropagationStopped()) { t.data = a; var e = p.apply(n, t._args == d ? [t] : [t].concat(t._args)); return !1 === e && (t.preventDefault(), t.stopPropagation()), e } }, r.i = v.length, v.push(r), "addEventListener" in n && n.addEventListener(c(r.e), r.proxy, u(r, h)) }) } function f(n, t, i, o, a) { var f = e(n); (t || "").split(/\s/).forEach(function (t) { r(n, t, i, o).forEach(function (t) { delete g[f][t.i], "removeEventListener" in n && n.removeEventListener(c(t.e), t.proxy, u(t, a)) }) }) } function s(n, e) { if (e || !n.isDefaultPrevented) { e || (e = n), t.each(O, function (t, r) { var i = e[t]; n[t] = function () { return this[r] = w, i && i.apply(e, arguments) }, n[r] = C }); try { n.timeStamp || (n.timeStamp = (new Date).getTime()) } catch (n) { } (e.defaultPrevented !== d ? e.defaultPrevented : "returnValue" in e ? !1 === e.returnValue : e.getPreventDefault && e.getPreventDefault()) && (n.isDefaultPrevented = w) } return n } function l(n) { var t, e = { originalEvent: n }; for (t in n) S.test(t) || n[t] === d || (e[t] = n[t]); return s(e, n) } var d, h = 1, p = Array.prototype.slice, v = t.isFunction, m = function (n) { return "string" == typeof n }, g = {}, y = {}, b = "onfocusin" in n, x = { focus: "focusin", blur: "focusout" }, E = {
                mouseenter: "mouseover",
                mouseleave: "mouseout"
            }; y.click = y.mousedown = y.mouseup = y.mousemove = "MouseEvents", t.event = { add: a, remove: f }, t.proxy = function (n, r) { var i = 2 in arguments && p.call(arguments, 2); if (v(n)) { var o = function () { return n.apply(r, i ? i.concat(p.call(arguments)) : arguments) }; return o._zid = e(n), o } if (m(r)) return i ? (i.unshift(n[r], n), t.proxy.apply(null, i)) : t.proxy(n[r], n); throw new TypeError("expected function") }, t.fn.bind = function (n, t, e) { return this.on(n, t, e) }, t.fn.unbind = function (n, t) { return this.off(n, t) }, t.fn.one = function (n, t, e, r) { return this.on(n, t, e, r, 1) }; var w = function () { return !0 }, C = function () { return !1 }, S = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/, O = { preventDefault: "isDefaultPrevented", stopImmediatePropagation: "isImmediatePropagationStopped", stopPropagation: "isPropagationStopped" }; t.fn.delegate = function (n, t, e) { return this.on(t, n, e) }, t.fn.undelegate = function (n, t, e) { return this.off(t, n, e) }, t.fn.live = function (n, e) { return t(document.body).delegate(this.selector, n, e), this }, t.fn.die = function (n, e) { return t(document.body).undelegate(this.selector, n, e), this }, t.fn.on = function (n, e, r, i, o) { var u, c, s = this; return n && !m(n) ? (t.each(n, function (n, t) { s.on(n, e, r, t, o) }), s) : (m(e) || v(i) || !1 === i || (i = r, r = e, e = d), i !== d && !1 !== r || (i = r, r = d), !1 === i && (i = C), s.each(function (s, d) { o && (u = function (n) { return f(d, n.type, i), i.apply(this, arguments) }), e && (c = function (n) { var r, o = t(n.target).closest(e, d).get(0); if (o && o !== d) return r = t.extend(l(n), { currentTarget: o, liveFired: d }), (u || i).apply(o, [r].concat(p.call(arguments, 1))) }), a(d, n, i, r, e, c || u) })) }, t.fn.off = function (n, e, r) { var i = this; return n && !m(n) ? (t.each(n, function (n, t) { i.off(n, e, t) }), i) : (m(e) || v(r) || !1 === r || (r = e, e = d), !1 === r && (r = C), i.each(function () { f(this, n, r, e) })) }, t.fn.trigger = function (n, e) { return n = m(n) || t.isPlainObject(n) ? t.Event(n) : s(n), n._args = e, this.each(function () { n.type in x && "function" == typeof this[n.type] ? this[n.type]() : "dispatchEvent" in this ? this.dispatchEvent(n) : t(this).triggerHandler(n, e) }) }, t.fn.triggerHandler = function (n, e) { var i, o; return this.each(function (u, c) { i = l(m(n) ? t.Event(n) : n), i._args = e, i.target = c, t.each(r(c, n.type || n), function (n, t) { if (o = t.proxy(i), i.isImmediatePropagationStopped()) return !1 }) }), o }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function (n) { t.fn[n] = function (t) { return 0 in arguments ? this.bind(n, t) : this.trigger(n) } }), t.Event = function (n, t) { m(n) || (t = n, n = t.type); var e = document.createEvent(y[n] || "Events"), r = !0; if (t) for (var i in t) "bubbles" == i ? r = !!t[i] : e[i] = t[i]; return e.initEvent(n, r, !0), s(e) }
        }(t), function () { try { getComputedStyle(void 0) } catch (e) { var t = getComputedStyle; n.getComputedStyle = function (n, e) { try { return t(n, e) } catch (n) { return null } } } }(), function (n) { var t = n.zepto, e = t.qsa, r = /^\s*>/, i = "Zepto" + +new Date; t.qsa = function (t, o) { var u, c, a = o; try { a ? r.test(a) && (c = n(t).addClass(i), a = "." + i + " " + a) : a = "*", u = e(t, a) } catch (n) { throw n } finally { c && c.removeClass(i) } return u } }(t), t
    }(window), rp = ":eq(", ip = ")", op = rp.length, up = /((\.|#)(-)?\d{1})/g, cp = "[trackEvent()]", ap = "navigator", fp = "sendBeacon", sp = "sendBeacon() request failed", lp = zd, dp = function (n, t) { return new lp(function (e, r) { "onload" in t ? (t.onload = function () { e(t) }, t.onerror = function () { r(new Error("Failed to load script " + n)) }) : "readyState" in t && (t.onreadystatechange = function () { var n = t.readyState; "loaded" !== n && "complete" !== n || (t.onreadystatechange = null, e(t)) }) }) }, hp = function (n) { var t = document.createElement("script"); t.src = n, t.async = !0; var e = dp(n, t); return document.getElementsByTagName("head")[0].appendChild(t), e }, pp = "clickTrackId", vp = "mboxTarget", mp = "script,link," + Tf; Fo.prototype = { on: function (n, t, e) { var r = this.e || (this.e = {}); return (r[n] || (r[n] = [])).push({ fn: t, ctx: e }), this }, once: function (n, t, e) { function r() { i.off(n, r), t.apply(e, arguments) } var i = this; return r._ = t, this.on(n, r, e) }, emit: function (n) { var t = [].slice.call(arguments, 1), e = ((this.e || (this.e = {}))[n] || []).slice(), r = 0, i = e.length; for (r; r < i; r++)e[r].fn.apply(e[r].ctx, t); return this }, off: function (n, t) { var e = this.e || (this.e = {}), r = e[n], i = []; if (r && t) for (var o = 0, u = r.length; o < u; o++)r[o].fn !== t && r[o].fn._ !== t && i.push(r[o]); return i.length ? e[n] = i : delete e[n], this } }; var gp = Fo, yp = function () { return new gp }(), bp = "at-", xp = "at-body-style", Ep = "#" + xp, wp = "at-makers-style", Cp = {}, Sp = "m", Op = "f", Tp = "p", kp = { childList: !0, subtree: !0 }, Np = ha.MutationObserver, Ap = {}, jp = null, Dp = 1e3, _p = "visibilityState", Rp = "visible", Pp = {}, Ip = function (n) { return n[va] === Ya || n[va] === Qa }, Mp = "[applyOffer()]", qp = function (n) { return !a(n[_a]) }, Lp = "adobe", Up = "target", Fp = "ext", $p = J(function (n, t) { !function (e, r) { "function" == typeof Tc && Tc.amd ? Tc([], r) : "object" === (void 0 === t ? "undefined" : Fc(t)) ? n.exports = r() : e.currentExecutingScript = r() }(dd || window, function () { function n(n, t) { var e, r = null; if (t = t || f, "string" == typeof n && n) for (e = t.length; e--;)if (t[e].src === n) { r = t[e]; break } return r } function t(n) { var t, e, r = null; for (n = n || f, t = 0, e = n.length; t < e; t++)if (!n[t].hasAttribute("src")) { if (r) { r = null; break } r = n[t] } return r } function e(n, t) { var r, i, o = null, u = "number" == typeof t; return t = u ? Math.round(t) : 0, "string" == typeof n && n && (u ? r = n.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/) : (r = n.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)) && r[1] || (r = n.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)), r && r[1] && (t > 0 ? (i = n.slice(n.indexOf(r[0]) + r[0].length), o = e(i, t - 1)) : o = r[1])), o } function r() { return null } function i() { return null } function o() { if (0 === f.length) return null; var r, i, c, v, m, g = [], y = o.skipStackDepth || 1; for (r = 0; r < f.length; r++)l && s ? u.test(f[r].readyState) && g.push(f[r]) : g.push(f[r]); if (i = new Error, h && (c = i.stack), !c && p) try { throw i } catch (n) { c = n.stack } if (c && (v = e(c, y), !(m = n(v, g)) && a && v === a && (m = t(g))), m || 1 === g.length && (m = g[0]), m || d && (m = document.currentScript), !m && l && s) for (r = g.length; r--;)if ("interactive" === g[r].readyState) { m = g[r]; break } return m || (m = g[g.length - 1] || null), m } var u = /^(interactive|loaded|complete)$/, c = window.location ? window.location.href : null, a = c ? c.replace(/#.*$/, "").replace(/\?.*$/, "") || null : null, f = document.getElementsByTagName("script"), s = "readyState" in (f[0] || document.createElement("script")), l = !window.opera || "[object Opera]" !== window.opera.toString(), d = "currentScript" in document; "stackTraceLimit" in Error && Error.stackTraceLimit !== 1 / 0 && (Error.stackTraceLimit = 1 / 0); var h = !1, p = !1; !function () { try { var n = new Error; throw h = "string" == typeof n.stack && !!n.stack, n } catch (n) { p = "string" == typeof n.stack && !!n.stack } }(), o.skipStackDepth = 1; var v = o; return v.near = o, v.far = r, v.origin = i, v }) }), Bp = "[mboxCreate()]", Hp = "[mboxDefine()]", Vp = "[mboxUpdate()]", zp = "Unable to load target-vec.js", Zp = "Loading target-vec.js", Gp = "_AT", Kp = "clickHandlerForExperienceEditor", Jp = "[global mbox]", Wp = "auto-create disabled"; return { init: Oc }
}(), window.adobe.target.init(window, document, { "clientCode": "suntrust", "imsOrgId": "AA7A3BC75245B3BC0A490D4D@AdobeOrg", "serverDomain": "suntrust.tt.omtrdc.net", "crossDomain": "disabled", "timeout": 5000, "globalMboxName": "target-global-mbox", "globalMboxAutoCreate": true, "version": "1.6.3", "defaultContentHiddenStyle": "visibility:hidden;", "defaultContentVisibleStyle": "visibility:visible;", "bodyHiddenStyle": "body{opacity:0!important}", "bodyHidingEnabled": false, "deviceIdLifetime": 63244800000, "sessionIdLifetime": 1860000, "selectorsPollingTimeout": 5000, "visitorApiTimeout": 2000, "overrideMboxEdgeServer": true, "overrideMboxEdgeServerTimeout": 1860000, "optoutEnabled": false, "secureOnly": false, "supplementalDataIdParamTimeout": 30, "authoringScriptUrl": "//cdn.tt.omtrdc.net/cdn/target-vec.js", "urlSizeLimit": 2048 });
//No custom JavaScript
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpc2l0b3JBUElfU3VudHJ1c3QuanMiLCJhdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdHMtYWRvYmUtdGFyZ2V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uIGUodCwgaSwgbikgeyBmdW5jdGlvbiByKHMsIG8pIHsgaWYgKCFpW3NdKSB7IGlmICghdFtzXSkgeyB2YXIgbCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgcmVxdWlyZSAmJiByZXF1aXJlOyBpZiAoIW8gJiYgbCkgcmV0dXJuIGwocywgITApOyBpZiAoYSkgcmV0dXJuIGEocywgITApOyB2YXIgdSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyBzICsgXCInXCIpOyB0aHJvdyB1LmNvZGUgPSBcIk1PRFVMRV9OT1RfRk9VTkRcIiwgdSB9IHZhciBjID0gaVtzXSA9IHsgZXhwb3J0czoge30gfTsgdFtzXVswXS5jYWxsKGMuZXhwb3J0cywgZnVuY3Rpb24gKGUpIHsgdmFyIGkgPSB0W3NdWzFdW2VdOyByZXR1cm4gcihpIHx8IGUpIH0sIGMsIGMuZXhwb3J0cywgZSwgdCwgaSwgbikgfSByZXR1cm4gaVtzXS5leHBvcnRzIH0gZm9yICh2YXIgYSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgcmVxdWlyZSAmJiByZXF1aXJlLCBzID0gMDsgcyA8IG4ubGVuZ3RoOyBzKyspcihuW3NdKTsgcmV0dXJuIHIgfSh7XHJcbiAgICAxOiBbZnVuY3Rpb24gKGUsIHQsIGkpIHsgKGZ1bmN0aW9uIChpKSB7IGUoXCIuL3V0aWxzL3BvbHlmaWxsc1wiKTsgdmFyIG4gPSBlKFwiLi9zdHJhdGVnaWVzL0xvY2FsVmlzaXRvclwiKSwgciA9IGUoXCIuL3N0cmF0ZWdpZXMvUHJveHlWaXNpdG9yXCIpLCBhID0gZShcIi4vc3RyYXRlZ2llcy9QbGFjZWhvbGRlclZpc2l0b3JcIiksIHMgPSBlKFwiLi91dGlscy9jYWxsYmFja1JlZ2lzdHJ5RmFjdG9yeVwiKSwgbyA9IGUoXCIuL01lc3NhZ2VcIiksIGwgPSBlKFwiLi9lbnVtc1wiKSwgdSA9IGwuTUVTU0FHRVM7IHQuZXhwb3J0cyA9IGZ1bmN0aW9uIChlLCB0LCBsLCBjKSB7IGZ1bmN0aW9uIGQoZSkgeyBPYmplY3QuYXNzaWduKEksIGUpIH0gZnVuY3Rpb24gZihlKSB7IE9iamVjdC5hc3NpZ24oSS5zdGF0ZSwgZSksIEkuY2FsbGJhY2tSZWdpc3RyeS5leGVjdXRlQWxsKEkuc3RhdGUpIH0gZnVuY3Rpb24gZyhlKSB7IGlmICghQS5pc0ludmFsaWQoZSkpIHsgdiA9ICExOyB2YXIgdCA9IEEucGFyc2UoZSk7IEkuc2V0U3RhdGVBbmRQdWJsaXNoKHQuc3RhdGUpIH0gfSBmdW5jdGlvbiBfKGUpIHsgIXYgJiYgQyAmJiAodiA9ICEwLCBBLnNlbmQoYywgZSkpIH0gZnVuY3Rpb24gbSgpIHsgZChuZXcgbihsLl9nZW5lcmF0ZUlEKSksIEkuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoKSwgSS5jYWxsYmFja1JlZ2lzdHJ5LmV4ZWN1dGVBbGwoSS5zdGF0ZSwgITApLCBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHApIH0gZnVuY3Rpb24gcChlKSB7IGlmICghQS5pc0ludmFsaWQoZSkpIHsgdmFyIHQgPSBBLnBhcnNlKGUpOyB2ID0gITEsIGkuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksIGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgcCksIGQobmV3IHIoSSkpLCBpLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGcpLCBJLnNldFN0YXRlQW5kUHVibGlzaCh0LnN0YXRlKSwgSS5jYWxsYmFja1JlZ2lzdHJ5Lmhhc0NhbGxiYWNrcygpICYmIF8odS5HRVRTVEFURSkgfSB9IGZ1bmN0aW9uIGgoKSB7IEMgJiYgcG9zdE1lc3NhZ2UgPyAoaS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBwKSwgXyh1LkhBTkRTSEFLRSksIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQobSwgMjUwKSkgOiBtKCkgfSBmdW5jdGlvbiBTKCkgeyBpLnNfY19pbiB8fCAoaS5zX2NfaWwgPSBbXSwgaS5zX2NfaW4gPSAwKSwgSS5fYyA9IFwiVmlzaXRvclwiLCBJLl9pbCA9IGkuc19jX2lsLCBJLl9pbiA9IGkuc19jX2luLCBJLl9pbFtJLl9pbl0gPSBJLCBpLnNfY19pbisrIH0gZnVuY3Rpb24gRCgpIHsgZnVuY3Rpb24gZShlKSB7IDAgIT09IGUuaW5kZXhPZihcIl9cIikgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBsW2VdICYmIChJW2VdID0gZnVuY3Rpb24gKCkgeyB9KSB9IE9iamVjdC5rZXlzKGwpLmZvckVhY2goZSksIEkuZ2V0U3VwcGxlbWVudGFsRGF0YUlEID0gbC5nZXRTdXBwbGVtZW50YWxEYXRhSUQgfSB2YXIgSSA9IHRoaXMsIEMgPSB0LndoaXRlbGlzdFBhcmVudERvbWFpbjsgSS5zdGF0ZSA9IHt9LCBJLnZlcnNpb24gPSBsLnZlcnNpb24sIEkubWFya2V0aW5nQ2xvdWRPcmdJRCA9IGU7IHZhciB2ID0gITEsIEEgPSBuZXcgbyhlLCBDKTsgSS5jYWxsYmFja1JlZ2lzdHJ5ID0gcygpLCBJLmZpbmRGaWVsZCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChJLnN0YXRlW2VdKSByZXR1cm4gdChJLnN0YXRlW2VdKSwgSS5zdGF0ZVtlXSB9LCBJLm1lc3NhZ2VQYXJlbnQgPSBfLCBJLnNldFN0YXRlQW5kUHVibGlzaCA9IGYsIGZ1bmN0aW9uICgpIHsgUygpLCBEKCksIGQobmV3IGEoSSkpLCBoKCkgfSgpIH0gfSkuY2FsbCh0aGlzLCBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnbG9iYWwgPyBnbG9iYWwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBzZWxmID8gc2VsZiA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyA/IHdpbmRvdyA6IHt9KSB9LCB7IFwiLi9NZXNzYWdlXCI6IDIsIFwiLi9lbnVtc1wiOiA0LCBcIi4vc3RyYXRlZ2llcy9Mb2NhbFZpc2l0b3JcIjogNSwgXCIuL3N0cmF0ZWdpZXMvUGxhY2Vob2xkZXJWaXNpdG9yXCI6IDYsIFwiLi9zdHJhdGVnaWVzL1Byb3h5VmlzaXRvclwiOiA3LCBcIi4vdXRpbHMvY2FsbGJhY2tSZWdpc3RyeUZhY3RvcnlcIjogOCwgXCIuL3V0aWxzL3BvbHlmaWxsc1wiOiAxMCB9XSwgMjogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IHZhciBuID0gZShcIi4vZW51bXNcIiksIHIgPSBuLk1FU1NBR0VTLCBhID0geyAwOiBcInByZWZpeFwiLCAxOiBcIm9yZ0lEXCIsIDI6IFwic3RhdGVcIiB9OyB0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCkgeyB0aGlzLnBhcnNlID0gZnVuY3Rpb24gKGUpIHsgdHJ5IHsgdmFyIHQgPSB7fTsgcmV0dXJuIGUuZGF0YS5zcGxpdChcInxcIikuZm9yRWFjaChmdW5jdGlvbiAoZSwgaSkgeyBpZiAodm9pZCAwICE9PSBlKSB7IHRbYVtpXV0gPSAyICE9PSBpID8gZSA6IEpTT04ucGFyc2UoZSkgfSB9KSwgdCB9IGNhdGNoIChlKSB7IH0gfSwgdGhpcy5pc0ludmFsaWQgPSBmdW5jdGlvbiAoaSkgeyB2YXIgbiA9IHRoaXMucGFyc2UoaSk7IGlmICghbiB8fCBPYmplY3Qua2V5cyhuKS5sZW5ndGggPCAyKSByZXR1cm4gITA7IHZhciBhID0gZSAhPT0gbi5vcmdJRCwgcyA9ICF0IHx8IGkub3JpZ2luICE9PSB0LCBvID0gLTEgPT09IE9iamVjdC5rZXlzKHIpLmluZGV4T2Yobi5wcmVmaXgpOyByZXR1cm4gYSB8fCBzIHx8IG8gfSwgdGhpcy5zZW5kID0gZnVuY3Rpb24gKGksIG4sIHIpIHsgdmFyIGEgPSBuICsgXCJ8XCIgKyBlOyByICYmIHIgPT09IE9iamVjdChyKSAmJiAoYSArPSBcInxcIiArIEpTT04uc3RyaW5naWZ5KHIpKTsgdHJ5IHsgaS5wb3N0TWVzc2FnZShhLCB0KSB9IGNhdGNoIChlKSB7IH0gfSB9IH0sIHsgXCIuL2VudW1zXCI6IDQgfV0sIDM6IFtmdW5jdGlvbiAoZSwgdCwgaSkge1xyXG4gICAgICAgIChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBuKCkgeyBmdW5jdGlvbiBlKCkgeyBvLndpbmRvd0xvYWRlZCA9ICEwIH0gaS5hZGRFdmVudExpc3RlbmVyID8gaS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBlKSA6IGkuYXR0YWNoRXZlbnQgJiYgaS5hdHRhY2hFdmVudChcIm9ubG9hZFwiLCBlKSwgby5jb2RlTG9hZEVuZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpIH0vKiogQGxpY2Vuc2UgPT09PT09PT09PT09PT0gRE8gTk9UIEFMVEVSIEFOWVRISU5HIEJFTE9XIFRISVMgTElORSAhID09PT09PT09PT09PVxyXG5cclxuQWRvYmUgVmlzaXRvciBBUEkgZm9yIEphdmFTY3JpcHQgdmVyc2lvbjogMi4zLjBcclxuQ29weXJpZ2h0IDE5OTYtMjAxNSBBZG9iZSwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkXHJcbk1vcmUgaW5mbyBhdmFpbGFibGUgYXQgaHR0cHM6Ly9tYXJrZXRpbmcuYWRvYmUuY29tL3Jlc291cmNlcy9oZWxwL2VuX1VTL21jdmlkL1xyXG4qL1xyXG4gICAgICAgICAgICB2YXIgciA9IGUoXCIuL0NoaWxkVmlzaXRvclwiKSwgYSA9IGUoXCIuL01lc3NhZ2VcIiksIHMgPSBlKFwiLi91dGlscy9tYWtlQ2hpbGRNZXNzYWdlTGlzdGVuZXJcIiksIG8gPSBmdW5jdGlvbiAoZSwgdCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbihlKSB7IGZ1bmN0aW9uIHQoZSwgdCkgeyBlICYmIGUubWF0Y2gocC5WQUxJRF9WSVNJVE9SX0lEX1JFR0VYKSAmJiB0KGUpIH0gdChlW0RdLCBmLnNldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEKSwgZi5fc2V0RmllbGRFeHBpcmUoaywgLTEpLCB0KGVbRV0sIGYuc2V0QW5hbHl0aWNzVmlzaXRvcklEKSB9IGZ1bmN0aW9uIHIoZSkgeyBlID0gZSB8fCB7fSwgZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudCA9IGUuc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudCB8fCBcIlwiLCBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQgPSBlLnN1cHBsZW1lbnRhbERhdGFJREN1cnJlbnRDb25zdW1lZCB8fCB7fSwgZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdCA9IGUuc3VwcGxlbWVudGFsRGF0YUlETGFzdCB8fCBcIlwiLCBmLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0Q29uc3VtZWQgPSBlLnN1cHBsZW1lbnRhbERhdGFJRExhc3RDb25zdW1lZCB8fCB7fSB9IGZ1bmN0aW9uIG8oZSkgeyBmb3IgKHZhciB0ID0gXCJcIiwgaSA9IDAsIG4gPSBlLmxlbmd0aDsgaSA8IG47IGkrKykgeyB2YXIgciA9IGVbaV0sIGEgPSByWzBdLCBzID0gclsxXTsgbnVsbCAhPSBzICYmIHMgIT09IEwgJiYgKHQgPSBmdW5jdGlvbiAoZSwgdCwgaSkgeyByZXR1cm4gaSA9IGkgPyBpICs9IFwifFwiIDogaSwgaSArPSBlICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodCkgfShhLCBzLCB0KSkgfSByZXR1cm4gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBQLmdldFRpbWVzdGFtcEluU2Vjb25kcygpOyByZXR1cm4gZSA9IGUgPyBlICs9IFwifFwiIDogZSwgZSArPSBcIlRTPVwiICsgdCB9KHQpIH0gZnVuY3Rpb24gbChlKSB7IHZhciB0ID0gZS5taW51dGVzVG9MaXZlLCBpID0gXCJcIjsgcmV0dXJuIGYuaWRTeW5jRGlzYWJsZVN5bmNzICYmIChpID0gaSB8fCBcIkVycm9yOiBpZCBzeW5jcyBoYXZlIGJlZW4gZGlzYWJsZWRcIiksIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUuZHBpZCAmJiBlLmRwaWQubGVuZ3RoIHx8IChpID0gaSB8fCBcIkVycm9yOiBjb25maWcuZHBpZCBpcyBlbXB0eVwiKSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZS51cmwgJiYgZS51cmwubGVuZ3RoIHx8IChpID0gaSB8fCBcIkVycm9yOiBjb25maWcudXJsIGlzIGVtcHR5XCIpLCB2b2lkIDAgPT09IHQgPyB0ID0gMjAxNjAgOiAodCA9IHBhcnNlSW50KHQsIDEwKSwgKGlzTmFOKHQpIHx8IHQgPD0gMCkgJiYgKGkgPSBpIHx8IFwiRXJyb3I6IGNvbmZpZy5taW51dGVzVG9MaXZlIG5lZWRzIHRvIGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpKSwgeyBlcnJvcjogaSwgdHRsOiB0IH0gfSBmdW5jdGlvbiB1KGUpIHsgZm9yICh2YXIgdCA9IDAsIGkgPSBlLmxlbmd0aDsgdCA8IGk7IHQrKylpZiAoIXAuUE9TSVRJVkVfSU5UX1JFR0VYLnRlc3QoZVt0XSkpIHJldHVybiAhMTsgcmV0dXJuICEwIH0gZnVuY3Rpb24gYyhlLCB0KSB7IGZvciAoOyBlLmxlbmd0aCA8IHQubGVuZ3RoOyllLnB1c2goXCIwXCIpOyBmb3IgKDsgdC5sZW5ndGggPCBlLmxlbmd0aDspdC5wdXNoKFwiMFwiKSB9IGZ1bmN0aW9uIGQoZSwgdCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHsgdmFyIG4gPSBwYXJzZUludChlW2ldLCAxMCksIHIgPSBwYXJzZUludCh0W2ldLCAxMCk7IGlmIChuID4gcikgcmV0dXJuIDE7IGlmIChyID4gbikgcmV0dXJuIC0xIH0gcmV0dXJuIDAgfSBpZiAoIWUpIHRocm93IG5ldyBFcnJvcihcIlZpc2l0b3IgcmVxdWlyZXMgQWRvYmUgTWFya2V0aW5nIENsb3VkIE9yZyBJRFwiKTsgdmFyIGYgPSB0aGlzOyBmLnZlcnNpb24gPSBcIjIuMy4wXCI7IHZhciBnID0gaSwgXyA9IGcuVmlzaXRvcjsgXy52ZXJzaW9uID0gZi52ZXJzaW9uLCBnLnNfY19pbiB8fCAoZy5zX2NfaWwgPSBbXSwgZy5zX2NfaW4gPSAwKSwgZi5fYyA9IFwiVmlzaXRvclwiLCBmLl9pbCA9IGcuc19jX2lsLCBmLl9pbiA9IGcuc19jX2luLCBmLl9pbFtmLl9pbl0gPSBmLCBnLnNfY19pbisrICwgZi5fbG9nID0geyByZXF1ZXN0czogW10gfTsgdmFyIG0gPSBnLmRvY3VtZW50LCBwID0geyBQT1NUX01FU1NBR0VfRU5BQkxFRDogISFnLnBvc3RNZXNzYWdlLCBEQVlTX0JFVFdFRU5fU1lOQ19JRF9DQUxMUzogMSwgTUlMTElTX1BFUl9EQVk6IDg2NGU1LCBBRE9CRV9NQzogXCJhZG9iZV9tY1wiLCBBRE9CRV9NQ19TRElEOiBcImFkb2JlX21jX3NkaWRcIiwgVkFMSURfVklTSVRPUl9JRF9SRUdFWDogL15bMC05YS1mQS1GXFwtXSskLywgQURPQkVfTUNfVFRMX0lOX01JTjogNSwgUE9TSVRJVkVfSU5UX1JFR0VYOiAvXlxcZCskLywgVkVSU0lPTl9SRUdFWDogL3ZWZXJzaW9uXFx8KChcXGQrXFwuKT8oXFxkK1xcLik/KFxcKnxcXGQrKSkoPz0kfFxcfCkvLCBIQVNfSlNPTl9TVFJJTkdJRlk6IHdpbmRvdy5KU09OID09PSBPYmplY3Qod2luZG93LkpTT04pICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygd2luZG93LkpTT04uc3RyaW5naWZ5IH0sIGggPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gIU9iamVjdC5wcm90b3R5cGVbZV0gfTsgZi5faGFzaCA9IGZ1bmN0aW9uIChlKSB7IHZhciB0LCBpLCBuID0gMDsgaWYgKGUpIGZvciAodCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKWkgPSBlLmNoYXJDb2RlQXQodCksIG4gPSAobiA8PCA1KSAtIG4gKyBpLCBuICY9IG47IHJldHVybiBuIH0sIGYuX2dlbmVyYXRlSUQgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgaSwgbiwgciA9IFwiMDEyMzQ1Njc4OVwiLCBhID0gXCJcIiwgcyA9IFwiXCIsIG8gPSA4LCBsID0gMTAsIHUgPSAxMDsgaWYgKHQgPT09IEQgJiYgKE4uaXNDbGllbnRTaWRlTWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgPSAhMCksIDEgPT09IGUpIHsgZm9yIChyICs9IFwiQUJDREVGXCIsIGkgPSAwOyBpIDwgMTY7IGkrKyluID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbyksIGEgKz0gci5zdWJzdHJpbmcobiwgbiArIDEpLCBuID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbyksIHMgKz0gci5zdWJzdHJpbmcobiwgbiArIDEpLCBvID0gMTY7IHJldHVybiBhICsgXCItXCIgKyBzIH0gZm9yIChpID0gMDsgaSA8IDE5OyBpKyspbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGwpLCBhICs9IHIuc3Vic3RyaW5nKG4sIG4gKyAxKSwgMCA9PT0gaSAmJiA5ID09PSBuID8gbCA9IDMgOiAoMSA9PT0gaSB8fCAyID09PSBpKSAmJiAxMCAhPT0gbCAmJiBuIDwgMiA/IGwgPSAxMCA6IGkgPiAyICYmIChsID0gMTApLCBuID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdSksIHMgKz0gci5zdWJzdHJpbmcobiwgbiArIDEpLCAwID09PSBpICYmIDkgPT09IG4gPyB1ID0gMyA6ICgxID09PSBpIHx8IDIgPT09IGkpICYmIDEwICE9PSB1ICYmIG4gPCAyID8gdSA9IDEwIDogaSA+IDIgJiYgKHUgPSAxMCk7IHJldHVybiBhICsgcyB9LCBmLl9nZXREb21haW4gPSBmdW5jdGlvbiAoZSkgeyB2YXIgdDsgaWYgKCFlICYmIGcubG9jYXRpb24gJiYgKGUgPSBnLmxvY2F0aW9uLmhvc3RuYW1lKSwgdCA9IGUpIGlmICgvXlswLTkuXSskLy50ZXN0KHQpKSB0ID0gXCJcIjsgZWxzZSB7IHZhciBpID0gXCIsYWMsYWQsYWUsYWYsYWcsYWksYWwsYW0sYW4sYW8sYXEsYXIsYXMsYXQsYXUsYXcsYXgsYXosYmEsYmIsYmUsYmYsYmcsYmgsYmksYmosYm0sYm8sYnIsYnMsYnQsYnYsYncsYnksYnosY2EsY2MsY2QsY2YsY2csY2gsY2ksY2wsY20sY24sY28sY3IsY3UsY3YsY3csY3gsY3osZGUsZGosZGssZG0sZG8sZHosZWMsZWUsZWcsZXMsZXQsZXUsZmksZm0sZm8sZnIsZ2EsZ2IsZ2QsZ2UsZ2YsZ2csZ2gsZ2ksZ2wsZ20sZ24sZ3AsZ3EsZ3IsZ3MsZ3QsZ3csZ3ksaGssaG0saG4saHIsaHQsaHUsaWQsaWUsaW0saW4saW8saXEsaXIsaXMsaXQsamUsam8sanAsa2csa2ksa20sa24sa3Asa3Isa3ksa3osbGEsbGIsbGMsbGksbGssbHIsbHMsbHQsbHUsbHYsbHksbWEsbWMsbWQsbWUsbWcsbWgsbWssbWwsbW4sbW8sbXAsbXEsbXIsbXMsbXQsbXUsbXYsbXcsbXgsbXksbmEsbmMsbmUsbmYsbmcsbmwsbm8sbnIsbnUsbnosb20scGEscGUscGYscGgscGsscGwscG0scG4scHIscHMscHQscHcscHkscWEscmUscm8scnMscnUscncsc2Esc2Isc2Msc2Qsc2Usc2csc2gsc2ksc2osc2ssc2wsc20sc24sc28sc3Isc3Qsc3Usc3Ysc3gsc3ksc3osdGMsdGQsdGYsdGcsdGgsdGosdGssdGwsdG0sdG4sdG8sdHAsdHIsdHQsdHYsdHcsdHosdWEsdWcsdWssdXMsdXksdXosdmEsdmMsdmUsdmcsdmksdm4sdnUsd2Ysd3MseXQsXCIsIG4gPSB0LnNwbGl0KFwiLlwiKSwgciA9IG4ubGVuZ3RoIC0gMSwgYSA9IHIgLSAxOyBpZiAociA+IDEgJiYgbltyXS5sZW5ndGggPD0gMiAmJiAoMiA9PT0gbltyIC0gMV0ubGVuZ3RoIHx8IGkuaW5kZXhPZihcIixcIiArIG5bcl0gKyBcIixcIikgPCAwKSAmJiBhLS0gLCBhID4gMCkgZm9yICh0ID0gXCJcIjsgciA+PSBhOyl0ID0gbltyXSArICh0ID8gXCIuXCIgOiBcIlwiKSArIHQsIHItLSB9IHJldHVybiB0IH0sIGYuY29va2llUmVhZCA9IGZ1bmN0aW9uIChlKSB7IGUgPSBlbmNvZGVVUklDb21wb25lbnQoZSk7IHZhciB0ID0gKFwiO1wiICsgbS5jb29raWUpLnNwbGl0KFwiIFwiKS5qb2luKFwiO1wiKSwgaSA9IHQuaW5kZXhPZihcIjtcIiArIGUgKyBcIj1cIiksIG4gPSBpIDwgMCA/IGkgOiB0LmluZGV4T2YoXCI7XCIsIGkgKyAxKTsgcmV0dXJuIGkgPCAwID8gXCJcIiA6IGRlY29kZVVSSUNvbXBvbmVudCh0LnN1YnN0cmluZyhpICsgMiArIGUubGVuZ3RoLCBuIDwgMCA/IHQubGVuZ3RoIDogbikpIH0sIGYuY29va2llV3JpdGUgPSBmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiwgciA9IGYuY29va2llTGlmZXRpbWU7IGlmICh0ID0gXCJcIiArIHQsIHIgPSByID8gKFwiXCIgKyByKS50b1VwcGVyQ2FzZSgpIDogXCJcIiwgaSAmJiBcIlNFU1NJT05cIiAhPT0gciAmJiBcIk5PTkVcIiAhPT0gcikgeyBpZiAobiA9IFwiXCIgIT09IHQgPyBwYXJzZUludChyIHx8IDAsIDEwKSA6IC02MCkgaSA9IG5ldyBEYXRlLCBpLnNldFRpbWUoaS5nZXRUaW1lKCkgKyAxZTMgKiBuKTsgZWxzZSBpZiAoMSA9PT0gaSkgeyBpID0gbmV3IERhdGU7IHZhciBhID0gaS5nZXRZZWFyKCk7IGkuc2V0WWVhcihhICsgMiArIChhIDwgMTkwMCA/IDE5MDAgOiAwKSkgfSB9IGVsc2UgaSA9IDA7IHJldHVybiBlICYmIFwiTk9ORVwiICE9PSByID8gKG0uY29va2llID0gZW5jb2RlVVJJQ29tcG9uZW50KGUpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodCkgKyBcIjsgcGF0aD0vO1wiICsgKGkgPyBcIiBleHBpcmVzPVwiICsgaS50b0dNVFN0cmluZygpICsgXCI7XCIgOiBcIlwiKSArIChmLmNvb2tpZURvbWFpbiA/IFwiIGRvbWFpbj1cIiArIGYuY29va2llRG9tYWluICsgXCI7XCIgOiBcIlwiKSwgZi5jb29raWVSZWFkKGUpID09PSB0KSA6IDAgfSwgZi5fY2FsbGJhY2tMaXN0ID0gbnVsbCwgZi5fY2FsbENhbGxiYWNrID0gZnVuY3Rpb24gKGUsIHQpIHsgdHJ5IHsgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlID8gZS5hcHBseShnLCB0KSA6IGVbMV0uYXBwbHkoZVswXSwgdCkgfSBjYXRjaCAoZSkgeyB9IH0sIGYuX3JlZ2lzdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZSwgdCkgeyB0ICYmIChudWxsID09IGYuX2NhbGxiYWNrTGlzdCAmJiAoZi5fY2FsbGJhY2tMaXN0ID0ge30pLCB2b2lkIDAgPT0gZi5fY2FsbGJhY2tMaXN0W2VdICYmIChmLl9jYWxsYmFja0xpc3RbZV0gPSBbXSksIGYuX2NhbGxiYWNrTGlzdFtlXS5wdXNoKHQpKSB9LCBmLl9jYWxsQWxsQ2FsbGJhY2tzID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKG51bGwgIT0gZi5fY2FsbGJhY2tMaXN0KSB7IHZhciBpID0gZi5fY2FsbGJhY2tMaXN0W2VdOyBpZiAoaSkgZm9yICg7IGkubGVuZ3RoID4gMDspZi5fY2FsbENhbGxiYWNrKGkuc2hpZnQoKSwgdCkgfSB9LCBmLl9hZGRRdWVyeXN0cmluZ1BhcmFtID0gZnVuY3Rpb24gKGUsIHQsIGksIG4pIHsgdmFyIHIgPSBlbmNvZGVVUklDb21wb25lbnQodCkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChpKSwgYSA9IFAucGFyc2VIYXNoKGUpLCBzID0gUC5oYXNobGVzc1VybChlKTsgaWYgKC0xID09PSBzLmluZGV4T2YoXCI/XCIpKSByZXR1cm4gcyArIFwiP1wiICsgciArIGE7IHZhciBvID0gcy5zcGxpdChcIj9cIiksIGwgPSBvWzBdICsgXCI/XCIsIHUgPSBvWzFdOyByZXR1cm4gbCArIFAuYWRkUXVlcnlQYXJhbUF0TG9jYXRpb24odSwgciwgbikgKyBhIH0sIGYuX2V4dHJhY3RQYXJhbUZyb21VcmkgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgaSA9IG5ldyBSZWdFeHAoXCJbXFxcXD8mI11cIiArIHQgKyBcIj0oW14mI10qKVwiKSwgbiA9IGkuZXhlYyhlKTsgaWYgKG4gJiYgbi5sZW5ndGgpIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoblsxXSkgfSwgZi5fcGFyc2VBZG9iZU1jRnJvbVVybCA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZSB8fCBnLmxvY2F0aW9uLmhyZWY7IHRyeSB7IHZhciBpID0gZi5fZXh0cmFjdFBhcmFtRnJvbVVyaSh0LCBwLkFET0JFX01DKTsgaWYgKGkpIHJldHVybiBQLnBhcnNlUGlwZURlbGltZXRlZEtleVZhbHVlcyhpKSB9IGNhdGNoIChlKSB7IH0gfSwgZi5fcGFyc2VBZG9iZU1jU2RpZEZyb21VcmwgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUgfHwgZy5sb2NhdGlvbi5ocmVmOyB0cnkgeyB2YXIgaSA9IGYuX2V4dHJhY3RQYXJhbUZyb21VcmkodCwgcC5BRE9CRV9NQ19TRElEKTsgaWYgKGkpIHJldHVybiBQLnBhcnNlUGlwZURlbGltZXRlZEtleVZhbHVlcyhpKSB9IGNhdGNoIChlKSB7IH0gfSwgZi5fYXR0ZW1wdFRvUG9wdWxhdGVTZGlkRnJvbVVybCA9IGZ1bmN0aW9uICh0KSB7IHZhciBpID0gZi5fcGFyc2VBZG9iZU1jU2RpZEZyb21VcmwodCksIG4gPSAxZTk7IGkgJiYgaS5UUyAmJiAobiA9IFAuZ2V0VGltZXN0YW1wSW5TZWNvbmRzKCkgLSBpLlRTKSwgaSAmJiBpLlNESUQgJiYgaVtJXSA9PT0gZSAmJiBuIDwgZi5zZGlkUGFyYW1FeHBpcnkgJiYgKGYuX3N1cHBsZW1lbnRhbERhdGFJREN1cnJlbnQgPSBpLlNESUQsIGYuX3N1cHBsZW1lbnRhbERhdGFJREN1cnJlbnRDb25zdW1lZC5TRElEX1VSTF9QQVJBTSA9ICEwKSB9LCBmLl9hdHRlbXB0VG9Qb3B1bGF0ZUlkc0Zyb21VcmwgPSBmdW5jdGlvbiAoKSB7IHZhciB0ID0gZi5fcGFyc2VBZG9iZU1jRnJvbVVybCgpOyBpZiAodCAmJiB0LlRTKSB7IHZhciBpID0gUC5nZXRUaW1lc3RhbXBJblNlY29uZHMoKSwgciA9IGkgLSB0LlRTOyBpZiAoTWF0aC5mbG9vcihyIC8gNjApID4gcC5BRE9CRV9NQ19UVExfSU5fTUlOIHx8IHRbSV0gIT09IGUpIHJldHVybjsgbih0KSB9IH0sIGYucmVzZXRTdGF0ZSA9IGZ1bmN0aW9uIChlKSB7IGUgPyBmLl9tZXJnZVNlcnZlclN0YXRlKGUpIDogcigpIH0sIGYuX21lcmdlU2VydmVyU3RhdGUgPSBmdW5jdGlvbiAoZSkgeyBpZiAoZSkgdHJ5IHsgaWYgKGUgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gUC5pc09iamVjdChlKSA/IGUgOiBQLnBhcnNlSlNPTihlKSB9KGUpLCBlW2YubWFya2V0aW5nQ2xvdWRPcmdJRF0pIHsgdmFyIHQgPSBlW2YubWFya2V0aW5nQ2xvdWRPcmdJRF07ICFmdW5jdGlvbiAoZSkgeyBQLmlzT2JqZWN0KGUpICYmIGYuc2V0Q3VzdG9tZXJJRHMoZSkgfSh0LmN1c3RvbWVySURzKSwgcih0LnNkaWQpIH0gfSBjYXRjaCAoZSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJgc2VydmVyU3RhdGVgIGhhcyBhbiBpbnZhbGlkIGZvcm1hdC5cIikgfSB9LCBmLl90aW1lb3V0ID0gbnVsbCwgZi5fbG9hZERhdGEgPSBmdW5jdGlvbiAoZSwgdCwgaSwgbikgeyB0ID0gZi5fYWRkUXVlcnlzdHJpbmdQYXJhbSh0LCBcImRfZmllbGRncm91cFwiLCBlLCAxKSwgbi51cmwgPSBmLl9hZGRRdWVyeXN0cmluZ1BhcmFtKG4udXJsLCBcImRfZmllbGRncm91cFwiLCBlLCAxKSwgbi5jb3JzVXJsID0gZi5fYWRkUXVlcnlzdHJpbmdQYXJhbShuLmNvcnNVcmwsIFwiZF9maWVsZGdyb3VwXCIsIGUsIDEpLCBOLmZpZWxkR3JvdXBPYmpbZV0gPSAhMCwgbiA9PT0gT2JqZWN0KG4pICYmIG4uY29yc1VybCAmJiBcIlhNTEh0dHBSZXF1ZXN0XCIgPT09IGYuX3JlcXVlc3RQcm9jcy5jb3JzTWV0YWRhdGEuY29yc1R5cGUgPyBmLl9yZXF1ZXN0UHJvY3MuZmlyZUNPUlMobiwgaSwgZSkgOiBmLnVzZUNPUlNPbmx5IHx8IGYuX2xvYWRKU09OUChlLCB0LCBpKSB9LCBmLl9sb2FkSlNPTlAgPSBmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiwgciA9IDAsIGEgPSAwOyBpZiAodCAmJiBtKSB7IGZvciAobiA9IDA7ICFyICYmIG4gPCAyOykgeyB0cnkgeyByID0gbS5nZXRFbGVtZW50c0J5VGFnTmFtZShuID4gMCA/IFwiSEVBRFwiIDogXCJoZWFkXCIpLCByID0gciAmJiByLmxlbmd0aCA+IDAgPyByWzBdIDogMCB9IGNhdGNoIChlKSB7IHIgPSAwIH0gbisrIH0gaWYgKCFyKSB0cnkgeyBtLmJvZHkgJiYgKHIgPSBtLmJvZHkpIH0gY2F0Y2ggKGUpIHsgciA9IDAgfSBpZiAocikgZm9yIChuID0gMDsgIWEgJiYgbiA8IDI7KSB7IHRyeSB7IGEgPSBtLmNyZWF0ZUVsZW1lbnQobiA+IDAgPyBcIlNDUklQVFwiIDogXCJzY3JpcHRcIikgfSBjYXRjaCAoZSkgeyBhID0gMCB9IG4rKyB9IH0gaWYgKCF0IHx8ICFyIHx8ICFhKSByZXR1cm4gdm9pZCAoaSAmJiBpKCkpOyBhLnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiLCBhLnNyYyA9IHQsIHIuZmlyc3RDaGlsZCA/IHIuaW5zZXJ0QmVmb3JlKGEsIHIuZmlyc3RDaGlsZCkgOiByLmFwcGVuZENoaWxkKGEpOyB2YXIgcyA9IGYubG9hZFRpbWVvdXQ7IGkgJiYgKG51bGwgPT0gZi5fdGltZW91dCAmJiAoZi5fdGltZW91dCA9IHt9KSwgZi5fdGltZW91dFtlXSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBpKCEwKSB9LCBzKSksIGYuX2xvZy5yZXF1ZXN0cy5wdXNoKHQpIH0sIGYuX2NsZWFyVGltZW91dCA9IGZ1bmN0aW9uIChlKSB7IG51bGwgIT0gZi5fdGltZW91dCAmJiBmLl90aW1lb3V0W2VdICYmIChjbGVhclRpbWVvdXQoZi5fdGltZW91dFtlXSksIGYuX3RpbWVvdXRbZV0gPSAwKSB9LCBmLl9pc0FsbG93ZWREb25lID0gITEsIGYuX2lzQWxsb3dlZEZsYWcgPSAhMSwgZi5pc0FsbG93ZWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmLl9pc0FsbG93ZWREb25lIHx8IChmLl9pc0FsbG93ZWREb25lID0gITAsIChmLmNvb2tpZVJlYWQoZi5jb29raWVOYW1lKSB8fCBmLmNvb2tpZVdyaXRlKGYuY29va2llTmFtZSwgXCJUXCIsIDEpKSAmJiAoZi5faXNBbGxvd2VkRmxhZyA9ICEwKSksIGYuX2lzQWxsb3dlZEZsYWcgfSwgZi5fZmllbGRzID0gbnVsbCwgZi5fZmllbGRzRXhwaXJlZCA9IG51bGw7IHZhciBTID0gXCJNQ1wiLCBEID0gXCJNQ01JRFwiLCBJID0gXCJNQ09SR0lEXCIsIEMgPSBcIk1DQ0lESFwiLCB2ID0gXCJNQ1NZTkNTXCIsIEEgPSBcIk1DU1lOQ1NPUFwiLCB5ID0gXCJNQ0lEVFNcIiwgTSA9IFwiTUNPUFRPVVRcIiwgYiA9IFwiQVwiLCBFID0gXCJNQ0FJRFwiLCBPID0gXCJBQU1cIiwgVCA9IFwiTUNBQU1MSFwiLCBrID0gXCJNQ0FBTUJcIiwgTCA9IFwiTk9ORVwiOyBmLl9zZXR0aW5nc0RpZ2VzdCA9IDAsIGYuX2dldFNldHRpbmdzRGlnZXN0ID0gZnVuY3Rpb24gKCkgeyBpZiAoIWYuX3NldHRpbmdzRGlnZXN0KSB7IHZhciBlID0gZi52ZXJzaW9uOyBmLmF1ZGllbmNlTWFuYWdlclNlcnZlciAmJiAoZSArPSBcInxcIiArIGYuYXVkaWVuY2VNYW5hZ2VyU2VydmVyKSwgZi5hdWRpZW5jZU1hbmFnZXJTZXJ2ZXJTZWN1cmUgJiYgKGUgKz0gXCJ8XCIgKyBmLmF1ZGllbmNlTWFuYWdlclNlcnZlclNlY3VyZSksIGYuX3NldHRpbmdzRGlnZXN0ID0gZi5faGFzaChlKSB9IHJldHVybiBmLl9zZXR0aW5nc0RpZ2VzdCB9LCBmLl9yZWFkVmlzaXRvckRvbmUgPSAhMSwgZi5fcmVhZFZpc2l0b3IgPSBmdW5jdGlvbiAoKSB7IGlmICghZi5fcmVhZFZpc2l0b3JEb25lKSB7IGYuX3JlYWRWaXNpdG9yRG9uZSA9ICEwOyB2YXIgZSwgdCwgaSwgbiwgciwgYSwgcyA9IGYuX2dldFNldHRpbmdzRGlnZXN0KCksIG8gPSAhMSwgbCA9IGYuY29va2llUmVhZChmLmNvb2tpZU5hbWUpLCB1ID0gbmV3IERhdGU7IGlmIChudWxsID09IGYuX2ZpZWxkcyAmJiAoZi5fZmllbGRzID0ge30pLCBsICYmIFwiVFwiICE9PSBsKSBmb3IgKGwgPSBsLnNwbGl0KFwifFwiKSwgbFswXS5tYXRjaCgvXltcXC0wLTldKyQvKSAmJiAocGFyc2VJbnQobFswXSwgMTApICE9PSBzICYmIChvID0gITApLCBsLnNoaWZ0KCkpLCBsLmxlbmd0aCAlIDIgPT0gMSAmJiBsLnBvcCgpLCBlID0gMDsgZSA8IGwubGVuZ3RoOyBlICs9IDIpdCA9IGxbZV0uc3BsaXQoXCItXCIpLCBpID0gdFswXSwgbiA9IGxbZSArIDFdLCB0Lmxlbmd0aCA+IDEgPyAociA9IHBhcnNlSW50KHRbMV0sIDEwKSwgYSA9IHRbMV0uaW5kZXhPZihcInNcIikgPiAwKSA6IChyID0gMCwgYSA9ICExKSwgbyAmJiAoaSA9PT0gQyAmJiAobiA9IFwiXCIpLCByID4gMCAmJiAociA9IHUuZ2V0VGltZSgpIC8gMWUzIC0gNjApKSwgaSAmJiBuICYmIChmLl9zZXRGaWVsZChpLCBuLCAxKSwgciA+IDAgJiYgKGYuX2ZpZWxkc1tcImV4cGlyZVwiICsgaV0gPSByICsgKGEgPyBcInNcIiA6IFwiXCIpLCAodS5nZXRUaW1lKCkgPj0gMWUzICogciB8fCBhICYmICFmLmNvb2tpZVJlYWQoZi5zZXNzaW9uQ29va2llTmFtZSkpICYmIChmLl9maWVsZHNFeHBpcmVkIHx8IChmLl9maWVsZHNFeHBpcmVkID0ge30pLCBmLl9maWVsZHNFeHBpcmVkW2ldID0gITApKSk7ICFmLl9nZXRGaWVsZChFKSAmJiBQLmlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQoKSAmJiAobCA9IGYuY29va2llUmVhZChcInNfdmlcIikpICYmIChsID0gbC5zcGxpdChcInxcIiksIGwubGVuZ3RoID4gMSAmJiBsWzBdLmluZGV4T2YoXCJ2MVwiKSA+PSAwICYmIChuID0gbFsxXSwgZSA9IG4uaW5kZXhPZihcIltcIiksIGUgPj0gMCAmJiAobiA9IG4uc3Vic3RyaW5nKDAsIGUpKSwgbiAmJiBuLm1hdGNoKHAuVkFMSURfVklTSVRPUl9JRF9SRUdFWCkgJiYgZi5fc2V0RmllbGQoRSwgbikpKSB9IH0sIGYuX2FwcGVuZFZlcnNpb25UbyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gXCJ2VmVyc2lvbnxcIiArIGYudmVyc2lvbiwgaSA9IGUgPyBmLl9nZXRDb29raWVWZXJzaW9uKGUpIDogbnVsbDsgcmV0dXJuIGkgPyBQLmFyZVZlcnNpb25zRGlmZmVyZW50KGksIGYudmVyc2lvbikgJiYgKGUgPSBlLnJlcGxhY2UocC5WRVJTSU9OX1JFR0VYLCB0KSkgOiBlICs9IChlID8gXCJ8XCIgOiBcIlwiKSArIHQsIGUgfSwgZi5fd3JpdGVWaXNpdG9yID0gZnVuY3Rpb24gKCkgeyB2YXIgZSwgdCwgaSA9IGYuX2dldFNldHRpbmdzRGlnZXN0KCk7IGZvciAoZSBpbiBmLl9maWVsZHMpIGgoZSkgJiYgZi5fZmllbGRzW2VdICYmIFwiZXhwaXJlXCIgIT09IGUuc3Vic3RyaW5nKDAsIDYpICYmICh0ID0gZi5fZmllbGRzW2VdLCBpICs9IChpID8gXCJ8XCIgOiBcIlwiKSArIGUgKyAoZi5fZmllbGRzW1wiZXhwaXJlXCIgKyBlXSA/IFwiLVwiICsgZi5fZmllbGRzW1wiZXhwaXJlXCIgKyBlXSA6IFwiXCIpICsgXCJ8XCIgKyB0KTsgaSA9IGYuX2FwcGVuZFZlcnNpb25UbyhpKSwgZi5jb29raWVXcml0ZShmLmNvb2tpZU5hbWUsIGksIDEpIH0sIGYuX2dldEZpZWxkID0gZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIG51bGwgPT0gZi5fZmllbGRzIHx8ICF0ICYmIGYuX2ZpZWxkc0V4cGlyZWQgJiYgZi5fZmllbGRzRXhwaXJlZFtlXSA/IG51bGwgOiBmLl9maWVsZHNbZV0gfSwgZi5fc2V0RmllbGQgPSBmdW5jdGlvbiAoZSwgdCwgaSkgeyBudWxsID09IGYuX2ZpZWxkcyAmJiAoZi5fZmllbGRzID0ge30pLCBmLl9maWVsZHNbZV0gPSB0LCBpIHx8IGYuX3dyaXRlVmlzaXRvcigpIH0sIGYuX2dldEZpZWxkTGlzdCA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBpID0gZi5fZ2V0RmllbGQoZSwgdCk7IHJldHVybiBpID8gaS5zcGxpdChcIipcIikgOiBudWxsIH0sIGYuX3NldEZpZWxkTGlzdCA9IGZ1bmN0aW9uIChlLCB0LCBpKSB7IGYuX3NldEZpZWxkKGUsIHQgPyB0LmpvaW4oXCIqXCIpIDogXCJcIiwgaSkgfSwgZi5fZ2V0RmllbGRNYXAgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgaSA9IGYuX2dldEZpZWxkTGlzdChlLCB0KTsgaWYgKGkpIHsgdmFyIG4sIHIgPSB7fTsgZm9yIChuID0gMDsgbiA8IGkubGVuZ3RoOyBuICs9IDIpcltpW25dXSA9IGlbbiArIDFdOyByZXR1cm4gciB9IHJldHVybiBudWxsIH0sIGYuX3NldEZpZWxkTWFwID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4sIHIgPSBudWxsOyBpZiAodCkgeyByID0gW107IGZvciAobiBpbiB0KSBoKG4pICYmIChyLnB1c2gobiksIHIucHVzaCh0W25dKSkgfSBmLl9zZXRGaWVsZExpc3QoZSwgciwgaSkgfSwgZi5fc2V0RmllbGRFeHBpcmUgPSBmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiA9IG5ldyBEYXRlOyBuLnNldFRpbWUobi5nZXRUaW1lKCkgKyAxZTMgKiB0KSwgbnVsbCA9PSBmLl9maWVsZHMgJiYgKGYuX2ZpZWxkcyA9IHt9KSwgZi5fZmllbGRzW1wiZXhwaXJlXCIgKyBlXSA9IE1hdGguZmxvb3Iobi5nZXRUaW1lKCkgLyAxZTMpICsgKGkgPyBcInNcIiA6IFwiXCIpLCB0IDwgMCA/IChmLl9maWVsZHNFeHBpcmVkIHx8IChmLl9maWVsZHNFeHBpcmVkID0ge30pLCBmLl9maWVsZHNFeHBpcmVkW2VdID0gITApIDogZi5fZmllbGRzRXhwaXJlZCAmJiAoZi5fZmllbGRzRXhwaXJlZFtlXSA9ICExKSwgaSAmJiAoZi5jb29raWVSZWFkKGYuc2Vzc2lvbkNvb2tpZU5hbWUpIHx8IGYuY29va2llV3JpdGUoZi5zZXNzaW9uQ29va2llTmFtZSwgXCIxXCIpKSB9LCBmLl9maW5kVmlzaXRvcklEID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgJiYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgJiYgKGUgPSBlLmRfbWlkID8gZS5kX21pZCA6IGUudmlzaXRvcklEID8gZS52aXNpdG9ySUQgOiBlLmlkID8gZS5pZCA6IGUudXVpZCA/IGUudXVpZCA6IFwiXCIgKyBlKSwgZSAmJiBcIk5PVEFSR0VUXCIgPT09IChlID0gZS50b1VwcGVyQ2FzZSgpKSAmJiAoZSA9IEwpLCBlICYmIChlID09PSBMIHx8IGUubWF0Y2gocC5WQUxJRF9WSVNJVE9SX0lEX1JFR0VYKSkgfHwgKGUgPSBcIlwiKSksIGUgfSwgZi5fc2V0RmllbGRzID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKGYuX2NsZWFyVGltZW91dChlKSwgbnVsbCAhPSBmLl9sb2FkaW5nICYmIChmLl9sb2FkaW5nW2VdID0gITEpLCBOLmZpZWxkR3JvdXBPYmpbZV0gJiYgTi5zZXRTdGF0ZShlLCAhMSksIGUgPT09IFMpIHsgITAgIT09IE4uaXNDbGllbnRTaWRlTWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgJiYgKE4uaXNDbGllbnRTaWRlTWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgPSAhMSk7IHZhciBpID0gZi5fZ2V0RmllbGQoRCk7IGlmICghaSB8fCBmLm92ZXJ3cml0ZUNyb3NzRG9tYWluTUNJREFuZEFJRCkgeyBpZiAoIShpID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCAmJiB0Lm1pZCA/IHQubWlkIDogZi5fZmluZFZpc2l0b3JJRCh0KSkpIHsgaWYgKGYuX3VzZTFzdFBhcnR5TWFya2V0aW5nQ2xvdWRTZXJ2ZXIgJiYgIWYudHJpZWQxc3RQYXJ0eU1hcmtldGluZ0Nsb3VkU2VydmVyKSByZXR1cm4gZi50cmllZDFzdFBhcnR5TWFya2V0aW5nQ2xvdWRTZXJ2ZXIgPSAhMCwgdm9pZCBmLmdldEFuYWx5dGljc1Zpc2l0b3JJRChudWxsLCAhMSwgITApOyBpID0gZi5fZ2VuZXJhdGVJRCgwLCBEKSB9IGYuX3NldEZpZWxkKEQsIGkpIH0gaSAmJiBpICE9PSBMIHx8IChpID0gXCJcIiksIFwib2JqZWN0XCIgPT0gdHlwZW9mIHQgJiYgKCh0LmRfcmVnaW9uIHx8IHQuZGNzX3JlZ2lvbiB8fCB0LmRfYmxvYiB8fCB0LmJsb2IpICYmIGYuX3NldEZpZWxkcyhPLCB0KSwgZi5fdXNlMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlciAmJiB0Lm1pZCAmJiBmLl9zZXRGaWVsZHMoYiwgeyBpZDogdC5pZCB9KSksIGYuX2NhbGxBbGxDYWxsYmFja3MoRCwgW2ldKSB9IGlmIChlID09PSBPICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIHQpIHsgdmFyIG4gPSA2MDQ4MDA7IHZvaWQgMCAhPSB0LmlkX3N5bmNfdHRsICYmIHQuaWRfc3luY190dGwgJiYgKG4gPSBwYXJzZUludCh0LmlkX3N5bmNfdHRsLCAxMCkpOyB2YXIgciA9IGYuX2dldEZpZWxkKFQpOyByIHx8IChyID0gdC5kX3JlZ2lvbiwgciB8fCAociA9IHQuZGNzX3JlZ2lvbiksIHIgJiYgKGYuX3NldEZpZWxkRXhwaXJlKFQsIG4pLCBmLl9zZXRGaWVsZChULCByKSkpLCByIHx8IChyID0gXCJcIiksIGYuX2NhbGxBbGxDYWxsYmFja3MoVCwgW3JdKTsgdmFyIGEgPSBmLl9nZXRGaWVsZChrKTsgKHQuZF9ibG9iIHx8IHQuYmxvYikgJiYgKGEgPSB0LmRfYmxvYiwgYSB8fCAoYSA9IHQuYmxvYiksIGYuX3NldEZpZWxkRXhwaXJlKGssIG4pLCBmLl9zZXRGaWVsZChrLCBhKSksIGEgfHwgKGEgPSBcIlwiKSwgZi5fY2FsbEFsbENhbGxiYWNrcyhrLCBbYV0pLCAhdC5lcnJvcl9tc2cgJiYgZi5fbmV3Q3VzdG9tZXJJRHNIYXNoICYmIGYuX3NldEZpZWxkKEMsIGYuX25ld0N1c3RvbWVySURzSGFzaCkgfSBpZiAoZSA9PT0gYikgeyB2YXIgcyA9IGYuX2dldEZpZWxkKEUpOyBzICYmICFmLm92ZXJ3cml0ZUNyb3NzRG9tYWluTUNJREFuZEFJRCB8fCAocyA9IGYuX2ZpbmRWaXNpdG9ySUQodCksIHMgPyBzICE9PSBMICYmIGYuX3NldEZpZWxkRXhwaXJlKGssIC0xKSA6IHMgPSBMLCBmLl9zZXRGaWVsZChFLCBzKSksIHMgJiYgcyAhPT0gTCB8fCAocyA9IFwiXCIpLCBmLl9jYWxsQWxsQ2FsbGJhY2tzKEUsIFtzXSkgfSBpZiAoZi5pZFN5bmNEaXNhYmxlU3luY3MpIHcuaWRDYWxsTm90UHJvY2Vzc3NlZCA9ICEwOyBlbHNlIHsgdy5pZENhbGxOb3RQcm9jZXNzc2VkID0gITE7IHZhciBvID0ge307IG8uaWJzID0gdC5pYnMsIG8uc3ViZG9tYWluID0gdC5zdWJkb21haW4sIHcucHJvY2Vzc0lEQ2FsbERhdGEobykgfSBpZiAodCA9PT0gT2JqZWN0KHQpKSB7IHZhciBsLCB1OyBmLmlzQWxsb3dlZCgpICYmIChsID0gZi5fZ2V0RmllbGQoTSkpLCBsIHx8IChsID0gTCwgdC5kX29wdG91dCAmJiB0LmRfb3B0b3V0IGluc3RhbmNlb2YgQXJyYXkgJiYgKGwgPSB0LmRfb3B0b3V0LmpvaW4oXCIsXCIpKSwgdSA9IHBhcnNlSW50KHQuZF9vdHRsLCAxMCksIGlzTmFOKHUpICYmICh1ID0gNzIwMCksIGYuX3NldEZpZWxkRXhwaXJlKE0sIHUsICEwKSwgZi5fc2V0RmllbGQoTSwgbCkpLCBmLl9jYWxsQWxsQ2FsbGJhY2tzKE0sIFtsXSkgfSB9LCBmLl9sb2FkaW5nID0gbnVsbCwgZi5fZ2V0UmVtb3RlRmllbGQgPSBmdW5jdGlvbiAoZSwgdCwgaSwgbiwgcikgeyB2YXIgYSwgcyA9IFwiXCIsIG8gPSBQLmlzRmlyc3RQYXJ0eUFuYWx5dGljc1Zpc2l0b3JJRENhbGwoZSk7IGlmIChmLmlzQWxsb3dlZCgpKSB7IGYuX3JlYWRWaXNpdG9yKCksIHMgPSBmLl9nZXRGaWVsZChlLCAhMCA9PT0geFtlXSk7IGlmIChmdW5jdGlvbiAoKSB7IHJldHVybiAoIXMgfHwgZi5fZmllbGRzRXhwaXJlZCAmJiBmLl9maWVsZHNFeHBpcmVkW2VdKSAmJiAoIWYuZGlzYWJsZVRoaXJkUGFydHlDYWxscyB8fCBvKSB9KCkpIHsgaWYgKGUgPT09IEQgfHwgZSA9PT0gTSA/IGEgPSBTIDogZSA9PT0gVCB8fCBlID09PSBrID8gYSA9IE8gOiBlID09PSBFICYmIChhID0gYiksIGEpIHJldHVybiAhdCB8fCBudWxsICE9IGYuX2xvYWRpbmcgJiYgZi5fbG9hZGluZ1thXSB8fCAobnVsbCA9PSBmLl9sb2FkaW5nICYmIChmLl9sb2FkaW5nID0ge30pLCBmLl9sb2FkaW5nW2FdID0gITAsIGYuX2xvYWREYXRhKGEsIHQsIGZ1bmN0aW9uICh0KSB7IGlmICghZi5fZ2V0RmllbGQoZSkpIHsgdCAmJiBOLnNldFN0YXRlKGEsICEwKTsgdmFyIGkgPSBcIlwiOyBlID09PSBEID8gaSA9IGYuX2dlbmVyYXRlSUQoMCwgRCkgOiBhID09PSBPICYmIChpID0geyBlcnJvcl9tc2c6IFwidGltZW91dFwiIH0pLCBmLl9zZXRGaWVsZHMoYSwgaSkgfSB9LCByKSksIGYuX3JlZ2lzdGVyQ2FsbGJhY2soZSwgaSksIHMgfHwgKHQgfHwgZi5fc2V0RmllbGRzKGEsIHsgaWQ6IEwgfSksIFwiXCIpIH0gZWxzZSBzIHx8IChlID09PSBEID8gKGYuX3JlZ2lzdGVyQ2FsbGJhY2soZSwgaSksIHMgPSBmLl9nZW5lcmF0ZUlEKDAsIEQpLCBmLnNldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEKHMpKSA6IGUgPT09IEUgPyAoZi5fcmVnaXN0ZXJDYWxsYmFjayhlLCBpKSwgcyA9IFwiXCIsIGYuc2V0QW5hbHl0aWNzVmlzaXRvcklEKHMpKSA6IChzID0gXCJcIiwgbiA9ICEwKSkgfSByZXR1cm4gZSAhPT0gRCAmJiBlICE9PSBFIHx8IHMgIT09IEwgfHwgKHMgPSBcIlwiLCBuID0gITApLCBpICYmIG4gJiYgZi5fY2FsbENhbGxiYWNrKGksIFtzXSksIHMgfSwgZi5fc2V0TWFya2V0aW5nQ2xvdWRGaWVsZHMgPSBmdW5jdGlvbiAoZSkgeyBmLl9yZWFkVmlzaXRvcigpLCBmLl9zZXRGaWVsZHMoUywgZSkgfSwgZi5zZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCA9IGZ1bmN0aW9uIChlKSB7IGYuX3NldE1hcmtldGluZ0Nsb3VkRmllbGRzKGUpIH0sIGYuX3VzZTFzdFBhcnR5TWFya2V0aW5nQ2xvdWRTZXJ2ZXIgPSAhMSwgZi5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChmLmlzQWxsb3dlZCgpKSB7IGYubWFya2V0aW5nQ2xvdWRTZXJ2ZXIgJiYgZi5tYXJrZXRpbmdDbG91ZFNlcnZlci5pbmRleE9mKFwiLmRlbWRleC5uZXRcIikgPCAwICYmIChmLl91c2Uxc3RQYXJ0eU1hcmtldGluZ0Nsb3VkU2VydmVyID0gITApOyB2YXIgaSA9IGYuX2dldEF1ZGllbmNlTWFuYWdlclVSTERhdGEoXCJfc2V0TWFya2V0aW5nQ2xvdWRGaWVsZHNcIiksIG4gPSBpLnVybDsgcmV0dXJuIGYuX2dldFJlbW90ZUZpZWxkKEQsIG4sIGUsIHQsIGkpIH0gcmV0dXJuIFwiXCIgfSwgZi5fbWFwQ3VzdG9tZXJJRHMgPSBmdW5jdGlvbiAoZSkgeyBmLmdldEF1ZGllbmNlTWFuYWdlckJsb2IoZSwgITApIH0sIF8uQXV0aFN0YXRlID0geyBVTktOT1dOOiAwLCBBVVRIRU5USUNBVEVEOiAxLCBMT0dHRURfT1VUOiAyIH0sIGYuX2N1cnJlbnRDdXN0b21lcklEcyA9IHt9LCBmLl9jdXN0b21lcklEc0hhc2hDaGFuZ2VkID0gITEsIGYuX25ld0N1c3RvbWVySURzSGFzaCA9IFwiXCIsIGYuc2V0Q3VzdG9tZXJJRHMgPSBmdW5jdGlvbiAoZSkgeyBmdW5jdGlvbiB0KCkgeyBmLl9jdXN0b21lcklEc0hhc2hDaGFuZ2VkID0gITEgfSBpZiAoZi5pc0FsbG93ZWQoKSAmJiBlKSB7IGYuX3JlYWRWaXNpdG9yKCk7IHZhciBpLCBuOyBmb3IgKGkgaW4gZSkgaWYgKGgoaSkgJiYgKG4gPSBlW2ldKSkgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIG4pIHsgdmFyIHIgPSB7fTsgbi5pZCAmJiAoci5pZCA9IG4uaWQpLCB2b2lkIDAgIT0gbi5hdXRoU3RhdGUgJiYgKHIuYXV0aFN0YXRlID0gbi5hdXRoU3RhdGUpLCBmLl9jdXJyZW50Q3VzdG9tZXJJRHNbaV0gPSByIH0gZWxzZSBmLl9jdXJyZW50Q3VzdG9tZXJJRHNbaV0gPSB7IGlkOiBuIH07IHZhciBhID0gZi5nZXRDdXN0b21lcklEcygpLCBzID0gZi5fZ2V0RmllbGQoQyksIG8gPSBcIlwiOyBzIHx8IChzID0gMCk7IGZvciAoaSBpbiBhKSBoKGkpICYmIChuID0gYVtpXSwgbyArPSAobyA/IFwifFwiIDogXCJcIikgKyBpICsgXCJ8XCIgKyAobi5pZCA/IG4uaWQgOiBcIlwiKSArIChuLmF1dGhTdGF0ZSA/IG4uYXV0aFN0YXRlIDogXCJcIikpOyBmLl9uZXdDdXN0b21lcklEc0hhc2ggPSBmLl9oYXNoKG8pLCBmLl9uZXdDdXN0b21lcklEc0hhc2ggIT09IHMgJiYgKGYuX2N1c3RvbWVySURzSGFzaENoYW5nZWQgPSAhMCwgZi5fbWFwQ3VzdG9tZXJJRHModCkpIH0gfSwgZi5nZXRDdXN0b21lcklEcyA9IGZ1bmN0aW9uICgpIHsgZi5fcmVhZFZpc2l0b3IoKTsgdmFyIGUsIHQsIGkgPSB7fTsgZm9yIChlIGluIGYuX2N1cnJlbnRDdXN0b21lcklEcykgaChlKSAmJiAodCA9IGYuX2N1cnJlbnRDdXN0b21lcklEc1tlXSwgaVtlXSB8fCAoaVtlXSA9IHt9KSwgdC5pZCAmJiAoaVtlXS5pZCA9IHQuaWQpLCB2b2lkIDAgIT0gdC5hdXRoU3RhdGUgPyBpW2VdLmF1dGhTdGF0ZSA9IHQuYXV0aFN0YXRlIDogaVtlXS5hdXRoU3RhdGUgPSBfLkF1dGhTdGF0ZS5VTktOT1dOKTsgcmV0dXJuIGkgfSwgZi5fc2V0QW5hbHl0aWNzRmllbGRzID0gZnVuY3Rpb24gKGUpIHsgZi5fcmVhZFZpc2l0b3IoKSwgZi5fc2V0RmllbGRzKGIsIGUpIH0sIGYuc2V0QW5hbHl0aWNzVmlzaXRvcklEID0gZnVuY3Rpb24gKGUpIHsgZi5fc2V0QW5hbHl0aWNzRmllbGRzKGUpIH0sIGYuZ2V0QW5hbHl0aWNzVmlzaXRvcklEID0gZnVuY3Rpb24gKGUsIHQsIGkpIHsgaWYgKCFQLmlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQoKSAmJiAhaSkgcmV0dXJuIGYuX2NhbGxDYWxsYmFjayhlLCBbXCJcIl0pLCBcIlwiOyBpZiAoZi5pc0FsbG93ZWQoKSkgeyB2YXIgbiA9IFwiXCI7IGlmIChpIHx8IChuID0gZi5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRChmdW5jdGlvbiAodCkgeyBmLmdldEFuYWx5dGljc1Zpc2l0b3JJRChlLCAhMCkgfSkpLCBuIHx8IGkpIHsgdmFyIHIgPSBpID8gZi5tYXJrZXRpbmdDbG91ZFNlcnZlciA6IGYudHJhY2tpbmdTZXJ2ZXIsIGEgPSBcIlwiOyBmLmxvYWRTU0wgJiYgKGkgPyBmLm1hcmtldGluZ0Nsb3VkU2VydmVyU2VjdXJlICYmIChyID0gZi5tYXJrZXRpbmdDbG91ZFNlcnZlclNlY3VyZSkgOiBmLnRyYWNraW5nU2VydmVyU2VjdXJlICYmIChyID0gZi50cmFja2luZ1NlcnZlclNlY3VyZSkpOyB2YXIgcyA9IHt9OyBpZiAocikgeyB2YXIgbyA9IFwiaHR0cFwiICsgKGYubG9hZFNTTCA/IFwic1wiIDogXCJcIikgKyBcIjovL1wiICsgciArIFwiL2lkXCIsIGwgPSBcImRfdmlzaWRfdmVyPVwiICsgZi52ZXJzaW9uICsgXCImbWNvcmdpZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmLm1hcmtldGluZ0Nsb3VkT3JnSUQpICsgKG4gPyBcIiZtaWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQobikgOiBcIlwiKSArIChmLmlkU3luY0Rpc2FibGUzcmRQYXJ0eVN5bmNpbmcgPyBcIiZkX2NvcHBhPXRydWVcIiA6IFwiXCIpLCB1ID0gW1wic19jX2lsXCIsIGYuX2luLCBcIl9zZXRcIiArIChpID8gXCJNYXJrZXRpbmdDbG91ZFwiIDogXCJBbmFseXRpY3NcIikgKyBcIkZpZWxkc1wiXTsgYSA9IG8gKyBcIj9cIiArIGwgKyBcIiZjYWxsYmFjaz1zX2NfaWwlNUJcIiArIGYuX2luICsgXCIlNUQuX3NldFwiICsgKGkgPyBcIk1hcmtldGluZ0Nsb3VkXCIgOiBcIkFuYWx5dGljc1wiKSArIFwiRmllbGRzXCIsIHMuY29yc1VybCA9IG8gKyBcIj9cIiArIGwsIHMuY2FsbGJhY2sgPSB1IH0gcmV0dXJuIHMudXJsID0gYSwgZi5fZ2V0UmVtb3RlRmllbGQoaSA/IEQgOiBFLCBhLCBlLCB0LCBzKSB9IH0gcmV0dXJuIFwiXCIgfSwgZi5fc2V0QXVkaWVuY2VNYW5hZ2VyRmllbGRzID0gZnVuY3Rpb24gKGUpIHsgZi5fcmVhZFZpc2l0b3IoKSwgZi5fc2V0RmllbGRzKE8sIGUpIH0sIGYuX2dldEF1ZGllbmNlTWFuYWdlclVSTERhdGEgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGYuYXVkaWVuY2VNYW5hZ2VyU2VydmVyLCBpID0gXCJcIiwgbiA9IGYuX2dldEZpZWxkKEQpLCByID0gZi5fZ2V0RmllbGQoaywgITApLCBhID0gZi5fZ2V0RmllbGQoRSksIHMgPSBhICYmIGEgIT09IEwgPyBcIiZkX2NpZF9pYz1BVklEJTAxXCIgKyBlbmNvZGVVUklDb21wb25lbnQoYSkgOiBcIlwiOyBpZiAoZi5sb2FkU1NMICYmIGYuYXVkaWVuY2VNYW5hZ2VyU2VydmVyU2VjdXJlICYmICh0ID0gZi5hdWRpZW5jZU1hbmFnZXJTZXJ2ZXJTZWN1cmUpLCB0KSB7IHZhciBvLCBsLCB1ID0gZi5nZXRDdXN0b21lcklEcygpOyBpZiAodSkgZm9yIChvIGluIHUpIGgobykgJiYgKGwgPSB1W29dLCBzICs9IFwiJmRfY2lkX2ljPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG8pICsgXCIlMDFcIiArIGVuY29kZVVSSUNvbXBvbmVudChsLmlkID8gbC5pZCA6IFwiXCIpICsgKGwuYXV0aFN0YXRlID8gXCIlMDFcIiArIGwuYXV0aFN0YXRlIDogXCJcIikpOyBlIHx8IChlID0gXCJfc2V0QXVkaWVuY2VNYW5hZ2VyRmllbGRzXCIpOyB2YXIgYyA9IFwiaHR0cFwiICsgKGYubG9hZFNTTCA/IFwic1wiIDogXCJcIikgKyBcIjovL1wiICsgdCArIFwiL2lkXCIsIGQgPSBcImRfdmlzaWRfdmVyPVwiICsgZi52ZXJzaW9uICsgXCImZF9ydGJkPWpzb24mZF92ZXI9MlwiICsgKCFuICYmIGYuX3VzZTFzdFBhcnR5TWFya2V0aW5nQ2xvdWRTZXJ2ZXIgPyBcIiZkX3ZlcmlmeT0xXCIgOiBcIlwiKSArIFwiJmRfb3JnaWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZi5tYXJrZXRpbmdDbG91ZE9yZ0lEKSArIFwiJmRfbnNpZD1cIiArIChmLmlkU3luY0NvbnRhaW5lcklEIHx8IDApICsgKG4gPyBcIiZkX21pZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChuKSA6IFwiXCIpICsgKGYuaWRTeW5jRGlzYWJsZTNyZFBhcnR5U3luY2luZyA/IFwiJmRfY29wcGE9dHJ1ZVwiIDogXCJcIikgKyAociA/IFwiJmRfYmxvYj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChyKSA6IFwiXCIpICsgcywgZyA9IFtcInNfY19pbFwiLCBmLl9pbiwgZV07IHJldHVybiBpID0gYyArIFwiP1wiICsgZCArIFwiJmRfY2I9c19jX2lsJTVCXCIgKyBmLl9pbiArIFwiJTVELlwiICsgZSwgeyB1cmw6IGksIGNvcnNVcmw6IGMgKyBcIj9cIiArIGQsIGNhbGxiYWNrOiBnIH0gfSByZXR1cm4geyB1cmw6IGkgfSB9LCBmLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChmLmlzQWxsb3dlZCgpKSB7IGlmIChmLmdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEKGZ1bmN0aW9uICh0KSB7IGYuZ2V0QXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50KGUsICEwKSB9KSkgeyB2YXIgaSA9IGYuX2dldEZpZWxkKEUpOyBpZiAoIWkgJiYgUC5pc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkKCkgJiYgKGkgPSBmLmdldEFuYWx5dGljc1Zpc2l0b3JJRChmdW5jdGlvbiAodCkgeyBmLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludChlLCAhMCkgfSkpLCBpIHx8ICFQLmlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQoKSkgeyB2YXIgbiA9IGYuX2dldEF1ZGllbmNlTWFuYWdlclVSTERhdGEoKSwgciA9IG4udXJsOyByZXR1cm4gZi5fZ2V0UmVtb3RlRmllbGQoVCwgciwgZSwgdCwgbikgfSB9IH0gcmV0dXJuIFwiXCIgfSwgZi5nZXRMb2NhdGlvbkhpbnQgPSBmLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludCwgZi5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKGYuaXNBbGxvd2VkKCkpIHsgaWYgKGYuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoZnVuY3Rpb24gKHQpIHsgZi5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKGUsICEwKSB9KSkgeyB2YXIgaSA9IGYuX2dldEZpZWxkKEUpOyBpZiAoIWkgJiYgUC5pc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkKCkgJiYgKGkgPSBmLmdldEFuYWx5dGljc1Zpc2l0b3JJRChmdW5jdGlvbiAodCkgeyBmLmdldEF1ZGllbmNlTWFuYWdlckJsb2IoZSwgITApIH0pKSwgaSB8fCAhUC5pc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkKCkpIHsgdmFyIG4gPSBmLl9nZXRBdWRpZW5jZU1hbmFnZXJVUkxEYXRhKCksIHIgPSBuLnVybDsgcmV0dXJuIGYuX2N1c3RvbWVySURzSGFzaENoYW5nZWQgJiYgZi5fc2V0RmllbGRFeHBpcmUoaywgLTEpLCBmLl9nZXRSZW1vdGVGaWVsZChrLCByLCBlLCB0LCBuKSB9IH0gfSByZXR1cm4gXCJcIiB9LCBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50ID0gXCJcIiwgZi5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkID0ge30sIGYuX3N1cHBsZW1lbnRhbERhdGFJRExhc3QgPSBcIlwiLCBmLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0Q29uc3VtZWQgPSB7fSwgZi5nZXRTdXBwbGVtZW50YWxEYXRhSUQgPSBmdW5jdGlvbiAoZSwgdCkgeyBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50IHx8IHQgfHwgKGYuX3N1cHBsZW1lbnRhbERhdGFJREN1cnJlbnQgPSBmLl9nZW5lcmF0ZUlEKDEpKTsgdmFyIGkgPSBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50OyByZXR1cm4gZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdCAmJiAhZi5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkW2VdID8gKGkgPSBmLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0LCBmLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0Q29uc3VtZWRbZV0gPSAhMCkgOiBpICYmIChmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWRbZV0gJiYgKGYuX3N1cHBsZW1lbnRhbERhdGFJRExhc3QgPSBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50LCBmLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0Q29uc3VtZWQgPSBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQsIGYuX3N1cHBsZW1lbnRhbERhdGFJREN1cnJlbnQgPSBpID0gdCA/IFwiXCIgOiBmLl9nZW5lcmF0ZUlEKDEpLCBmLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQgPSB7fSksIGkgJiYgKGYuX3N1cHBsZW1lbnRhbERhdGFJREN1cnJlbnRDb25zdW1lZFtlXSA9ICEwKSksIGkgfSwgXy5PcHRPdXQgPSB7IEdMT0JBTDogXCJnbG9iYWxcIiB9LCBmLmdldE9wdE91dCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChmLmlzQWxsb3dlZCgpKSB7IHZhciBpID0gZi5fZ2V0QXVkaWVuY2VNYW5hZ2VyVVJMRGF0YShcIl9zZXRNYXJrZXRpbmdDbG91ZEZpZWxkc1wiKSwgbiA9IGkudXJsOyByZXR1cm4gZi5fZ2V0UmVtb3RlRmllbGQoTSwgbiwgZSwgdCwgaSkgfSByZXR1cm4gXCJcIiB9LCBmLmlzT3B0ZWRPdXQgPSBmdW5jdGlvbiAoZSwgdCwgaSkgeyBpZiAoZi5pc0FsbG93ZWQoKSkgeyB0IHx8ICh0ID0gXy5PcHRPdXQuR0xPQkFMKTsgdmFyIG4gPSBmLmdldE9wdE91dChmdW5jdGlvbiAoaSkgeyB2YXIgbiA9IGkgPT09IF8uT3B0T3V0LkdMT0JBTCB8fCBpLmluZGV4T2YodCkgPj0gMDsgZi5fY2FsbENhbGxiYWNrKGUsIFtuXSkgfSwgaSk7IHJldHVybiBuID8gbiA9PT0gXy5PcHRPdXQuR0xPQkFMIHx8IG4uaW5kZXhPZih0KSA+PSAwIDogbnVsbCB9IHJldHVybiAhMSB9LCBmLmFwcGVuZFZpc2l0b3JJRHNUbyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gcC5BRE9CRV9NQywgaSA9IFtbRCwgZi5fZ2V0RmllbGQoRCldLCBbRSwgZi5fZ2V0RmllbGQoRSldLCBbSSwgZi5tYXJrZXRpbmdDbG91ZE9yZ0lEXV0sIG4gPSBvKGkpOyB0cnkgeyByZXR1cm4gZi5fYWRkUXVlcnlzdHJpbmdQYXJhbShlLCB0LCBuKSB9IGNhdGNoICh0KSB7IHJldHVybiBlIH0gfSwgZi5hcHBlbmRTdXBwbGVtZW50YWxEYXRhSURUbyA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICghKHQgPSB0IHx8IGYuZ2V0U3VwcGxlbWVudGFsRGF0YUlEKFAuZ2VuZXJhdGVSYW5kb21TdHJpbmcoKSwgITApKSkgcmV0dXJuIGU7IHZhciBpID0gcC5BRE9CRV9NQ19TRElELCBuID0gXCJTRElEPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHQpICsgXCJ8XCI7IG4gKz0gSSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGYubWFya2V0aW5nQ2xvdWRPcmdJRCkgKyBcInxcIiwgbiArPSBcIlRTPVwiICsgUC5nZXRUaW1lc3RhbXBJblNlY29uZHMoKTsgdHJ5IHsgcmV0dXJuIGYuX2FkZFF1ZXJ5c3RyaW5nUGFyYW0oZSwgaSwgbikgfSBjYXRjaCAodCkgeyByZXR1cm4gZSB9IH0sIGYuX3hkID0geyBwb3N0TWVzc2FnZTogZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4gPSAxOyB0ICYmIChwLlBPU1RfTUVTU0FHRV9FTkFCTEVEID8gaS5wb3N0TWVzc2FnZShlLCB0LnJlcGxhY2UoLyhbXjpdKzpcXC9cXC9bXlxcL10rKS4qLywgXCIkMVwiKSkgOiB0ICYmIChpLmxvY2F0aW9uID0gdC5yZXBsYWNlKC8jLiokLywgXCJcIikgKyBcIiNcIiArICtuZXcgRGF0ZSArIG4rKyArIFwiJlwiICsgZSkpIH0sIHJlY2VpdmVNZXNzYWdlOiBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgaTsgdHJ5IHsgcC5QT1NUX01FU1NBR0VfRU5BQkxFRCAmJiAoZSAmJiAoaSA9IGZ1bmN0aW9uIChpKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0ICYmIGkub3JpZ2luICE9PSB0IHx8IFwiW29iamVjdCBGdW5jdGlvbl1cIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpICYmICExID09PSB0KGkub3JpZ2luKSkgcmV0dXJuICExOyBlKGkpIH0pLCBnLmFkZEV2ZW50TGlzdGVuZXIgPyBnW2UgPyBcImFkZEV2ZW50TGlzdGVuZXJcIiA6IFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiXShcIm1lc3NhZ2VcIiwgaSwgITEpIDogZ1tlID8gXCJhdHRhY2hFdmVudFwiIDogXCJkZXRhY2hFdmVudFwiXShcIu+/vVwiLCBpKSkgfSBjYXRjaCAoZSkgeyB9IH0gfTsgdmFyIFAgPSB7IGFkZExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBtLmFkZEV2ZW50TGlzdGVuZXIgPyBmdW5jdGlvbiAoZSwgdCwgaSkgeyBlLmFkZEV2ZW50TGlzdGVuZXIodCwgZnVuY3Rpb24gKGUpIHsgXCJmdW5jdGlvblwiID09IHR5cGVvZiBpICYmIGkoZSkgfSwgITEpIH0gOiBtLmF0dGFjaEV2ZW50ID8gZnVuY3Rpb24gKGUsIHQsIGkpIHsgZS5hdHRhY2hFdmVudChcIm9uXCIgKyB0LCBmdW5jdGlvbiAoZSkgeyBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGkgJiYgaShlKSB9KSB9IDogdm9pZCAwIH0oKSwgbWFwOiBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoQXJyYXkucHJvdG90eXBlLm1hcCkgcmV0dXJuIGUubWFwKHQpOyBpZiAodm9pZCAwID09PSBlIHx8IG51bGwgPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcjsgdmFyIGkgPSBPYmplY3QoZSksIG4gPSBpLmxlbmd0aCA+Pj4gMDsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgdCkgdGhyb3cgbmV3IFR5cGVFcnJvcjsgZm9yICh2YXIgciA9IG5ldyBBcnJheShuKSwgYSA9IGFyZ3VtZW50c1sxXSwgcyA9IDA7IHMgPCBuOyBzKyspcyBpbiBpICYmIChyW3NdID0gdC5jYWxsKGEsIGlbc10sIHMsIGkpKTsgcmV0dXJuIHIgfSwgZW5jb2RlQW5kQnVpbGRSZXF1ZXN0OiBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gdGhpcy5tYXAoZSwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKSB9KS5qb2luKHQpIH0sIHBhcnNlSGFzaDogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmluZGV4T2YoXCIjXCIpOyByZXR1cm4gdCA+IDAgPyBlLnN1YnN0cih0KSA6IFwiXCIgfSwgaGFzaGxlc3NVcmw6IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5pbmRleE9mKFwiI1wiKTsgcmV0dXJuIHQgPiAwID8gZS5zdWJzdHIoMCwgdCkgOiBlIH0sIGFkZFF1ZXJ5UGFyYW1BdExvY2F0aW9uOiBmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiA9IGUuc3BsaXQoXCImXCIpOyByZXR1cm4gaSA9IG51bGwgIT0gaSA/IGkgOiBuLmxlbmd0aCwgbi5zcGxpY2UoaSwgMCwgdCksIG4uam9pbihcIiZcIikgfSwgaXNGaXJzdFBhcnR5QW5hbHl0aWNzVmlzaXRvcklEQ2FsbDogZnVuY3Rpb24gKGUsIHQsIGkpIHsgaWYgKGUgIT09IEUpIHJldHVybiAhMTsgdmFyIG47IHJldHVybiB0IHx8ICh0ID0gZi50cmFja2luZ1NlcnZlciksIGkgfHwgKGkgPSBmLnRyYWNraW5nU2VydmVyU2VjdXJlKSwgIShcInN0cmluZ1wiICE9IHR5cGVvZiAobiA9IGYubG9hZFNTTCA/IGkgOiB0KSB8fCAhbi5sZW5ndGgpICYmIChuLmluZGV4T2YoXCIybzcubmV0XCIpIDwgMCAmJiBuLmluZGV4T2YoXCJvbXRyZGMubmV0XCIpIDwgMCkgfSwgaXNPYmplY3Q6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBCb29sZWFuKGUgJiYgZSA9PT0gT2JqZWN0KGUpKSB9LCBpc0xlc3NUaGFuOiBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gZi5fY29tcGFyZVZlcnNpb25zKGUsIHQpIDwgMCB9LCBhcmVWZXJzaW9uc0RpZmZlcmVudDogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIDAgIT09IGYuX2NvbXBhcmVWZXJzaW9ucyhlLCB0KSB9LCByZW1vdmVDb29raWU6IGZ1bmN0aW9uIChlKSB7IGRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChlKSArIFwiPTsgUGF0aD0vOyBFeHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UO1wiIH0sIGlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEhZi50cmFja2luZ1NlcnZlciB8fCAhIWYudHJhY2tpbmdTZXJ2ZXJTZWN1cmUgfSwgcGFyc2VKU09OOiBmdW5jdGlvbiAoZSwgdCkgeyBmdW5jdGlvbiBpKGUsIG4pIHsgdmFyIHIsIGEsIHMgPSBlW25dOyBpZiAocyAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBzKSBmb3IgKHIgaW4gcykgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHIpICYmIChhID0gaShzLCByKSwgdm9pZCAwICE9PSBhID8gc1tyXSA9IGEgOiBkZWxldGUgc1tyXSk7IHJldHVybiB0LmNhbGwoZSwgbiwgcykgfSBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgSlNPTiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIEpTT04ucGFyc2UpIHJldHVybiBKU09OLnBhcnNlKGUsIHQpOyB2YXIgbiwgciA9IC9eW1xcXSw6e31cXHNdKiQvLCBhID0gL1xcXFwoPzpbXCJcXFxcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZywgcyA9IC9cIlteXCJcXFxcXFxuXFxyXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZywgbyA9IC8oPzpefDp8LCkoPzpcXHMqXFxbKSsvZywgbCA9IC9bXFx1MDAwMFxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nOyBpZiAoZSA9IFN0cmluZyhlKSwgbC5sYXN0SW5kZXggPSAwLCBsLnRlc3QoZSkgJiYgKGUgPSBlLnJlcGxhY2UobCwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIFwiXFxcXHVcIiArIChcIjAwMDBcIiArIGUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KSB9KSksIHIudGVzdChlLnJlcGxhY2UoYSwgXCJAXCIpLnJlcGxhY2UocywgXCJdXCIpLnJlcGxhY2UobywgXCJcIikpKSByZXR1cm4gbiA9IGV2YWwoXCIoXCIgKyBlICsgXCIpXCIpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgPyBpKHsgXCJcIjogbiB9LCBcIlwiKSA6IG47IHRocm93IG5ldyBTeW50YXhFcnJvcihcIkpTT04ucGFyc2VcIikgfSwgZ2V0VGltZXN0YW1wSW5TZWNvbmRzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBNYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZSgpIC8gMWUzKSB9LCBwYXJzZVBpcGVEZWxpbWV0ZWRLZXlWYWx1ZXM6IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSB7fSwgaSA9IGUuc3BsaXQoXCJ8XCIpLCBuID0gMCwgciA9IGkubGVuZ3RoOyBuIDwgcjsgbisrKSB7IHZhciBhID0gaVtuXS5zcGxpdChcIj1cIik7IHRbYVswXV0gPSBkZWNvZGVVUklDb21wb25lbnQoYVsxXSkgfSByZXR1cm4gdCB9LCBnZW5lcmF0ZVJhbmRvbVN0cmluZzogZnVuY3Rpb24gKGUpIHsgZSA9IGUgfHwgNTsgZm9yICh2YXIgdCA9IFwiXCIsIGkgPSBcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiOyBlLS07KXQgKz0gaVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBpLmxlbmd0aCldOyByZXR1cm4gdCB9IH07IGYuX2hlbHBlcnMgPSBQOyB2YXIgUiA9IHsgY29yc01ldGFkYXRhOiBmdW5jdGlvbiAoKSB7IHZhciBlID0gXCJub25lXCIsIHQgPSAhMDsgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmIFhNTEh0dHBSZXF1ZXN0ID09PSBPYmplY3QoWE1MSHR0cFJlcXVlc3QpICYmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIG5ldyBYTUxIdHRwUmVxdWVzdCA/IGUgPSBcIlhNTEh0dHBSZXF1ZXN0XCIgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBYRG9tYWluUmVxdWVzdCAmJiBYRG9tYWluUmVxdWVzdCA9PT0gT2JqZWN0KFhEb21haW5SZXF1ZXN0KSAmJiAodCA9ICExKSwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGcuSFRNTEVsZW1lbnQpLmluZGV4T2YoXCJDb25zdHJ1Y3RvclwiKSA+IDAgJiYgKHQgPSAhMSkpLCB7IGNvcnNUeXBlOiBlLCBjb3JzQ29va2llc0VuYWJsZWQ6IHQgfSB9KCksIGdldENPUlNJbnN0YW5jZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJub25lXCIgPT09IHRoaXMuY29yc01ldGFkYXRhLmNvcnNUeXBlID8gbnVsbCA6IG5ldyBnW3RoaXMuY29yc01ldGFkYXRhLmNvcnNUeXBlXSB9LCBmaXJlQ09SUzogZnVuY3Rpb24gKGUsIHQsIGkpIHsgZnVuY3Rpb24gbih0KSB7IHZhciBpOyB0cnkgeyBpZiAoKGkgPSBKU09OLnBhcnNlKHQpKSAhPT0gT2JqZWN0KGkpKSByZXR1cm4gdm9pZCByLmhhbmRsZUNPUlNFcnJvcihlLCBudWxsLCBcIlJlc3BvbnNlIGlzIG5vdCBKU09OXCIpIH0gY2F0Y2ggKHQpIHsgcmV0dXJuIHZvaWQgci5oYW5kbGVDT1JTRXJyb3IoZSwgdCwgXCJFcnJvciBwYXJzaW5nIHJlc3BvbnNlIGFzIEpTT05cIikgfSB0cnkgeyBmb3IgKHZhciBuID0gZS5jYWxsYmFjaywgYSA9IGcsIHMgPSAwOyBzIDwgbi5sZW5ndGg7IHMrKylhID0gYVtuW3NdXTsgYShpKSB9IGNhdGNoICh0KSB7IHIuaGFuZGxlQ09SU0Vycm9yKGUsIHQsIFwiRXJyb3IgZm9ybWluZyBjYWxsYmFjayBmdW5jdGlvblwiKSB9IH0gdmFyIHIgPSB0aGlzOyB0ICYmIChlLmxvYWRFcnJvckhhbmRsZXIgPSB0KTsgdHJ5IHsgdmFyIGEgPSB0aGlzLmdldENPUlNJbnN0YW5jZSgpOyBhLm9wZW4oXCJnZXRcIiwgZS5jb3JzVXJsICsgXCImdHM9XCIgKyAobmV3IERhdGUpLmdldFRpbWUoKSwgITApLCBcIlhNTEh0dHBSZXF1ZXN0XCIgPT09IHRoaXMuY29yc01ldGFkYXRhLmNvcnNUeXBlICYmIChhLndpdGhDcmVkZW50aWFscyA9ICEwLCBhLnRpbWVvdXQgPSBmLmxvYWRUaW1lb3V0LCBhLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiksIGEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgeyA0ID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgMjAwID09PSB0aGlzLnN0YXR1cyAmJiBuKHRoaXMucmVzcG9uc2VUZXh0KSB9KSwgYS5vbmVycm9yID0gZnVuY3Rpb24gKHQpIHsgci5oYW5kbGVDT1JTRXJyb3IoZSwgdCwgXCJvbmVycm9yXCIpIH0sIGEub250aW1lb3V0ID0gZnVuY3Rpb24gKHQpIHsgci5oYW5kbGVDT1JTRXJyb3IoZSwgdCwgXCJvbnRpbWVvdXRcIikgfSwgYS5zZW5kKCksIGYuX2xvZy5yZXF1ZXN0cy5wdXNoKGUuY29yc1VybCkgfSBjYXRjaCAodCkgeyB0aGlzLmhhbmRsZUNPUlNFcnJvcihlLCB0LCBcInRyeS1jYXRjaFwiKSB9IH0sIGhhbmRsZUNPUlNFcnJvcjogZnVuY3Rpb24gKGUsIHQsIGkpIHsgZi5DT1JTRXJyb3JzLnB1c2goeyBjb3JzRGF0YTogZSwgZXJyb3I6IHQsIGRlc2NyaXB0aW9uOiBpIH0pLCBlLmxvYWRFcnJvckhhbmRsZXIgJiYgKFwib250aW1lb3V0XCIgPT09IGkgPyBlLmxvYWRFcnJvckhhbmRsZXIoITApIDogZS5sb2FkRXJyb3JIYW5kbGVyKCExKSkgfSB9OyBmLl9yZXF1ZXN0UHJvY3MgPSBSOyB2YXIgdyA9IHsgVEhST1RUTEVfU1RBUlQ6IDNlNCwgTUFYX1NZTkNTX0xFTkdUSDogNjQ5LCB0aHJvdHRsZVRpbWVyU2V0OiAhMSwgaWQ6IG51bGwsIG9uUGFnZVBpeGVsczogW10sIGlmcmFtZUhvc3Q6IG51bGwsIGdldElmcmFtZUhvc3Q6IGZ1bmN0aW9uIChlKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBlKSB7IHZhciB0ID0gZS5zcGxpdChcIi9cIik7IHJldHVybiB0WzBdICsgXCIvL1wiICsgdFsyXSB9IH0sIHN1YmRvbWFpbjogbnVsbCwgdXJsOiBudWxsLCBnZXRVcmw6IGZ1bmN0aW9uICgpIHsgdmFyIGUsIHQgPSBcImh0dHA6Ly9mYXN0LlwiLCBpID0gXCI/ZF9uc2lkPVwiICsgZi5pZFN5bmNDb250YWluZXJJRCArIFwiI1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KG0ubG9jYXRpb24uaHJlZik7IHJldHVybiB0aGlzLnN1YmRvbWFpbiB8fCAodGhpcy5zdWJkb21haW4gPSBcIm5vc3ViZG9tYWlucmV0dXJuZWRcIiksIGYubG9hZFNTTCAmJiAodCA9IGYuaWRTeW5jU1NMVXNlQWthbWFpID8gXCJodHRwczovL2Zhc3QuXCIgOiBcImh0dHBzOi8vXCIpLCBlID0gdCArIHRoaXMuc3ViZG9tYWluICsgXCIuZGVtZGV4Lm5ldC9kZXN0NS5odG1sXCIgKyBpLCB0aGlzLmlmcmFtZUhvc3QgPSB0aGlzLmdldElmcmFtZUhvc3QoZSksIHRoaXMuaWQgPSBcImRlc3RpbmF0aW9uX3B1Ymxpc2hpbmdfaWZyYW1lX1wiICsgdGhpcy5zdWJkb21haW4gKyBcIl9cIiArIGYuaWRTeW5jQ29udGFpbmVySUQsIGUgfSwgY2hlY2tEUElmcmFtZVNyYzogZnVuY3Rpb24gKCkgeyB2YXIgZSA9IFwiP2RfbnNpZD1cIiArIGYuaWRTeW5jQ29udGFpbmVySUQgKyBcIiNcIiArIGVuY29kZVVSSUNvbXBvbmVudChtLmxvY2F0aW9uLmhyZWYpOyBcInN0cmluZ1wiID09IHR5cGVvZiBmLmRwSWZyYW1lU3JjICYmIGYuZHBJZnJhbWVTcmMubGVuZ3RoICYmICh0aGlzLmlkID0gXCJkZXN0aW5hdGlvbl9wdWJsaXNoaW5nX2lmcmFtZV9cIiArIChmLl9zdWJkb21haW4gfHwgdGhpcy5zdWJkb21haW4gfHwgKG5ldyBEYXRlKS5nZXRUaW1lKCkpICsgXCJfXCIgKyBmLmlkU3luY0NvbnRhaW5lcklELCB0aGlzLmlmcmFtZUhvc3QgPSB0aGlzLmdldElmcmFtZUhvc3QoZi5kcElmcmFtZVNyYyksIHRoaXMudXJsID0gZi5kcElmcmFtZVNyYyArIGUpIH0sIGlkQ2FsbE5vdFByb2Nlc3NzZWQ6IG51bGwsIGRvQXR0YWNoSWZyYW1lOiAhMSwgc3RhcnRlZEF0dGFjaGluZ0lmcmFtZTogITEsIGlmcmFtZUhhc0xvYWRlZDogbnVsbCwgaWZyYW1lSWRDaGFuZ2VkOiBudWxsLCBuZXdJZnJhbWVDcmVhdGVkOiBudWxsLCBvcmlnaW5hbElmcmFtZUhhc0xvYWRlZEFscmVhZHk6IG51bGwsIHNlbmRpbmdNZXNzYWdlczogITEsIG1lc3NhZ2VzOiBbXSwgbWVzc2FnZXNQb3N0ZWQ6IFtdLCBtZXNzYWdlc1JlY2VpdmVkOiBbXSwgbWVzc2FnZVNlbmRpbmdJbnRlcnZhbDogcC5QT1NUX01FU1NBR0VfRU5BQkxFRCA/IG51bGwgOiAxMDAsIGpzb25Gb3JDb21wYXJpc29uOiBbXSwganNvbkR1cGxpY2F0ZXM6IFtdLCBqc29uV2FpdGluZzogW10sIGpzb25Qcm9jZXNzZWQ6IFtdLCBjYW5TZXRUaGlyZFBhcnR5Q29va2llczogITAsIHJlY2VpdmVkVGhpcmRQYXJ0eUNvb2tpZXNOb3RpZmljYXRpb246ICExLCByZWFkeVRvQXR0YWNoSWZyYW1lOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhZi5pZFN5bmNEaXNhYmxlM3JkUGFydHlTeW5jaW5nICYmICh0aGlzLmRvQXR0YWNoSWZyYW1lIHx8IGYuX2RvQXR0YWNoSWZyYW1lKSAmJiAodGhpcy5zdWJkb21haW4gJiYgXCJub3N1YmRvbWFpbnJldHVybmVkXCIgIT09IHRoaXMuc3ViZG9tYWluIHx8IGYuX3N1YmRvbWFpbikgJiYgdGhpcy51cmwgJiYgIXRoaXMuc3RhcnRlZEF0dGFjaGluZ0lmcmFtZSB9LCBhdHRhY2hJZnJhbWU6IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZSgpIHsgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksIG4uc2FuZGJveCA9IFwiYWxsb3ctc2NyaXB0cyBhbGxvdy1zYW1lLW9yaWdpblwiLCBuLnRpdGxlID0gXCJBZG9iZSBJRCBTeW5jaW5nIGlGcmFtZVwiLCBuLmlkID0gaS5pZCwgbi5zdHlsZS5jc3NUZXh0ID0gXCJkaXNwbGF5OiBub25lOyB3aWR0aDogMDsgaGVpZ2h0OiAwO1wiLCBuLnNyYyA9IGkudXJsLCBpLm5ld0lmcmFtZUNyZWF0ZWQgPSAhMCwgdCgpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pIH0gZnVuY3Rpb24gdCgpIHsgUC5hZGRMaXN0ZW5lcihuLCBcImxvYWRcIiwgZnVuY3Rpb24gKCkgeyBuLmNsYXNzTmFtZSA9IFwiYWFtSWZyYW1lTG9hZGVkXCIsIGkuaWZyYW1lSGFzTG9hZGVkID0gITAsIGkucmVxdWVzdFRvUHJvY2VzcygpIH0pIH0gdGhpcy5zdGFydGVkQXR0YWNoaW5nSWZyYW1lID0gITA7IHZhciBpID0gdGhpcywgbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpOyBuID8gXCJJRlJBTUVcIiAhPT0gbi5ub2RlTmFtZSA/ICh0aGlzLmlkICs9IFwiXzJcIiwgdGhpcy5pZnJhbWVJZENoYW5nZWQgPSAhMCwgZSgpKSA6ICh0aGlzLm5ld0lmcmFtZUNyZWF0ZWQgPSAhMSwgXCJhYW1JZnJhbWVMb2FkZWRcIiAhPT0gbi5jbGFzc05hbWUgPyAodGhpcy5vcmlnaW5hbElmcmFtZUhhc0xvYWRlZEFscmVhZHkgPSAhMSwgdCgpKSA6ICh0aGlzLm9yaWdpbmFsSWZyYW1lSGFzTG9hZGVkQWxyZWFkeSA9ICEwLCB0aGlzLmlmcmFtZUhhc0xvYWRlZCA9ICEwLCB0aGlzLmlmcmFtZSA9IG4sIHRoaXMucmVxdWVzdFRvUHJvY2VzcygpKSkgOiBlKCksIHRoaXMuaWZyYW1lID0gbiB9LCByZXF1ZXN0VG9Qcm9jZXNzOiBmdW5jdGlvbiAoZSkgeyBmdW5jdGlvbiB0KCkgeyBuLmpzb25Gb3JDb21wYXJpc29uLnB1c2goZSksIG4uanNvbldhaXRpbmcucHVzaChlKSwgbi5wcm9jZXNzU3luY09uUGFnZShlKSB9IHZhciBpLCBuID0gdGhpczsgaWYgKGUgPT09IE9iamVjdChlKSAmJiBlLmlicykgaWYgKHAuSEFTX0pTT05fU1RSSU5HSUZZKSBpZiAoaSA9IEpTT04uc3RyaW5naWZ5KGUuaWJzIHx8IFtdKSwgdGhpcy5qc29uRm9yQ29tcGFyaXNvbi5sZW5ndGgpIHsgdmFyIHIsIGEsIHMsIG8gPSAhMTsgZm9yIChyID0gMCwgYSA9IHRoaXMuanNvbkZvckNvbXBhcmlzb24ubGVuZ3RoOyByIDwgYTsgcisrKWlmIChzID0gdGhpcy5qc29uRm9yQ29tcGFyaXNvbltyXSwgaSA9PT0gSlNPTi5zdHJpbmdpZnkocy5pYnMgfHwgW10pKSB7IG8gPSAhMDsgYnJlYWsgfSBvID8gdGhpcy5qc29uRHVwbGljYXRlcy5wdXNoKGUpIDogdCgpIH0gZWxzZSB0KCk7IGVsc2UgdCgpOyBpZiAoKHRoaXMucmVjZWl2ZWRUaGlyZFBhcnR5Q29va2llc05vdGlmaWNhdGlvbiB8fCAhcC5QT1NUX01FU1NBR0VfRU5BQkxFRCB8fCB0aGlzLmlmcmFtZUhhc0xvYWRlZCkgJiYgdGhpcy5qc29uV2FpdGluZy5sZW5ndGgpIHsgdmFyIGwgPSB0aGlzLmpzb25XYWl0aW5nLnNoaWZ0KCk7IHRoaXMucHJvY2VzcyhsKSwgdGhpcy5yZXF1ZXN0VG9Qcm9jZXNzKCkgfSAhZi5pZFN5bmNEaXNhYmxlU3luY3MgJiYgdGhpcy5pZnJhbWVIYXNMb2FkZWQgJiYgdGhpcy5tZXNzYWdlcy5sZW5ndGggJiYgIXRoaXMuc2VuZGluZ01lc3NhZ2VzICYmICh0aGlzLnRocm90dGxlVGltZXJTZXQgfHwgKHRoaXMudGhyb3R0bGVUaW1lclNldCA9ICEwLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgbi5tZXNzYWdlU2VuZGluZ0ludGVydmFsID0gcC5QT1NUX01FU1NBR0VfRU5BQkxFRCA/IG51bGwgOiAxNTAgfSwgdGhpcy5USFJPVFRMRV9TVEFSVCkpLCB0aGlzLnNlbmRpbmdNZXNzYWdlcyA9ICEwLCB0aGlzLnNlbmRNZXNzYWdlcygpKSB9LCBwcm9jZXNzU3luY09uUGFnZTogZnVuY3Rpb24gKGUpIHsgdmFyIHQsIGksIG4sIHI7IGlmICgodCA9IGUuaWJzKSAmJiB0IGluc3RhbmNlb2YgQXJyYXkgJiYgKGkgPSB0Lmxlbmd0aCkpIGZvciAobiA9IDA7IG4gPCBpOyBuKyspciA9IHRbbl0sIHIuc3luY09uUGFnZSAmJiB0aGlzLmNoZWNrRmlyc3RQYXJ0eUNvb2tpZShyLCBcIlwiLCBcInN5bmNPblBhZ2VcIikgfSwgcHJvY2VzczogZnVuY3Rpb24gKGUpIHsgdmFyIHQsIGksIG4sIHIsIGEsIHMgPSBlbmNvZGVVUklDb21wb25lbnQsIG8gPSAhMTsgaWYgKCh0ID0gZS5pYnMpICYmIHQgaW5zdGFuY2VvZiBBcnJheSAmJiAoaSA9IHQubGVuZ3RoKSkgZm9yIChvID0gITAsIG4gPSAwOyBuIDwgaTsgbisrKXIgPSB0W25dLCBhID0gW3MoXCJpYnNcIiksIHMoci5pZCB8fCBcIlwiKSwgcyhyLnRhZyB8fCBcIlwiKSwgUC5lbmNvZGVBbmRCdWlsZFJlcXVlc3Qoci51cmwgfHwgW10sIFwiLFwiKSwgcyhyLnR0bCB8fCBcIlwiKSwgXCJcIiwgXCJcIiwgci5maXJlVVJMU3luYyA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiXSwgci5zeW5jT25QYWdlIHx8ICh0aGlzLmNhblNldFRoaXJkUGFydHlDb29raWVzID8gdGhpcy5hZGRNZXNzYWdlKGEuam9pbihcInxcIikpIDogci5maXJlVVJMU3luYyAmJiB0aGlzLmNoZWNrRmlyc3RQYXJ0eUNvb2tpZShyLCBhLmpvaW4oXCJ8XCIpKSk7IG8gJiYgdGhpcy5qc29uUHJvY2Vzc2VkLnB1c2goZSkgfSwgY2hlY2tGaXJzdFBhcnR5Q29va2llOiBmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiA9IFwic3luY09uUGFnZVwiID09PSBpLCByID0gbiA/IEEgOiB2OyBmLl9yZWFkVmlzaXRvcigpOyB2YXIgYSwgcywgbyA9IGYuX2dldEZpZWxkKHIpLCBsID0gITEsIHUgPSAhMSwgYyA9IE1hdGguY2VpbCgobmV3IERhdGUpLmdldFRpbWUoKSAvIHAuTUlMTElTX1BFUl9EQVkpOyBvID8gKGEgPSBvLnNwbGl0KFwiKlwiKSwgcyA9IHRoaXMucHJ1bmVTeW5jRGF0YShhLCBlLmlkLCBjKSwgbCA9IHMuZGF0YVByZXNlbnQsIHUgPSBzLmRhdGFWYWxpZCwgbCAmJiB1IHx8IHRoaXMuZmlyZVN5bmMobiwgZSwgdCwgYSwgciwgYykpIDogKGEgPSBbXSwgdGhpcy5maXJlU3luYyhuLCBlLCB0LCBhLCByLCBjKSkgfSwgcHJ1bmVTeW5jRGF0YTogZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4sIHIsIGEsIHMgPSAhMSwgbyA9ICExOyBmb3IgKHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKyluID0gZVtyXSwgYSA9IHBhcnNlSW50KG4uc3BsaXQoXCItXCIpWzFdLCAxMCksIG4ubWF0Y2goXCJeXCIgKyB0ICsgXCItXCIpID8gKHMgPSAhMCwgaSA8IGEgPyBvID0gITAgOiAoZS5zcGxpY2UociwgMSksIHItLSkpIDogaSA+PSBhICYmIChlLnNwbGljZShyLCAxKSwgci0tKTsgcmV0dXJuIHsgZGF0YVByZXNlbnQ6IHMsIGRhdGFWYWxpZDogbyB9IH0sIG1hbmFnZVN5bmNzU2l6ZTogZnVuY3Rpb24gKGUpIHsgaWYgKGUuam9pbihcIipcIikubGVuZ3RoID4gdGhpcy5NQVhfU1lOQ1NfTEVOR1RIKSBmb3IgKGUuc29ydChmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gcGFyc2VJbnQoZS5zcGxpdChcIi1cIilbMV0sIDEwKSAtIHBhcnNlSW50KHQuc3BsaXQoXCItXCIpWzFdLCAxMCkgfSk7IGUuam9pbihcIipcIikubGVuZ3RoID4gdGhpcy5NQVhfU1lOQ1NfTEVOR1RIOyllLnNoaWZ0KCkgfSwgZmlyZVN5bmM6IGZ1bmN0aW9uIChlLCB0LCBpLCBuLCByLCBhKSB7IHZhciBzID0gdGhpczsgaWYgKGUpIHsgaWYgKFwiaW1nXCIgPT09IHQudGFnKSB7IHZhciBvLCBsLCB1LCBjLCBkID0gdC51cmwsIGcgPSBmLmxvYWRTU0wgPyBcImh0dHBzOlwiIDogXCJodHRwOlwiOyBmb3IgKG8gPSAwLCBsID0gZC5sZW5ndGg7IG8gPCBsOyBvKyspIHsgdSA9IGRbb10sIGMgPSAvXlxcL1xcLy8udGVzdCh1KTsgdmFyIF8gPSBuZXcgSW1hZ2U7IFAuYWRkTGlzdGVuZXIoXywgXCJsb2FkXCIsIGZ1bmN0aW9uIChlLCB0LCBpLCBuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHMub25QYWdlUGl4ZWxzW2VdID0gbnVsbCwgZi5fcmVhZFZpc2l0b3IoKTsgdmFyIGEsIG8gPSBmLl9nZXRGaWVsZChyKSwgbCA9IFtdOyBpZiAobykgeyBhID0gby5zcGxpdChcIipcIik7IHZhciB1LCBjLCBkOyBmb3IgKHUgPSAwLCBjID0gYS5sZW5ndGg7IHUgPCBjOyB1KyspZCA9IGFbdV0sIGQubWF0Y2goXCJeXCIgKyB0LmlkICsgXCItXCIpIHx8IGwucHVzaChkKSB9IHMuc2V0U3luY1RyYWNraW5nRGF0YShsLCB0LCBpLCBuKSB9IH0odGhpcy5vblBhZ2VQaXhlbHMubGVuZ3RoLCB0LCByLCBhKSksIF8uc3JjID0gKGMgPyBnIDogXCJcIikgKyB1LCB0aGlzLm9uUGFnZVBpeGVscy5wdXNoKF8pIH0gfSB9IGVsc2UgdGhpcy5hZGRNZXNzYWdlKGkpLCB0aGlzLnNldFN5bmNUcmFja2luZ0RhdGEobiwgdCwgciwgYSkgfSwgYWRkTWVzc2FnZTogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlbmNvZGVVUklDb21wb25lbnQsIGkgPSB0KGYuX2VuYWJsZUVycm9yUmVwb3J0aW5nID8gXCItLS1kZXN0cHViLWRlYnVnLS0tXCIgOiBcIi0tLWRlc3RwdWItLS1cIik7IHRoaXMubWVzc2FnZXMucHVzaCgocC5QT1NUX01FU1NBR0VfRU5BQkxFRCA/IFwiXCIgOiBpKSArIGUpIH0sIHNldFN5bmNUcmFja2luZ0RhdGE6IGZ1bmN0aW9uIChlLCB0LCBpLCBuKSB7IGUucHVzaCh0LmlkICsgXCItXCIgKyAobiArIE1hdGguY2VpbCh0LnR0bCAvIDYwIC8gMjQpKSksIHRoaXMubWFuYWdlU3luY3NTaXplKGUpLCBmLl9zZXRGaWVsZChpLCBlLmpvaW4oXCIqXCIpKSB9LCBzZW5kTWVzc2FnZXM6IGZ1bmN0aW9uICgpIHsgdmFyIGUsIHQgPSB0aGlzOyB0aGlzLm1lc3NhZ2VzLmxlbmd0aCA/IHAuUE9TVF9NRVNTQUdFX0VOQUJMRUQgPyAoZSA9IGVuY29kZVVSSUNvbXBvbmVudChcIi0tLWRlc3RwdWItY29tYmluZWQtLS1cIikgKyB0aGlzLm1lc3NhZ2VzLmpvaW4oXCIlMDFcIiksIHRoaXMucG9zdE1lc3NhZ2UoZSksIHRoaXMubWVzc2FnZXMgPSBbXSwgdGhpcy5zZW5kaW5nTWVzc2FnZXMgPSAhMSkgOiAoZSA9IHRoaXMubWVzc2FnZXMuc2hpZnQoKSwgdGhpcy5wb3N0TWVzc2FnZShlKSwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHQuc2VuZE1lc3NhZ2VzKCkgfSwgdGhpcy5tZXNzYWdlU2VuZGluZ0ludGVydmFsKSkgOiB0aGlzLnNlbmRpbmdNZXNzYWdlcyA9ICExIH0sIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiAoZSkgeyBmLl94ZC5wb3N0TWVzc2FnZShlLCB0aGlzLnVybCwgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdyksIHRoaXMubWVzc2FnZXNQb3N0ZWQucHVzaChlKSB9LCByZWNlaXZlTWVzc2FnZTogZnVuY3Rpb24gKGUpIHsgdmFyIHQsIGkgPSAvXi0tLWRlc3RwdWItdG8tcGFyZW50LS0tLzsgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSAmJiBpLnRlc3QoZSkgJiYgKHQgPSBlLnJlcGxhY2UoaSwgXCJcIikuc3BsaXQoXCJ8XCIpLCBcImNhblNldFRoaXJkUGFydHlDb29raWVzXCIgPT09IHRbMF0gJiYgKHRoaXMuY2FuU2V0VGhpcmRQYXJ0eUNvb2tpZXMgPSBcInRydWVcIiA9PT0gdFsxXSwgdGhpcy5yZWNlaXZlZFRoaXJkUGFydHlDb29raWVzTm90aWZpY2F0aW9uID0gITAsIHRoaXMucmVxdWVzdFRvUHJvY2VzcygpKSwgdGhpcy5tZXNzYWdlc1JlY2VpdmVkLnB1c2goZSkpIH0sIHByb2Nlc3NJRENhbGxEYXRhOiBmdW5jdGlvbiAoZSkgeyAobnVsbCA9PSB0aGlzLnVybCB8fCBlLnN1YmRvbWFpbiAmJiBcIm5vc3ViZG9tYWlucmV0dXJuZWRcIiA9PT0gdGhpcy5zdWJkb21haW4pICYmIChcInN0cmluZ1wiID09IHR5cGVvZiBmLl9zdWJkb21haW4gJiYgZi5fc3ViZG9tYWluLmxlbmd0aCA/IHRoaXMuc3ViZG9tYWluID0gZi5fc3ViZG9tYWluIDogdGhpcy5zdWJkb21haW4gPSBlLnN1YmRvbWFpbiB8fCBcIlwiLCB0aGlzLnVybCA9IHRoaXMuZ2V0VXJsKCkpLCBlLmlicyBpbnN0YW5jZW9mIEFycmF5ICYmIGUuaWJzLmxlbmd0aCAmJiAodGhpcy5kb0F0dGFjaElmcmFtZSA9ICEwKSwgdGhpcy5yZWFkeVRvQXR0YWNoSWZyYW1lKCkgJiYgKGYuaWRTeW5jQXR0YWNoSWZyYW1lT25XaW5kb3dMb2FkID8gKF8ud2luZG93TG9hZGVkIHx8IFwiY29tcGxldGVcIiA9PT0gbS5yZWFkeVN0YXRlIHx8IFwibG9hZGVkXCIgPT09IG0ucmVhZHlTdGF0ZSkgJiYgdGhpcy5hdHRhY2hJZnJhbWUoKSA6IHRoaXMuYXR0YWNoSWZyYW1lQVNBUCgpKSwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBmLmlkU3luY0lEQ2FsbFJlc3VsdCA/IGYuaWRTeW5jSURDYWxsUmVzdWx0KGUpIDogdGhpcy5yZXF1ZXN0VG9Qcm9jZXNzKGUpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGYuaWRTeW5jQWZ0ZXJJRENhbGxSZXN1bHQgJiYgZi5pZFN5bmNBZnRlcklEQ2FsbFJlc3VsdChlKSB9LCBjYW5NYWtlU3luY0lEQ2FsbDogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIGYuX2ZvcmNlU3luY0lEQ2FsbCB8fCAhZSB8fCB0IC0gZSA+IHAuREFZU19CRVRXRUVOX1NZTkNfSURfQ0FMTFMgfSwgYXR0YWNoSWZyYW1lQVNBUDogZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBlKCkgeyB0LnN0YXJ0ZWRBdHRhY2hpbmdJZnJhbWUgfHwgKGRvY3VtZW50LmJvZHkgPyB0LmF0dGFjaElmcmFtZSgpIDogc2V0VGltZW91dChlLCAzMCkpIH0gdmFyIHQgPSB0aGlzOyBlKCkgfSB9OyBmLl9kZXN0aW5hdGlvblB1Ymxpc2hpbmcgPSB3LCBmLnRpbWVvdXRNZXRyaWNzTG9nID0gW107IHZhciBGLCBOID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEOiBudWxsLCBNQ0lEQ2FsbFRpbWVkT3V0OiBudWxsLCBBbmFseXRpY3NJRENhbGxUaW1lZE91dDogbnVsbCwgQUFNSURDYWxsVGltZWRPdXQ6IG51bGwsIGZpZWxkR3JvdXBPYmo6IHt9LCBzZXRTdGF0ZTogZnVuY3Rpb24gKGUsIHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFM6ICExID09PSB0ID8gITAgIT09IHRoaXMuTUNJRENhbGxUaW1lZE91dCAmJiAodGhpcy5NQ0lEQ2FsbFRpbWVkT3V0ID0gITEpIDogdGhpcy5NQ0lEQ2FsbFRpbWVkT3V0ID0gdDsgYnJlYWs7IGNhc2UgYjogITEgPT09IHQgPyAhMCAhPT0gdGhpcy5BbmFseXRpY3NJRENhbGxUaW1lZE91dCAmJiAodGhpcy5BbmFseXRpY3NJRENhbGxUaW1lZE91dCA9ICExKSA6IHRoaXMuQW5hbHl0aWNzSURDYWxsVGltZWRPdXQgPSB0OyBicmVhazsgY2FzZSBPOiAhMSA9PT0gdCA/ICEwICE9PSB0aGlzLkFBTUlEQ2FsbFRpbWVkT3V0ICYmICh0aGlzLkFBTUlEQ2FsbFRpbWVkT3V0ID0gITEpIDogdGhpcy5BQU1JRENhbGxUaW1lZE91dCA9IHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07IGYuaXNDbGllbnRTaWRlTWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBOLmlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEIH0sIGYuTUNJRENhbGxUaW1lZE91dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE4uTUNJRENhbGxUaW1lZE91dCB9LCBmLkFuYWx5dGljc0lEQ2FsbFRpbWVkT3V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gTi5BbmFseXRpY3NJRENhbGxUaW1lZE91dCB9LCBmLkFBTUlEQ2FsbFRpbWVkT3V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gTi5BQU1JRENhbGxUaW1lZE91dCB9LCBmLmlkU3luY0dldE9uUGFnZVN5bmNJbmZvID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZi5fcmVhZFZpc2l0b3IoKSwgZi5fZ2V0RmllbGQoQSkgfSwgZi5pZFN5bmNCeVVSTCA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gbChlIHx8IHt9KTsgaWYgKHQuZXJyb3IpIHJldHVybiB0LmVycm9yOyB2YXIgaSwgbiwgciA9IGUudXJsLCBhID0gZW5jb2RlVVJJQ29tcG9uZW50LCBzID0gdzsgcmV0dXJuIHIgPSByLnJlcGxhY2UoL15odHRwczovLCBcIlwiKS5yZXBsYWNlKC9eaHR0cDovLCBcIlwiKSwgaSA9IFAuZW5jb2RlQW5kQnVpbGRSZXF1ZXN0KFtcIlwiLCBlLmRwaWQsIGUuZHB1dWlkIHx8IFwiXCJdLCBcIixcIiksIG4gPSBbXCJpYnNcIiwgYShlLmRwaWQpLCBcImltZ1wiLCBhKHIpLCB0LnR0bCwgXCJcIiwgaV0sIHMuYWRkTWVzc2FnZShuLmpvaW4oXCJ8XCIpKSwgcy5yZXF1ZXN0VG9Qcm9jZXNzKCksIFwiU3VjY2Vzc2Z1bGx5IHF1ZXVlZFwiIH0sIGYuaWRTeW5jQnlEYXRhU291cmNlID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgPT09IE9iamVjdChlKSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlLmRwdXVpZCAmJiBlLmRwdXVpZC5sZW5ndGggPyAoZS51cmwgPSBcIi8vZHBtLmRlbWRleC5uZXQvaWJzOmRwaWQ9XCIgKyBlLmRwaWQgKyBcIiZkcHV1aWQ9XCIgKyBlLmRwdXVpZCwgZi5pZFN5bmNCeVVSTChlKSkgOiBcIkVycm9yOiBjb25maWcgb3IgY29uZmlnLmRwdXVpZCBpcyBlbXB0eVwiIH0sIGYuX2NvbXBhcmVWZXJzaW9ucyA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChlID09PSB0KSByZXR1cm4gMDsgdmFyIGkgPSBlLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpLCBuID0gdC50b1N0cmluZygpLnNwbGl0KFwiLlwiKTsgcmV0dXJuIHUoaS5jb25jYXQobikpID8gKGMoaSwgbiksIGQoaSwgbikpIDogTmFOIH0sIGYuX2dldENvb2tpZVZlcnNpb24gPSBmdW5jdGlvbiAoZSkgeyBlID0gZSB8fCBmLmNvb2tpZVJlYWQoZi5jb29raWVOYW1lKTsgdmFyIHQgPSBwLlZFUlNJT05fUkVHRVguZXhlYyhlKTsgcmV0dXJuIHQgJiYgdC5sZW5ndGggPiAxID8gdFsxXSA6IG51bGwgfSwgZi5fcmVzZXRBbWN2Q29va2llID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBmLl9nZXRDb29raWVWZXJzaW9uKCk7IHQgJiYgIVAuaXNMZXNzVGhhbih0LCBlKSB8fCBQLnJlbW92ZUNvb2tpZShmLmNvb2tpZU5hbWUpIH0sIGUuaW5kZXhPZihcIkBcIikgPCAwICYmIChlICs9IFwiQEFkb2JlT3JnXCIpLCBmLm1hcmtldGluZ0Nsb3VkT3JnSUQgPSBlLCBmLmNvb2tpZU5hbWUgPSBcIkFNQ1ZfXCIgKyBlLCBmLnNlc3Npb25Db29raWVOYW1lID0gXCJBTUNWU19cIiArIGUsIGYuY29va2llRG9tYWluID0gZi5fZ2V0RG9tYWluKCksIGYuY29va2llRG9tYWluID09PSBnLmxvY2F0aW9uLmhvc3RuYW1lICYmIChmLmNvb2tpZURvbWFpbiA9IFwiXCIpLCBmLmxvYWRTU0wgPSBnLmxvY2F0aW9uLnByb3RvY29sLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImh0dHBzXCIpID49IDAsIGYubG9hZFRpbWVvdXQgPSAzZTQsIGYuQ09SU0Vycm9ycyA9IFtdLCBmLm1hcmtldGluZ0Nsb3VkU2VydmVyID0gZi5hdWRpZW5jZU1hbmFnZXJTZXJ2ZXIgPSBcImRwbS5kZW1kZXgubmV0XCIsIGYuc2RpZFBhcmFtRXhwaXJ5ID0gMzA7IHZhciB4ID0ge307IGlmICh4W1RdID0gITAsIHhba10gPSAhMCwgdCAmJiBcIm9iamVjdFwiID09IHR5cGVvZiB0KSB7IHZhciBWOyBmb3IgKFYgaW4gdCkgaChWKSAmJiAoZltWXSA9IHRbVl0pOyBmLmlkU3luY0NvbnRhaW5lcklEID0gZi5pZFN5bmNDb250YWluZXJJRCB8fCAwLCBmLnJlc2V0QmVmb3JlVmVyc2lvbiAmJiBmLl9yZXNldEFtY3ZDb29raWUoZi5yZXNldEJlZm9yZVZlcnNpb24pLCBmLl9hdHRlbXB0VG9Qb3B1bGF0ZUlkc0Zyb21VcmwoKSwgZi5fYXR0ZW1wdFRvUG9wdWxhdGVTZGlkRnJvbVVybCgpLCBmLl9yZWFkVmlzaXRvcigpOyB2YXIgaiA9IGYuX2dldEZpZWxkKHkpLCBVID0gTWF0aC5jZWlsKChuZXcgRGF0ZSkuZ2V0VGltZSgpIC8gcC5NSUxMSVNfUEVSX0RBWSk7ICFmLmlkU3luY0Rpc2FibGVTeW5jcyAmJiB3LmNhbk1ha2VTeW5jSURDYWxsKGosIFUpICYmIChmLl9zZXRGaWVsZEV4cGlyZShrLCAtMSksIGYuX3NldEZpZWxkKHksIFUpKSwgZi5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCgpLCBmLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludCgpLCBmLmdldEF1ZGllbmNlTWFuYWdlckJsb2IoKSwgZi5fbWVyZ2VTZXJ2ZXJTdGF0ZShmLnNlcnZlclN0YXRlKSB9IGVsc2UgZi5fYXR0ZW1wdFRvUG9wdWxhdGVJZHNGcm9tVXJsKCksIGYuX2F0dGVtcHRUb1BvcHVsYXRlU2RpZEZyb21VcmwoKTsgaWYgKCFmLmlkU3luY0Rpc2FibGVTeW5jcykgeyB3LmNoZWNrRFBJZnJhbWVTcmMoKTsgdmFyIEggPSBmdW5jdGlvbiAoKSB7IHZhciBlID0gdzsgZS5yZWFkeVRvQXR0YWNoSWZyYW1lKCkgJiYgZS5hdHRhY2hJZnJhbWUoKSB9OyBQLmFkZExpc3RlbmVyKGcsIFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7IF8ud2luZG93TG9hZGVkID0gITAsIEgoKSB9KTsgdHJ5IHsgZi5feGQucmVjZWl2ZU1lc3NhZ2UoZnVuY3Rpb24gKGUpIHsgdy5yZWNlaXZlTWVzc2FnZShlLmRhdGEpIH0sIHcuaWZyYW1lSG9zdCkgfSBjYXRjaCAoZSkgeyB9IH0gZi53aGl0ZWxpc3RJZnJhbWVEb21haW5zICYmIHAuUE9TVF9NRVNTQUdFX0VOQUJMRUQgJiYgKGYud2hpdGVsaXN0SWZyYW1lRG9tYWlucyA9IGYud2hpdGVsaXN0SWZyYW1lRG9tYWlucyBpbnN0YW5jZW9mIEFycmF5ID8gZi53aGl0ZWxpc3RJZnJhbWVEb21haW5zIDogW2Yud2hpdGVsaXN0SWZyYW1lRG9tYWluc10sIGYud2hpdGVsaXN0SWZyYW1lRG9tYWlucy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IHZhciBpID0gbmV3IGEoZSwgdCksIG4gPSBzKGYsIGkpOyBmLl94ZC5yZWNlaXZlTWVzc2FnZShuLCB0KSB9KSlcclxuICAgICAgICAgICAgfTsgby5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICghZSkgdGhyb3cgbmV3IEVycm9yKFwiVmlzaXRvciByZXF1aXJlcyBBZG9iZSBNYXJrZXRpbmcgQ2xvdWQgT3JnIElEXCIpOyBlLmluZGV4T2YoXCJAXCIpIDwgMCAmJiAoZSArPSBcIkBBZG9iZU9yZ1wiKTsgdmFyIG4gPSBmdW5jdGlvbiAoKSB7IHZhciB0ID0gaS5zX2NfaWw7IGlmICh0KSBmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHsgdmFyIHIgPSB0W25dOyBpZiAociAmJiBcIlZpc2l0b3JcIiA9PT0gci5fYyAmJiByLm1hcmtldGluZ0Nsb3VkT3JnSUQgPT09IGUpIHJldHVybiByIH0gfSgpOyBpZiAobikgcmV0dXJuIG47IHZhciBhID0gbmV3IG8oZSksIHMgPSBhLmlzQWxsb3dlZCgpOyByZXR1cm4gZnVuY3Rpb24gKCkgeyBpLnNfY19pbC5zcGxpY2UoLS1pLnNfY19pbiwgMSkgfSgpLCBmdW5jdGlvbiAoKSB7IHRyeSB7IHJldHVybiBpLnNlbGYgIT09IGkucGFyZW50IH0gY2F0Y2ggKGUpIHsgcmV0dXJuICEwIH0gfSgpICYmICFzICYmIGkucGFyZW50ID8gbmV3IHIoZSwgdCwgYSwgaS5wYXJlbnQpIDogbmV3IG8oZSwgdCkgfSwgbigpLCBpLlZpc2l0b3IgPSBvLCB0LmV4cG9ydHMgPSBvXHJcbiAgICAgICAgfSkuY2FsbCh0aGlzLCBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnbG9iYWwgPyBnbG9iYWwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBzZWxmID8gc2VsZiA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyA/IHdpbmRvdyA6IHt9KVxyXG4gICAgfSwgeyBcIi4vQ2hpbGRWaXNpdG9yXCI6IDEsIFwiLi9NZXNzYWdlXCI6IDIsIFwiLi91dGlscy9tYWtlQ2hpbGRNZXNzYWdlTGlzdGVuZXJcIjogOSB9XSwgNDogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IGkuTUVTU0FHRVMgPSB7IEhBTkRTSEFLRTogXCJIQU5EU0hBS0VcIiwgR0VUU1RBVEU6IFwiR0VUU1RBVEVcIiwgUEFSRU5UU1RBVEU6IFwiUEFSRU5UU1RBVEVcIiB9LCBpLlNUQVRFX0tFWVNfTUFQID0geyBNQ01JRDogXCJNQ01JRFwiLCBNQ0FJRDogXCJNQ0FJRFwiLCBNQ0FBTUI6IFwiTUNBQU1CXCIsIE1DQUFNTEg6IFwiTUNBQU1MSFwiLCBNQ09QVE9VVDogXCJNQ09QVE9VVFwiLCBDVVNUT01FUklEUzogXCJDVVNUT01FUklEU1wiIH0sIGkuQVNZTkNfQVBJX01BUCA9IHsgTUNNSUQ6IFwiZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySURcIiwgTUNBSUQ6IFwiZ2V0QW5hbHl0aWNzVmlzaXRvcklEXCIsIE1DQUFNQjogXCJnZXRBdWRpZW5jZU1hbmFnZXJCbG9iXCIsIE1DQUFNTEg6IFwiZ2V0QXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50XCIsIE1DT1BUT1VUOiBcImdldE9wdE91dFwiIH0sIGkuU1lOQ19BUElfTUFQID0geyBDVVNUT01FUklEUzogXCJnZXRDdXN0b21lcklEc1wiIH0sIGkuQUxMX0FQSVMgPSB7IE1DTUlEOiBcImdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEXCIsIE1DQUFNQjogXCJnZXRBdWRpZW5jZU1hbmFnZXJCbG9iXCIsIE1DQUFNTEg6IFwiZ2V0QXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50XCIsIE1DT1BUT1VUOiBcImdldE9wdE91dFwiLCBNQ0FJRDogXCJnZXRBbmFseXRpY3NWaXNpdG9ySURcIiwgQ1VTVE9NRVJJRFM6IFwiZ2V0Q3VzdG9tZXJJRHNcIiB9LCBpLkZJRUxER1JPVVBfVE9fRklFTEQgPSB7IE1DOiBcIk1DTUlEXCIsIEE6IFwiTUNBSURcIiwgQUFNOiBcIk1DQUFNQlwiIH0gfSwge31dLCA1OiBbZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4gPSBlKFwiLi4vZW51bXNcIiksIHIgPSBuLlNUQVRFX0tFWVNfTUFQOyB0LmV4cG9ydHMgPSBmdW5jdGlvbiAoZSkgeyBmdW5jdGlvbiB0KCkgeyB9IGZ1bmN0aW9uIGkodCwgaSkgeyB2YXIgbiA9IHRoaXM7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gZSgwLCByLk1DTUlEKSwgYSA9IHt9OyByZXR1cm4gYVtyLk1DTUlEXSA9IHQsIG4uc2V0U3RhdGVBbmRQdWJsaXNoKGEpLCBpKHQpLCB0IH0gfSB0aGlzLmdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEID0gZnVuY3Rpb24gKGUpIHsgZSA9IGUgfHwgdDsgdmFyIG4gPSB0aGlzLmZpbmRGaWVsZChyLk1DTUlELCBlKSwgYSA9IGkuY2FsbCh0aGlzLCByLk1DTUlELCBlKTsgcmV0dXJuIHZvaWQgMCAhPT0gbiA/IG4gOiBhKCkgfSB9IH0sIHsgXCIuLi9lbnVtc1wiOiA0IH1dLCA2OiBbZnVuY3Rpb24gKGUsIHQsIGkpIHsgdmFyIG4gPSBlKFwiLi4vZW51bXNcIiksIHIgPSBuLkFTWU5DX0FQSV9NQVA7IHQuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsgT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyB0aGlzW3JbZV1dID0gZnVuY3Rpb24gKHQpIHsgdGhpcy5jYWxsYmFja1JlZ2lzdHJ5LmFkZChlLCB0KSB9IH0sIHRoaXMpIH0gfSwgeyBcIi4uL2VudW1zXCI6IDQgfV0sIDc6IFtmdW5jdGlvbiAoZSwgdCwgaSkgeyB2YXIgbiA9IGUoXCIuLi9lbnVtc1wiKSwgciA9IG4uTUVTU0FHRVMsIGEgPSBuLkFTWU5DX0FQSV9NQVAsIHMgPSBuLlNZTkNfQVBJX01BUDsgdC5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBlKCkgeyB9IGZ1bmN0aW9uIHQoZSwgdCkgeyB2YXIgaSA9IHRoaXM7IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBpLmNhbGxiYWNrUmVnaXN0cnkuYWRkKGUsIHQpLCBpLm1lc3NhZ2VQYXJlbnQoci5HRVRTVEFURSksIFwiXCIgfSB9IGZ1bmN0aW9uIGkoaSkgeyB0aGlzW2FbaV1dID0gZnVuY3Rpb24gKG4pIHsgbiA9IG4gfHwgZTsgdmFyIHIgPSB0aGlzLmZpbmRGaWVsZChpLCBuKSwgYSA9IHQuY2FsbCh0aGlzLCBpLCBuKTsgcmV0dXJuIHZvaWQgMCAhPT0gciA/IHIgOiBhKCkgfSB9IGZ1bmN0aW9uIG4odCkgeyB0aGlzW3NbdF1dID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5maW5kRmllbGQodCwgZSkgfHwge30gfSB9IE9iamVjdC5rZXlzKGEpLmZvckVhY2goaSwgdGhpcyksIE9iamVjdC5rZXlzKHMpLmZvckVhY2gobiwgdGhpcykgfSB9LCB7IFwiLi4vZW51bXNcIjogNCB9XSwgODogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IGZ1bmN0aW9uIG4oKSB7IHJldHVybiB7IGNhbGxiYWNrczoge30sIGFkZDogZnVuY3Rpb24gKGUsIHQpIHsgdGhpcy5jYWxsYmFja3NbZV0gPSB0aGlzLmNhbGxiYWNrc1tlXSB8fCBbXTsgdmFyIGkgPSB0aGlzLmNhbGxiYWNrc1tlXS5wdXNoKHQpIC0gMTsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdGhpcy5jYWxsYmFja3NbZV0uc3BsaWNlKGksIDEpIH0gfSwgZXhlY3V0ZTogZnVuY3Rpb24gKGUsIHQpIHsgaWYgKHRoaXMuY2FsbGJhY2tzW2VdKSB7IHQgPSB2b2lkIDAgPT09IHQgPyBbXSA6IHQsIHQgPSB0IGluc3RhbmNlb2YgQXJyYXkgPyB0IDogW3RdOyB0cnkgeyBmb3IgKDsgdGhpcy5jYWxsYmFja3NbZV0ubGVuZ3RoOykgeyB2YXIgaSA9IHRoaXMuY2FsbGJhY2tzW2VdLnNoaWZ0KCk7IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgaSA/IGkuYXBwbHkobnVsbCwgdCkgOiBpIGluc3RhbmNlb2YgQXJyYXkgJiYgaVsxXS5hcHBseShpWzBdLCB0KSB9IGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1tlXSB9IGNhdGNoIChlKSB7IH0gfSB9LCBleGVjdXRlQWxsOiBmdW5jdGlvbiAoZSwgdCkgeyAodCB8fCBlICYmICFyLmlzT2JqZWN0RW1wdHkoZSkpICYmIE9iamVjdC5rZXlzKHRoaXMuY2FsbGJhY2tzKS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IHZhciBpID0gdm9pZCAwICE9PSBlW3RdID8gZVt0XSA6IFwiXCI7IHRoaXMuZXhlY3V0ZSh0LCBpKSB9LCB0aGlzKSB9LCBoYXNDYWxsYmFja3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEJvb2xlYW4oT2JqZWN0LmtleXModGhpcy5jYWxsYmFja3MpLmxlbmd0aCkgfSB9IH0gdmFyIHIgPSBlKFwiLi91dGlsc1wiKTsgdC5leHBvcnRzID0gbiB9LCB7IFwiLi91dGlsc1wiOiAxMSB9XSwgOTogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IHZhciBuID0gZShcIi4uL2VudW1zXCIpLCByID0gZShcIi4vdXRpbHNcIiksIGEgPSBuLk1FU1NBR0VTLCBzID0gbi5BTExfQVBJUywgbyA9IG4uQVNZTkNfQVBJX01BUCwgbCA9IG4uRklFTERHUk9VUF9UT19GSUVMRDsgdC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQpIHsgZnVuY3Rpb24gaSgpIHsgdmFyIHQgPSB7fTsgcmV0dXJuIE9iamVjdC5rZXlzKHMpLmZvckVhY2goZnVuY3Rpb24gKGkpIHsgdmFyIG4gPSBzW2ldLCBhID0gZVtuXSgpOyByLmlzVmFsdWVFbXB0eShhKSB8fCAodFtpXSA9IGEpIH0pLCB0IH0gZnVuY3Rpb24gbigpIHsgdmFyIHQgPSBbXTsgcmV0dXJuIGUuX2xvYWRpbmcgJiYgT2JqZWN0LmtleXMoZS5fbG9hZGluZykuZm9yRWFjaChmdW5jdGlvbiAoaSkgeyBpZiAoZS5fbG9hZGluZ1tpXSkgeyB2YXIgbiA9IGxbaV07IHQucHVzaChuKSB9IH0pLCB0Lmxlbmd0aCA/IHQgOiBudWxsIH0gZnVuY3Rpb24gdSh0KSB7IHJldHVybiBmdW5jdGlvbiBpKHIpIHsgdmFyIGEgPSBuKCk7IGlmIChhKSB7IHZhciBzID0gb1thWzBdXTsgZVtzXShpLCAhMCkgfSBlbHNlIHQoKSB9IH0gZnVuY3Rpb24gYyhlLCBuKSB7IHZhciByID0gaSgpOyB0LnNlbmQoZSwgbiwgcikgfSBmdW5jdGlvbiBkKGUpIHsgZyhlKSwgYyhlLCBhLkhBTkRTSEFLRSkgfSBmdW5jdGlvbiBmKGUpIHsgdShmdW5jdGlvbiAoKSB7IGMoZSwgYS5QQVJFTlRTVEFURSkgfSkoKSB9IGZ1bmN0aW9uIGcoaSkgeyBmdW5jdGlvbiBuKG4pIHsgci5jYWxsKGUsIG4pLCB0LnNlbmQoaSwgYS5QQVJFTlRTVEFURSwgeyBDVVNUT01FUklEUzogZS5nZXRDdXN0b21lcklEcygpIH0pIH0gdmFyIHIgPSBlLnNldEN1c3RvbWVySURzOyBlLnNldEN1c3RvbWVySURzID0gbiB9IHJldHVybiBmdW5jdGlvbiAoZSkgeyBpZiAoIXQuaXNJbnZhbGlkKGUpKSB7ICh0LnBhcnNlKGUpLnByZWZpeCA9PT0gYS5IQU5EU0hBS0UgPyBkIDogZikoZS5zb3VyY2UpIH0gfSB9IH0sIHsgXCIuLi9lbnVtc1wiOiA0LCBcIi4vdXRpbHNcIjogMTEgfV0sIDEwOiBbZnVuY3Rpb24gKGUsIHQsIGkpIHsgT2JqZWN0LmtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IFtdOyBmb3IgKHZhciBpIGluIGUpIHQuaGFzT3duUHJvcGVydHkuY2FsbChlLCBpKSAmJiB0LnB1c2goaSk7IHJldHVybiB0IH0sIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2ggfHwgZnVuY3Rpb24gKGUsIHQpIHsgZm9yICh2YXIgaSA9IHRoaXMsIG4gPSAwLCByID0gaS5sZW5ndGg7IG4gPCByOyBuKyspZS5jYWxsKHQsIGlbbl0sIG4sIGkpIH0sIE9iamVjdC5hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIChlLCB0KSB7IGZvciAodmFyIGksIG4sIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgKytyKSB7IG4gPSBhcmd1bWVudHNbcl07IGZvciAoaSBpbiBuKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgaSkgJiYgKGVbaV0gPSBuW2ldKSB9IHJldHVybiBlIH0gfSwge31dLCAxMTogW2Z1bmN0aW9uIChlLCB0LCBpKSB7IGkuaXNPYmplY3RFbXB0eSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlID09PSBPYmplY3QoZSkgJiYgMCA9PT0gT2JqZWN0LmtleXMoZSkubGVuZ3RoIH0sIGkuaXNWYWx1ZUVtcHR5ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIFwiXCIgPT09IGUgfHwgaS5pc09iamVjdEVtcHR5KGUpIH0gfSwge31dXHJcbn0sIHt9LCBbMSwgMiwgMywgNF0pO1xyXG5cclxudmFyIHZpc2l0b3IgPSBWaXNpdG9yLmdldEluc3RhbmNlKFwiQUE3QTNCQzc1MjQ1QjNCQzBBNDkwRDREQEFkb2JlT3JnXCIsIHtcclxuICAgIFwidHJhY2tpbmdTZXJ2ZXJcIjogXCJvbW5pLnN1bnRydXN0LmNvbVwiLFxyXG4gICAgXCJ0cmFja2luZ1NlcnZlclNlY3VyZVwiOiBcInNvbW5pLnN1bnRydXN0LmNvbVwiLFxyXG4gICAgXCJtYXJrZXRpbmdDbG91ZFNlcnZlclwiOiBcIm9tbmkuc3VudHJ1c3QuY29tXCIsXHJcbiAgICBcIm1hcmtldGluZ0Nsb3VkU2VydmVyU2VjdXJlXCI6IFwic29tbmkuc3VudHJ1c3QuY29tXCJcclxufSk7IiwiLy9ObyBDdXN0b20gSmF2YVNjcmlwdFxyXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogYXQuanMgMS42LjMgfCAoYykgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQgfCBBbGwgcmlnaHRzIHJlc2VydmVkXHJcbiAqIHplcHRvLmpzIHwgKGMpIDIwMTAtMjAxNiBUaG9tYXMgRnVjaHMgfCB6ZXB0b2pzLmNvbS9saWNlbnNlXHJcbiovXHJcbndpbmRvdy5hZG9iZSA9IHdpbmRvdy5hZG9iZSB8fCB7fSwgd2luZG93LmFkb2JlLnRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiOyBmdW5jdGlvbiBuKCkgeyB9IGZ1bmN0aW9uIHQobikgeyBpZiAobnVsbCA9PT0gbiB8fCB2b2lkIDAgPT09IG4pIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZFwiKTsgcmV0dXJuIE9iamVjdChuKSB9IGZ1bmN0aW9uIGUobikgeyByZXR1cm4gVWMuY2FsbChuKSB9IGZ1bmN0aW9uIHIobikgeyByZXR1cm4gZShuKSB9IGZ1bmN0aW9uIGkobikgeyB2YXIgdCA9IHZvaWQgMCA9PT0gbiA/IFwidW5kZWZpbmVkXCIgOiBGYyhuKTsgcmV0dXJuIG51bGwgIT0gbiAmJiAoXCJvYmplY3RcIiA9PT0gdCB8fCBcImZ1bmN0aW9uXCIgPT09IHQpIH0gZnVuY3Rpb24gbyhuKSB7IHJldHVybiAhIWkobikgJiYgcihuKSA9PT0gJGMgfSBmdW5jdGlvbiB1KG4pIHsgdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1sxXSA/IGFyZ3VtZW50c1sxXSA6IDA7IHJldHVybiBvKG4pID8gc2V0VGltZW91dChuLCBOdW1iZXIodCkgfHwgMCkgOiAtMSB9IGZ1bmN0aW9uIGMoKSB7IHZhciBuID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMF0gPyBhcmd1bWVudHNbMF0gOiAtMTsgLTEgIT09IG4gJiYgY2xlYXJUaW1lb3V0KG4pIH0gZnVuY3Rpb24gYShuKSB7IHJldHVybiBudWxsID09IG4gfSBmdW5jdGlvbiBmKG4pIHsgcmV0dXJuIG4gfSBmdW5jdGlvbiBzKG4pIHsgcmV0dXJuIG8obikgPyBuIDogZiB9IGZ1bmN0aW9uIGwobikgeyByZXR1cm4gYShuKSA/IFtdIDogT2JqZWN0LmtleXMobikgfSBmdW5jdGlvbiBkKG4sIHQpIHsgcmV0dXJuIGEodCkgPyBbXSA6IChCYyh0KSA/IHpjIDogWmMpKHMobiksIHQpIH0gZnVuY3Rpb24gaChuKSB7IHJldHVybiBuICYmIG4ubGVuZ3RoID8gblswXSA6IHZvaWQgMCB9IGZ1bmN0aW9uIHAobikgeyByZXR1cm4gYShuKSA/IFtdIDogW10uY29uY2F0LmFwcGx5KFtdLCBuKSB9IGZ1bmN0aW9uIHYobikgeyBmb3IgKHZhciB0ID0gdGhpcywgZSA9IG4gPyBuLmxlbmd0aCA6IDAsIHIgPSBlOyByIC09IDE7KWlmICghbyhuW3JdKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGEgZnVuY3Rpb25cIik7IHJldHVybiBmdW5jdGlvbiAoKSB7IGZvciAodmFyIHIgPSBhcmd1bWVudHMubGVuZ3RoLCBpID0gQXJyYXkociksIG8gPSAwOyBvIDwgcjsgbysrKWlbb10gPSBhcmd1bWVudHNbb107IGZvciAodmFyIHUgPSAwLCBjID0gZSA/IG5bdV0uYXBwbHkodCwgaSkgOiBpWzBdOyAodSArPSAxKSA8IGU7KWMgPSBuW3VdLmNhbGwodCwgYyk7IHJldHVybiBjIH0gfSBmdW5jdGlvbiBtKG4sIHQpIHsgaWYgKCFhKHQpKSB7IChCYyh0KSA/IEhjIDogVmMpKHMobiksIHQpIH0gfSBmdW5jdGlvbiBnKG4pIHsgcmV0dXJuIG51bGwgIT0gbiAmJiBcIm9iamVjdFwiID09PSAodm9pZCAwID09PSBuID8gXCJ1bmRlZmluZWRcIiA6IEZjKG4pKSB9IGZ1bmN0aW9uIHkobikgeyByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgbiB8fCAhQmMobikgJiYgZyhuKSAmJiByKG4pID09PSBHYyB9IGZ1bmN0aW9uIGIobikgeyBpZiAoIXkobikpIHJldHVybiAtMTsgZm9yICh2YXIgdCA9IDAsIGUgPSBuLmxlbmd0aCwgciA9IDA7IHIgPCBlOyByICs9IDEpdCA9ICh0IDw8IDUpIC0gdCArIG4uY2hhckNvZGVBdChyKSAmIDQyOTQ5NjcyOTU7IHJldHVybiB0IH0gZnVuY3Rpb24geChuKSB7IHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiBuICYmIG4gPiAtMSAmJiBuICUgMSA9PSAwICYmIG4gPD0gS2MgfSBmdW5jdGlvbiBFKG4pIHsgcmV0dXJuIG51bGwgIT0gbiAmJiB4KG4ubGVuZ3RoKSAmJiAhbyhuKSB9IGZ1bmN0aW9uIHcobiwgdCkgeyByZXR1cm4gSmMoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRbbl0gfSwgbikgfSBmdW5jdGlvbiBDKG4pIHsgZm9yICh2YXIgdCA9IDAsIGUgPSBuLmxlbmd0aCwgciA9IEFycmF5KGUpOyB0IDwgZTspclt0XSA9IG5bdF0sIHQgKz0gMTsgcmV0dXJuIHIgfSBmdW5jdGlvbiBTKG4pIHsgcmV0dXJuIG4uc3BsaXQoXCJcIikgfSBmdW5jdGlvbiBPKG4pIHsgcmV0dXJuIGEobikgPyBbXSA6IEUobikgPyB5KG4pID8gUyhuKSA6IEMobikgOiB3KGwobiksIG4pIH0gZnVuY3Rpb24gVChuKSB7IGlmIChudWxsID09IG4pIHJldHVybiAhMDsgaWYgKEUobikgJiYgKEJjKG4pIHx8IHkobikgfHwgbyhuLnNwbGljZSkpKSByZXR1cm4gIW4ubGVuZ3RoOyBmb3IgKHZhciB0IGluIG4pIGlmIChYYy5jYWxsKG4sIHQpKSByZXR1cm4gITE7IHJldHVybiAhMCB9IGZ1bmN0aW9uIGsobikgeyByZXR1cm4gYShuKSA/IFwiXCIgOiBRYy5jYWxsKG4pIH0gZnVuY3Rpb24gTihuKSB7IHJldHVybiB5KG4pID8gIWsobikgOiBUKG4pIH0gZnVuY3Rpb24gQShuKSB7IHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0KG4pKSB9IGZ1bmN0aW9uIGoobikgeyBpZiAoIWcobikgfHwgcihuKSAhPT0gbmEpIHJldHVybiAhMTsgdmFyIHQgPSBBKG4pOyBpZiAobnVsbCA9PT0gdCkgcmV0dXJuICEwOyB2YXIgZSA9IGlhLmNhbGwodCwgXCJjb25zdHJ1Y3RvclwiKSAmJiB0LmNvbnN0cnVjdG9yOyByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBlICYmIGUgaW5zdGFuY2VvZiBlICYmIHJhLmNhbGwoZSkgPT09IG9hIH0gZnVuY3Rpb24gRChuKSB7IHJldHVybiBnKG4pICYmIDEgPT09IG4ubm9kZVR5cGUgJiYgIWoobikgfSBmdW5jdGlvbiBfKG4pIHsgcmV0dXJuIFwibnVtYmVyXCIgPT0gdHlwZW9mIG4gfHwgZyhuKSAmJiByKG4pID09PSBjYSB9IGZ1bmN0aW9uIFIobiwgdCkgeyByZXR1cm4gYSh0KSA/IFtdIDogKEJjKHQpID8gSmMgOiBhYSkocyhuKSwgdCkgfSBmdW5jdGlvbiBQKCkgeyB9IGZ1bmN0aW9uIEkoKSB7IHJldHVybiAobmV3IERhdGUpLmdldFRpbWUoKSB9IGZ1bmN0aW9uIE0obiwgdCwgZSkgeyByZXR1cm4gYShlKSA/IHQgOiAoQmMoZSkgPyBmYSA6IHNhKShzKG4pLCB0LCBlKSB9IGZ1bmN0aW9uIHEobikgeyByZXR1cm4gbnVsbCA9PSBuID8gbiA6IGRhLmNhbGwobikgfSBmdW5jdGlvbiBMKG4sIHQpIHsgcmV0dXJuIE4odCkgPyBbXSA6IHQuc3BsaXQobikgfSBmdW5jdGlvbiBVKG4sIHQpIHsgcmV0dXJuIG4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodCAtIG4gKyAxKSkgfSBmdW5jdGlvbiBGKCkgeyB2YXIgbiA9IEkoKTsgcmV0dXJuIFwieHh4eHh4eHh4eHh4NHh4eHl4eHh4eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uICh0KSB7IHZhciBlID0gKG4gKyBVKDAsIDE2KSkgJSAxNiB8IDA7IHJldHVybiBuID0gTWF0aC5mbG9vcihuIC8gMTYpLCAoXCJ4XCIgPT09IHQgPyBlIDogMyAmIGUgfCA4KS50b1N0cmluZygxNikgfSkgfSBmdW5jdGlvbiAkKG4pIHsgcmV0dXJuIGNkLnRlc3QobikgfSBmdW5jdGlvbiBCKG4pIHsgaWYgKCQobikpIHJldHVybiBuOyB2YXIgdCA9IHEoTChcIi5cIiwgbikpLCBlID0gdC5sZW5ndGg7IHJldHVybiBlID49IDMgJiYgYWQudGVzdCh0WzFdKSA/IHRbMl0gKyBcIi5cIiArIHRbMV0gKyBcIi5cIiArIHRbMF0gOiAxID09PSBlID8gdFswXSA6IHRbMV0gKyBcIi5cIiArIHRbMF0gfSBmdW5jdGlvbiBIKG4sIHQpIHsgbi5lbmFibGVkICYmIG0oZnVuY3Rpb24gKGUpIHsgYSh0W2VdKSB8fCAobltlXSA9IHRbZV0pIH0sIGxkKSB9IGZ1bmN0aW9uIFYobikgeyB2YXIgdCA9IG4uZG9jdW1lbnRNb2RlOyByZXR1cm4gIXQgfHwgdCA+PSAxMCB9IGZ1bmN0aW9uIHoobikgeyB2YXIgdCA9IG4uY29tcGF0TW9kZTsgcmV0dXJuIHQgJiYgXCJDU1MxQ29tcGF0XCIgPT09IHQgfSBmdW5jdGlvbiBaKG4sIHQsIGUpIHsgdmFyIHIgPSBuLmxvY2F0aW9uLnByb3RvY29sID09PSBmZCwgaSA9IFwiXCI7IHIgfHwgKGkgPSBCKG4ubG9jYXRpb24uaG9zdG5hbWUpKSwgZVttbF0gPSBpLCBlW3pzXSA9IHoodCkgJiYgVih0KSwgSChlLCBuW3RkXSB8fCB7fSkgfSBmdW5jdGlvbiBHKG4pIHsgWihoYSwgcGEsIG4pOyB2YXIgdCA9IGhhLmxvY2F0aW9uLnByb3RvY29sID09PSBmZDsgc2QgPSBxYyh7fSwgbiksIHNkW3JsXSA9IG5bcmxdIC8gMWUzLCBzZFtpbF0gPSBuW2lsXSAvIDFlMywgc2RbaGxdID0gXCJ4LW9ubHlcIiA9PT0gc2RbSnNdLCBzZFtwbF0gPSBcImRpc2FibGVkXCIgIT09IHNkW0pzXSwgc2RbdmxdID0gc2Rbc2xdIHx8IHQgPyBcImh0dHBzOlwiIDogXCJcIiB9IGZ1bmN0aW9uIEsoKSB7IHJldHVybiBzZCB9IGZ1bmN0aW9uIEoobiwgdCkgeyByZXR1cm4gdCA9IHsgZXhwb3J0czoge30gfSwgbih0LCB0LmV4cG9ydHMpLCB0LmV4cG9ydHMgfSBmdW5jdGlvbiBXKG4pIHsgdHJ5IHsgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChuKSB9IGNhdGNoICh0KSB7IHJldHVybiBuIH0gfSBmdW5jdGlvbiBYKG4pIHsgdHJ5IHsgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChuKSB9IGNhdGNoICh0KSB7IHJldHVybiBuIH0gfSBmdW5jdGlvbiBZKG4sIHQpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCB0KSB9IGZ1bmN0aW9uIFEobikgeyBpZiAoTmRbbl0pIHJldHVybiBOZFtuXTsga2QuaHJlZiA9IG47IHZhciB0ID0gYmQoa2QuaHJlZik7IHJldHVybiB0LnF1ZXJ5S2V5ID0gVGQodC5xdWVyeSksIE5kW25dID0gdCwgTmRbbl0gfSBmdW5jdGlvbiBubihuLCB0LCBlKSB7IHJldHVybiB7IG5hbWU6IG4sIHZhbHVlOiB0LCBleHBpcmVzOiBlIH0gfSBmdW5jdGlvbiB0bihuKSB7IHZhciB0ID0gTChcIiNcIiwgbik7IHJldHVybiBUKHQpIHx8IHQubGVuZ3RoIDwgMyA/IG51bGwgOiBpc05hTihwYXJzZUludCh0WzJdLCAxMCkpID8gbnVsbCA6IG5uKFcodFswXSksIFcodFsxXSksIE51bWJlcih0WzJdKSkgfSBmdW5jdGlvbiBlbihuKSB7IHJldHVybiBOKG4pID8gW10gOiBMKFwifFwiLCBuKSB9IGZ1bmN0aW9uIHJuKCkgeyB2YXIgbiA9IFIodG4sIGVuKG1kKFZzKSkpLCB0ID0gTWF0aC5jZWlsKEkoKSAvIDFlMyksIGUgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gaShuKSAmJiB0IDw9IG4uZXhwaXJlcyB9OyByZXR1cm4gTShmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gblt0Lm5hbWVdID0gdCwgbiB9LCB7fSwgZChlLCBuKSkgfSBmdW5jdGlvbiBvbihuKSB7IHZhciB0ID0gcm4oKSwgZSA9IHRbbl07IHJldHVybiBpKGUpID8gZS52YWx1ZSA6IFwiXCIgfSBmdW5jdGlvbiB1bihuKSB7IHJldHVybiBbWChuLm5hbWUpLCBYKG4udmFsdWUpLCBuLmV4cGlyZXNdLmpvaW4oXCIjXCIpIH0gZnVuY3Rpb24gY24obikgeyByZXR1cm4gbi5leHBpcmVzIH0gZnVuY3Rpb24gYW4obikgeyB2YXIgdCA9IFIoY24sIG4pOyByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgdCkgfSBmdW5jdGlvbiBmbihuLCB0KSB7IHZhciBlID0gTyhuKSwgciA9IE1hdGguYWJzKDFlMyAqIGFuKGUpIC0gSSgpKSwgaSA9IFIodW4sIGUpLmpvaW4oXCJ8XCIpLCBvID0gbmV3IERhdGUoSSgpICsgcik7IGdkKFZzLCBpLCB7IGRvbWFpbjogdCwgZXhwaXJlczogbyB9KSB9IGZ1bmN0aW9uIHNuKG4pIHsgdmFyIHQgPSBuLm5hbWUsIGUgPSBuLnZhbHVlLCByID0gbi5leHBpcmVzLCBpID0gbi5kb21haW4sIG8gPSBybigpOyBvW3RdID0gbm4odCwgZSwgTWF0aC5jZWlsKHIgKyBJKCkgLyAxZTMpKSwgZm4obywgaSkgfSBmdW5jdGlvbiBsbihuKSB7IHJldHVybiB1YShtZChuKSkgfSBmdW5jdGlvbiBkbihuLCB0KSB7IHZhciBlID0gbi5sb2NhdGlvbiwgciA9IGUuc2VhcmNoLCBpID0gVGQocik7IHJldHVybiB1YShpW3RdKSB9IGZ1bmN0aW9uIGhuKG4sIHQpIHsgdmFyIGUgPSBuLnJlZmVycmVyLCByID0gUShlKSwgaSA9IHIucXVlcnlLZXk7IHJldHVybiAhYShpKSAmJiB1YShpW3RdKSB9IGZ1bmN0aW9uIHBuKG4sIHQsIGUpIHsgcmV0dXJuIGxuKGUpIHx8IGRuKG4sIGUpIHx8IGhuKHQsIGUpIH0gZnVuY3Rpb24gdm4oKSB7IHZhciBuID0gSygpLCB0ID0gblttbF07IGdkKGFmLCBmZiwgeyBkb21haW46IHQgfSk7IHZhciBlID0gbWQoYWYpID09PSBmZjsgcmV0dXJuIHlkKGFmKSwgZSB9IGZ1bmN0aW9uIG1uKCkgeyByZXR1cm4gcG4oaGEsIHBhLCB1ZikgfSBmdW5jdGlvbiBnbigpIHsgdmFyIG4gPSBLKCksIHQgPSBuW3pzXTsgcmV0dXJuIG5baGxdID8gdCAmJiAhbW4oKSA6IHQgJiYgdm4oKSAmJiAhbW4oKSB9IGZ1bmN0aW9uIHluKCkgeyByZXR1cm4gcG4oaGEsIHBhLCBvZikgfSBmdW5jdGlvbiBibigpIHsgcmV0dXJuIHBuKGhhLCBwYSwgY2YpIH0gZnVuY3Rpb24geG4obiwgdCkgeyB2YXIgZSA9IG4uY29uc29sZTsgcmV0dXJuICFhKGUpICYmIG8oZVt0XSkgfSBmdW5jdGlvbiBFbihuLCB0KSB7IHZhciBlID0gbi5jb25zb2xlOyB4bihuLCBcIndhcm5cIikgJiYgZS53YXJuLmFwcGx5KGUsIFtqZF0uY29uY2F0KHQpKSB9IGZ1bmN0aW9uIHduKG4sIHQpIHsgdmFyIGUgPSBuLmNvbnNvbGU7IHhuKG4sIFwiZGVidWdcIikgJiYgeW4oKSAmJiBlLmRlYnVnLmFwcGx5KGUsIFtqZF0uY29uY2F0KHQpKSB9IGZ1bmN0aW9uIENuKCkgeyBmb3IgKHZhciBuID0gYXJndW1lbnRzLmxlbmd0aCwgdCA9IEFycmF5KG4pLCBlID0gMDsgZSA8IG47IGUrKyl0W2VdID0gYXJndW1lbnRzW2VdOyBFbihoYSwgdCkgfSBmdW5jdGlvbiBTbigpIHsgZm9yICh2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHQgPSBBcnJheShuKSwgZSA9IDA7IGUgPCBuOyBlKyspdFtlXSA9IGFyZ3VtZW50c1tlXTsgd24oaGEsIHQpIH0gZnVuY3Rpb24gT24obikgeyByZXR1cm4gTShmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdFtlXSA9IG5bZV0sIHQgfSwge30sIF9kKSB9IGZ1bmN0aW9uIFRuKG4sIHQsIGUpIHsgdmFyIHIgPSBuW25kXSB8fCBbXTsgaWYgKGUpIHsgdmFyIGkgPSByLnB1c2g7IHJbUXNdID0gRGQsIHJbWGxdID0gT24odCksIHJbWWxdID0gW10sIHJbUWxdID0gW10sIHIucHVzaCA9IGZ1bmN0aW9uIChuKSB7IHJbUWxdLnB1c2gobiksIGkuY2FsbCh0aGlzLCBuKSB9IH0gbltuZF0gPSByIH0gZnVuY3Rpb24ga24obiwgdCwgZSwgcikgeyBpZiAodCkgeyB2YXIgaSA9IHt9OyBpW2lkXSA9IEkoKSwgbltuZF1bZV0ucHVzaChxYyhpLCByKSkgfSB9IGZ1bmN0aW9uIE5uKCkgeyBUbihoYSwgSygpLCB5bigpKSB9IGZ1bmN0aW9uIEFuKG4sIHQpIHsga24oaGEsIHluKCksIG4sIHQpIH0gZnVuY3Rpb24gam4oKSB7IHZhciBuID0ge307IHJldHVybiBuW0VzXSA9ICEwLCBuIH0gZnVuY3Rpb24gRG4obikgeyB2YXIgdCA9IHt9OyByZXR1cm4gdFtFc10gPSAhMSwgdFt5c10gPSBuLCB0IH0gZnVuY3Rpb24gX24obikgeyByZXR1cm4gTihuKSA/IERuKF9mKSA6IG4ubGVuZ3RoID4gc2YgPyBEbihSZikgOiBqbigpIH0gZnVuY3Rpb24gUm4obikgeyBpZiAoIWkobikpIHJldHVybiBEbihEZik7IHZhciB0ID0gbltDc10sIGUgPSBfbih0KTsgcmV0dXJuIGVbRXNdID8gbyhuW3dzXSkgPyBvKG5beXNdKSA/IGpuKCkgOiBEbihJZikgOiBEbihQZikgOiBlIH0gZnVuY3Rpb24gUG4obikgeyBpZiAoIWkobikpIHJldHVybiBEbihEZik7IHZhciB0ID0gbltDc10sIGUgPSBfbih0KTsgaWYgKCFlW0VzXSkgcmV0dXJuIGU7IHZhciByID0gbltTc107IHJldHVybiBCYyhyKSA/IGpuKCkgOiBEbihNZikgfSBmdW5jdGlvbiBJbihuKSB7IGlmICghaShuKSkgcmV0dXJuIERuKERmKTsgdmFyIHQgPSBuW0NzXSwgZSA9IF9uKHQpOyByZXR1cm4gZVtFc10gPyBqbigpIDogZSB9IGZ1bmN0aW9uIE1uKG4sIHQpIHsgaWYgKCFpKG4pKSByZXR1cm4gRG4oRGYpOyB2YXIgZSA9IG5bT3NdOyBpZiAoTihlKSkgcmV0dXJuIERuKHFmKTsgdmFyIHIgPSBMKFwiLlwiLCBlKTsgaWYgKCFUKGQoZnVuY3Rpb24gKG4pIHsgcmV0dXJuICFsZi50ZXN0KG4pIH0sIHIpKSkgcmV0dXJuIERuKExmKTsgdmFyIHUgPSBuW1RzXTsgcmV0dXJuICFCYyh1KSB8fCBUKHUpID8gRG4oVWYpIDogVChkKGZ1bmN0aW9uIChuKSB7IHJldHVybiBhKHRbbl0pIH0sIHUpKSA/IG8obltrc10pID8gam4oKSA6IERuKEZmKSA6IERuKCRmKSB9IGZ1bmN0aW9uIHFuKG4sIHQpIHsgc24oeyBuYW1lOiBIbCwgdmFsdWU6IG4sIGV4cGlyZXM6IHRbaWxdLCBkb21haW46IHRbbWxdIH0pIH0gZnVuY3Rpb24gTG4obikgeyB2YXIgdCA9IEsoKTsgdFtobF0gfHwgcW4obiwgdCkgfSBmdW5jdGlvbiBVbigpIHsgdmFyIG4gPSBLKCk7IHJldHVybiBuW2hsXSA/IFJkIDogKE4ob24oSGwpKSAmJiBxbihSZCwgbiksIG9uKEhsKSkgfSBmdW5jdGlvbiBGbihuKSB7IHZhciB0ID0gSygpOyB0W2hsXSB8fCBzbih7IG5hbWU6ICRsLCB2YWx1ZTogbiwgZXhwaXJlczogdFtybF0sIGRvbWFpbjogdFttbF0gfSkgfSBmdW5jdGlvbiAkbigpIHsgcmV0dXJuIEsoKVtobF0gPyBcIlwiIDogb24oJGwpIH0gZnVuY3Rpb24gQm4obikgeyB2YXIgdCA9IFBkLmV4ZWMobik7IHJldHVybiBUKHQpIHx8IDIgIT09IHQubGVuZ3RoID8gXCJcIiA6IHRbMV0gfSBmdW5jdGlvbiBIbigpIHsgaWYgKCFLKClbY2xdKSByZXR1cm4gXCJcIjsgdmFyIG4gPSBtZChCbCk7IHJldHVybiBOKG4pID8gXCJcIiA6IG4gfSBmdW5jdGlvbiBWbihuKSB7IHZhciB0ID0gSygpOyBpZiAodFtjbF0pIHsgdmFyIGUgPSBtZChCbCk7IGlmICghdWEoZSkpIHsgdmFyIHIgPSBCbihuKTsgaWYgKCFOKHIpKSB7IHZhciBpID0gbmV3IERhdGUoSSgpICsgdFthbF0pOyBnZChCbCwgciwgeyBkb21haW46IHRbbWxdLCBleHBpcmVzOiBpIH0pIH0gfSB9IH0gZnVuY3Rpb24gem4obikgeyByZXR1cm4gblt2YV0gPT09IFhhIH0gZnVuY3Rpb24gWm4obiwgdCkgeyB2YXIgZSA9IG4oKSwgciA9IHQoKSwgaSA9IHt9OyByZXR1cm4gaS5zZXNzaW9uSWQgPSBlLCB1YShyKSA/IChpLmRldmljZUlkID0gciwgaSkgOiBpIH0gZnVuY3Rpb24gR24obiwgdCwgZSwgcikgeyB2YXIgaSA9IG5ldyBuLkN1c3RvbUV2ZW50KGUsIHsgZGV0YWlsOiByIH0pOyB0LmRpc3BhdGNoRXZlbnQoaSkgfSBmdW5jdGlvbiBLbihuKSB7IHJldHVybiAhVChuKSAmJiAhVChkKHpuLCBuKSkgfSBmdW5jdGlvbiBKbigpIHsgR24oaGEsIHBhLCBJZCwgeyB0eXBlOiBJZCB9KSB9IGZ1bmN0aW9uIFduKG4pIHsgdmFyIHQgPSB7IHR5cGU6IE1kLCBtYm94OiBuLm1ib3gsIHRyYWNraW5nOiBabihVbiwgJG4pIH07IEduKGhhLCBwYSwgTWQsIHQpIH0gZnVuY3Rpb24gWG4obiwgdCkgeyB2YXIgZSA9IG4ucmVzcG9uc2VUb2tlbnMsIHIgPSB7IHR5cGU6IHFkLCBtYm94OiBuLm1ib3gsIHJlZGlyZWN0OiBLbih0KSwgdHJhY2tpbmc6IFpuKFVuLCAkbikgfTsgVChlKSB8fCAoci5yZXNwb25zZVRva2VucyA9IGUpLCBHbihoYSwgcGEsIHFkLCByKSB9IGZ1bmN0aW9uIFluKG4pIHsgR24oaGEsIHBhLCBMZCwgeyB0eXBlOiBMZCwgbWJveDogbi5tYm94LCBtZXNzYWdlOiBuLm1lc3NhZ2UsIHRyYWNraW5nOiBabihVbiwgJG4pIH0pIH0gZnVuY3Rpb24gUW4obikgeyB2YXIgdCA9IHsgdHlwZTogVWQsIG1ib3g6IG4ubWJveCwgdHJhY2tpbmc6IFpuKFVuLCAkbikgfTsgR24oaGEsIHBhLCBVZCwgdCkgfSBmdW5jdGlvbiBudChuKSB7IEduKGhhLCBwYSwgRmQsIHsgdHlwZTogRmQsIG1ib3g6IG4ubWJveCwgdHJhY2tpbmc6IFpuKFVuLCAkbikgfSkgfSBmdW5jdGlvbiB0dChuKSB7IEduKGhhLCBwYSwgJGQsIHsgdHlwZTogJGQsIG1ib3g6IG4ubWJveCwgbWVzc2FnZTogbi5tZXNzYWdlLCBhY3Rpb25zOiBuLmFjdGlvbnMsIHRyYWNraW5nOiBabihVbiwgJG4pIH0pIH0gZnVuY3Rpb24gZXQobikgeyB2YXIgdCA9IHsgdHlwZTogQmQsIG1ib3g6IG4ubWJveCwgdHJhY2tpbmc6IFpuKFVuLCAkbikgfTsgR24oaGEsIHBhLCBCZCwgdCkgfSBmdW5jdGlvbiBydChuKSB7IHZhciB0ID0geyB0eXBlOiBIZCwgbWJveDogbi5tYm94LCB1cmw6IG4udXJsLCB0cmFja2luZzogWm4oVW4sICRuKSB9OyBHbihoYSwgcGEsIEhkLCB0KSB9IGZ1bmN0aW9uIGl0KG4pIHsgcmV0dXJuIG5ldyB6ZChuKSB9IGZ1bmN0aW9uIG90KG4pIHsgcmV0dXJuIHpkLnJlc29sdmUobikgfSBmdW5jdGlvbiB1dChuKSB7IHJldHVybiB6ZC5yZWplY3QobikgfSBmdW5jdGlvbiBjdChuKSB7IHJldHVybiBCYyhuKSA/IHpkLnJhY2UobikgOiB1dChuZXcgVHlwZUVycm9yKFpkKSkgfSBmdW5jdGlvbiBhdChuKSB7IHJldHVybiBCYyhuKSA/IHpkLmFsbChuKSA6IHV0KG5ldyBUeXBlRXJyb3IoWmQpKSB9IGZ1bmN0aW9uIGZ0KG4sIHQsIGUpIHsgdmFyIHIgPSAtMTsgcmV0dXJuIGN0KFtuLCBpdChmdW5jdGlvbiAobiwgaSkgeyByID0gdShmdW5jdGlvbiAoKSB7IHJldHVybiBpKG5ldyBFcnJvcihlKSkgfSwgdCkgfSldKS50aGVuKGZ1bmN0aW9uIChuKSB7IHJldHVybiBjKHIpLCBuIH0sIGZ1bmN0aW9uIChuKSB7IHRocm93IGMociksIG4gfSkgfSBmdW5jdGlvbiBzdChuKSB7IHRocm93IG5ldyBFcnJvcihuKSB9IGZ1bmN0aW9uIGx0KG4pIHsgdmFyIHQgPSBuW1lkXSB8fCBXZCwgZSA9IG5bUWRdIHx8IHN0KEpkKSwgciA9IG5bbmhdIHx8IHt9LCBpID0gblt0aF0gfHwgbnVsbCwgbyA9IG5bZWhdIHx8ICExLCB1ID0gbltyaF0gfHwgM2UzLCBjID0gISFhKG5baWhdKSB8fCAhMCA9PT0gbltpaF0sIGYgPSB7fTsgcmV0dXJuIGZbWWRdID0gdCwgZltRZF0gPSBlLCBmW25oXSA9IHIsIGZbdGhdID0gaSwgZltlaF0gPSBvLCBmW3JoXSA9IHUsIGZbaWhdID0gYywgZiB9IGZ1bmN0aW9uIGR0KG4sIHQsIGUsIHIpIHsgcmV0dXJuIG4ub25sb2FkID0gZnVuY3Rpb24gKCkgeyB2YXIgaSA9IDEyMjMgPT09IG4uc3RhdHVzID8gMjA0IDogbi5zdGF0dXM7IGlmIChpIDwgMTAwIHx8IGkgPiA1OTkpIHJldHVybiByW3lzXSA9IEdkLCBBbihZbCwgciksIHZvaWQgZShuZXcgRXJyb3IoR2QpKTsgdmFyIG8gPSBuLnJlc3BvbnNlVGV4dCwgdSA9IG4uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksIGMgPSB7IHN0YXR1czogaSwgaGVhZGVyczogdSwgcmVzcG9uc2U6IG8gfTsgcltSc10gPSBjLCBBbihZbCwgciksIHQoYykgfSwgbiB9IGZ1bmN0aW9uIGh0KG4sIHQsIGUpIHsgcmV0dXJuIG4ub25lcnJvciA9IGZ1bmN0aW9uICgpIHsgZVt5c10gPSBHZCwgQW4oWWwsIGUpLCB0KG5ldyBFcnJvcihHZCkpIH0sIG4gfSBmdW5jdGlvbiBwdChuLCB0LCBlLCByKSB7IHJldHVybiBuLnRpbWVvdXQgPSB0LCBuLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHsgclt5c10gPSBLZCwgQW4oWWwsIHIpLCBlKG5ldyBFcnJvcihLZCkpIH0sIG4gfSBmdW5jdGlvbiB2dChuLCB0KSB7IHJldHVybiAhMCA9PT0gdCAmJiAobi53aXRoQ3JlZGVudGlhbHMgPSB0KSwgbiB9IGZ1bmN0aW9uIG10KG4sIHQpIHsgcmV0dXJuIG0oZnVuY3Rpb24gKHQsIGUpIHsgbShmdW5jdGlvbiAodCkgeyByZXR1cm4gbi5zZXRSZXF1ZXN0SGVhZGVyKGUsIHQpIH0sIHQpIH0sIHQpLCBuIH0gZnVuY3Rpb24gZ3QobiwgdCkgeyB2YXIgZSA9IHt9LCByID0gbHQodCksIGkgPSByW1lkXSwgbyA9IHJbUWRdLCB1ID0gcltuaF0sIGMgPSByW3RoXSwgYSA9IHJbZWhdLCBmID0gcltyaF0sIHMgPSByW2loXTsgcmV0dXJuIGVbUHNdID0gciwgaXQoZnVuY3Rpb24gKHQsIHIpIHsgdmFyIGwgPSBuZXcgbi5YTUxIdHRwUmVxdWVzdDsgbCA9IGR0KGwsIHQsIHIsIGUpLCBsID0gaHQobCwgciwgZSksIGwub3BlbihpLCBvLCBzKSwgbCA9IHZ0KGwsIGEpLCBsID0gbXQobCwgdSksIHMgJiYgKGwgPSBwdChsLCBmLCByLCBlKSksIGwuc2VuZChjKSB9KSB9IGZ1bmN0aW9uIHl0KG4pIHsgcmV0dXJuIGd0KGhhLCBuKSB9IGZ1bmN0aW9uIGJ0KG4sIHQpIHsgdmFyIGUgPSB0LnNlc3Npb25JZDsgcmV0dXJuIHVhKGUpICYmIG4oZSksIHQgfSBmdW5jdGlvbiB4dChuLCB0KSB7IHZhciBlID0gdC50bnRJZDsgcmV0dXJuIHVhKGUpICYmIG4oZSksIHQgfSBmdW5jdGlvbiBFdChuLCB0KSB7IHZhciBlID0gdC50bnRJZDsgcmV0dXJuIHVhKGUpICYmIG4oZSksIHQgfSBmdW5jdGlvbiB3dChuLCB0KSB7IG5bbmRdLnB1c2godCkgfSBmdW5jdGlvbiBDdChuLCB0KSB7IHZhciBlID0gdC50cmFjZTsgcmV0dXJuIGkoZSkgJiYgd3QobiwgZSksIHQgfSBmdW5jdGlvbiBTdChuKSB7IHZhciB0ID0gblt5c107IGlmICh1YSh0KSkgeyB2YXIgZSA9IHt9OyB0aHJvdyBlW05zXSA9IHlzLCBlW3lzXSA9IHQsIGUgfSByZXR1cm4gbiB9IGZ1bmN0aW9uIE90KG4pIHsgdmFyIHQgPSBuLm1lc3NhZ2U7IHJldHVybiBOKHQpID8gYWggOiB0IH0gZnVuY3Rpb24gVHQobikgeyB2YXIgdCA9IG4uZHVyYXRpb247IHJldHVybiBfKHQpID8gdCA6IGNoIH0gZnVuY3Rpb24ga3QobiwgdCwgZSkgeyB2YXIgciA9IG5bbWxdLCBpID0gT3QoZSksIG8gPSBuZXcgRGF0ZShJKCkgKyBUdChlKSk7IHQob2gsIGksIHsgZG9tYWluOiByLCBleHBpcmVzOiBvIH0pIH0gZnVuY3Rpb24gTnQobiwgdCwgZSkgeyB2YXIgciA9IGUuZGlzYWJsZWQ7IGlmIChpKHIpKSB7IHZhciBvID0ge307IHRocm93IG9bTnNdID0gdWgsIG9beXNdID0gT3QociksIGt0KG4sIHQsIHIpLCBvIH0gcmV0dXJuIGUgfSBmdW5jdGlvbiBBdChuKSB7IHJldHVybiB1YShuW2dmXSkgfSBmdW5jdGlvbiBqdChuKSB7IHJldHVybiBpKG5bbWZdKSB8fCBCYyhuW21mXSkgfSBmdW5jdGlvbiBEdChuKSB7IHJldHVybiB1YShuW1hhXSkgfSBmdW5jdGlvbiBfdChuKSB7IHJldHVybiBCYyhuW2pzXSkgJiYgIVQobltqc10pIH0gZnVuY3Rpb24gUnQobikgeyByZXR1cm4gaShuW0lzXSkgJiYgdWEobltJc11bX2FdKSB9IGZ1bmN0aW9uIFB0KG4pIHsgcmV0dXJuIGEobltnZl0pICYmIGEobltYYV0pICYmIGEobltqc10pICYmIGEobltJc10pIH0gZnVuY3Rpb24gSXQobikgeyByZXR1cm4gdWEobltxc10pIH0gZnVuY3Rpb24gTXQobikgeyByZXR1cm4gQmMobltNc10pICYmICFUKG5bTXNdKSB9IGZ1bmN0aW9uIHF0KG4pIHsgaWYgKEl0KG4pKSB7IHZhciB0ID0ge307IHJldHVybiB0W3ZhXSA9IFFhLCB0W3lhXSA9IG5bcXNdLCBbdF0gfSByZXR1cm4gW10gfSBmdW5jdGlvbiBMdChuKSB7IHJldHVybiBNdChuKSA/IFtuLmh0bWxdLmNvbmNhdChuLnBsdWdpbnMpIDogW24uaHRtbF0gfSBmdW5jdGlvbiBVdChuKSB7IHZhciB0ID0gZChBdCwgbik7IGlmIChUKHQpKSByZXR1cm4gb3QoW10pOyB2YXIgZSA9IHAoUihxdCwgbikpLCByID0ge307IHJldHVybiByW3ZhXSA9IEZhLCByW2JhXSA9IHAoUihMdCwgdCkpLmpvaW4oXCJcIiksIG90KFtyXS5jb25jYXQoZSkpIH0gZnVuY3Rpb24gRnQobikgeyByZXR1cm4gblttZl0gfSBmdW5jdGlvbiAkdChuKSB7IHJldHVybiBNKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuLnB1c2goRnQodCkpLCBuIH0sIFtdLCBuKSB9IGZ1bmN0aW9uIEJ0KG4pIHsgdmFyIHQgPSBkKGp0LCBuKTsgaWYgKFQodCkpIHJldHVybiBvdChbXSk7IHZhciBlID0ge307IHJldHVybiBlW3ZhXSA9IEJhLCBlW2JhXSA9ICR0KHQpLCBvdChbZV0pIH0gZnVuY3Rpb24gSHQobiwgdCkgeyByZXR1cm4gb3QoW24oeyBhY3Rpb246IFhhLCB1cmw6IHRbWGFdIH0pXSkgfSBmdW5jdGlvbiBWdChuKSB7IHJldHVybiB7IGFjdGlvbjogSmEsIGNvbnRlbnQ6IG4gfSB9IGZ1bmN0aW9uIHp0KG4pIHsgcmV0dXJuIE10KG4pID8gUihWdCwgbi5wbHVnaW5zKSA6IFtdIH0gZnVuY3Rpb24gWnQobikgeyB2YXIgdCA9IG5bcWFdOyBpZiAoTih0KSkgcmV0dXJuIFwiXCI7IHZhciBlID0gZmguZXhlYyh0KTsgcmV0dXJuIFQoZSkgfHwgMiAhPT0gZS5sZW5ndGggPyBcIlwiIDogZVsxXSB9IGZ1bmN0aW9uIEd0KG4sIHQpIHsgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KE5mKTsgZS5pbm5lckhUTUwgPSB0OyB2YXIgciA9IGUuZmlyc3RFbGVtZW50Q2hpbGQ7IHJldHVybiBhKHIpID8gdCA6IChyLmlkID0gbiwgci5vdXRlckhUTUwpIH0gZnVuY3Rpb24gS3QobikgeyB2YXIgdCA9IG5bYmFdLCBlID0gWnQobik7IGlmIChOKGUpIHx8IE4odCkpIHJldHVybiBuOyB2YXIgciA9IG5bcWFdOyByZXR1cm4gbltxYV0gPSByLnJlcGxhY2Uoc2gsIFwiXCIpLCBuW2JhXSA9IEd0KGUsIHQpLCBuIH0gZnVuY3Rpb24gSnQobikgeyB2YXIgdCA9IG5bZ2FdOyByZXR1cm4gTih0KSA/IG4gOiAobltiYV0gPSBcIjxcIiArIGtmICsgXCIgXCIgKyB4ZiArICc9XCInICsgdCArICdcIiAvPicsIG4pIH0gZnVuY3Rpb24gV3QobikgeyB2YXIgdCA9IEt0KG4pOyBpZiAoIXkodFtiYV0pKSByZXR1cm4gU24oSmYsIHQpLCBudWxsOyB2YXIgZSA9IG5beGFdOyByZXR1cm4gYmYgPT09IGUgJiYgKG5bdmFdID0gJGEpLCBuIH0gZnVuY3Rpb24gWHQobikgeyB2YXIgdCA9IEt0KG4pOyByZXR1cm4geSh0W2JhXSkgPyB0IDogKFNuKEpmLCB0KSwgbnVsbCkgfSBmdW5jdGlvbiBZdChuKSB7IHZhciB0ID0gS3Qobik7IHJldHVybiB5KHRbYmFdKSA/IHQgOiAoU24oSmYsIHQpLCBudWxsKSB9IGZ1bmN0aW9uIFF0KG4pIHsgdmFyIHQgPSBLdChuKTsgcmV0dXJuIHkodFtiYV0pID8gdCA6IChTbihKZiwgdCksIG51bGwpIH0gZnVuY3Rpb24gbmUobikgeyB2YXIgdCA9IEt0KEp0KG4pKTsgcmV0dXJuIHkodFtiYV0pID8gdCA6IChTbihKZiwgdCksIG51bGwpIH0gZnVuY3Rpb24gdGUobikgeyB2YXIgdCA9IEt0KEp0KG4pKTsgcmV0dXJuIHkodFtiYV0pID8gdCA6IChTbihKZiwgdCksIG51bGwpIH0gZnVuY3Rpb24gZWUobikgeyByZXR1cm4geShuW2JhXSkgPyBuIDogKFNuKEpmLCBuKSwgbnVsbCkgfSBmdW5jdGlvbiByZShuKSB7IHZhciB0ID0gblttYV0sIGUgPSBuW2dhXTsgcmV0dXJuIE4odCkgfHwgTihlKSA/IChTbihXZiwgbiksIG51bGwpIDogbiB9IGZ1bmN0aW9uIGllKG4pIHsgdmFyIHQgPSBuW0lhXSwgZSA9IG5bZ2FdOyBpZiAoTih0KSB8fCBOKGUpKSByZXR1cm4gU24oWGYsIG4pLCBudWxsOyB2YXIgciA9IHt9OyByZXR1cm4gclt0XSA9IGUsIG5bVWFdID0gciwgbiB9IGZ1bmN0aW9uIG9lKG4pIHsgdmFyIHQgPSBuW0VhXSwgZSA9IG5bd2FdOyBpZiAoTih0KSB8fCBOKGUpKSByZXR1cm4gU24oWWYsIG4pLCBudWxsOyB2YXIgciA9IHt9OyByZXR1cm4gcltDYV0gPSB0LCByW1NhXSA9IGUsIG5bdmFdID0gVmEsIG5bVWFdID0gciwgbiB9IGZ1bmN0aW9uIHVlKG4pIHsgdmFyIHQgPSBOdW1iZXIobltPYV0pLCBlID0gTnVtYmVyKG5bVGFdKTsgaWYgKGlzTmFOKHQpIHx8IGlzTmFOKGUpKSByZXR1cm4gU24oUWYsIG4pLCBudWxsOyB2YXIgciA9IG5bQWFdLCBpID0ge307IHJldHVybiBpW2thXSA9IHQsIGlbTmFdID0gZSwgdWEocikgJiYgKGlbQWFdID0gciksIG5bdmFdID0gVmEsIG5bVWFdID0gaSwgbiB9IGZ1bmN0aW9uIGNlKG4pIHsgdmFyIHQgPSBOdW1iZXIobltqYV0pLCBlID0gTnVtYmVyKG5bRGFdKTsgcmV0dXJuIGlzTmFOKHQpIHx8IGlzTmFOKGUpID8gKFNuKG5zLCBuKSwgbnVsbCkgOiBuIH0gZnVuY3Rpb24gYWUobiwgdCkgeyByZXR1cm4gbih0KSB9IGZ1bmN0aW9uIGZlKG4pIHsgcmV0dXJuIE4oblt5YV0pID8gKFNuKGVzLCBuKSwgbnVsbCkgOiBuIH0gZnVuY3Rpb24gc2UobiwgdCkgeyBzd2l0Y2ggKHRbdmFdKSB7IGNhc2UgRmE6IHJldHVybiBXdCh0KTsgY2FzZSBXYTogcmV0dXJuIFh0KHQpOyBjYXNlIGVmOiByZXR1cm4gWXQodCk7IGNhc2UgcmY6IHJldHVybiBRdCh0KTsgY2FzZSBuZjogcmV0dXJuIG5lKHQpOyBjYXNlIHRmOiByZXR1cm4gdGUodCk7IGNhc2UgSmE6IHJldHVybiBlZSh0KTsgY2FzZSBIYTogcmV0dXJuIHJlKHQpOyBjYXNlIFZhOiByZXR1cm4gaWUodCk7IGNhc2UgWmE6IHJldHVybiBvZSh0KTsgY2FzZSBHYTogcmV0dXJuIHVlKHQpOyBjYXNlIEthOiByZXR1cm4gdDsgY2FzZSB6YTogcmV0dXJuIGNlKHQpOyBjYXNlIFhhOiByZXR1cm4gYWUobiwgdCk7IGNhc2UgWWE6IHJldHVybiBmZSh0KTsgZGVmYXVsdDogcmV0dXJuIG51bGwgfSB9IGZ1bmN0aW9uIGxlKG4sIHQpIHsgcmV0dXJuIGQoZnVuY3Rpb24gKG4pIHsgcmV0dXJuICFhKG4pIH0sIFIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHNlKG4sIHQpIH0sIHQpKSB9IGZ1bmN0aW9uIGRlKG4sIHQpIHsgcmV0dXJuIG90KFtdLmNvbmNhdChsZShuLCB0LmFjdGlvbnMpLCB6dCh0KSkpIH0gZnVuY3Rpb24gaGUobikgeyB2YXIgdCA9IG4ucXVlcnlLZXksIGUgPSB0W2xoXTsgaWYgKCF5KGUpKSByZXR1cm4gdDsgaWYgKE4oZSkpIHJldHVybiB0OyB2YXIgciA9IE1hdGgucm91bmQoSSgpIC8gMWUzKTsgcmV0dXJuIHRbbGhdID0gZS5yZXBsYWNlKC9cXHxUUz1cXGQrLywgXCJ8VFM9XCIgKyByKSwgdCB9IGZ1bmN0aW9uIHBlKG4sIHQpIHsgdmFyIGUgPSBRKG4pLCByID0gZS5wcm90b2NvbCwgaSA9IGUuaG9zdCwgbyA9IGUucGF0aCwgdSA9IFwiXCIgPT09IGUucG9ydCA/IFwiXCIgOiBcIjpcIiArIGUucG9ydCwgYyA9IE4oZS5hbmNob3IpID8gXCJcIiA6IFwiI1wiICsgZS5hbmNob3IsIGEgPSBoZShlKSwgZiA9IEFkKHFjKHt9LCBhLCB0KSk7IHJldHVybiByICsgXCI6Ly9cIiArIGkgKyB1ICsgbyArIChOKGYpID8gXCJcIiA6IFwiP1wiICsgZikgKyBjIH0gZnVuY3Rpb24gdmUobikgeyB2YXIgdCA9IHt9OyByZXR1cm4gbShmdW5jdGlvbiAobikgeyBhKHRbbi50eXBlXSkgJiYgKHRbbi50eXBlXSA9IHt9KSwgdFtuLnR5cGVdW24ubmFtZV0gPSBuLmRlZmF1bHRWYWx1ZSB9LCBuW0FzXSksIHQgfSBmdW5jdGlvbiBtZShuKSB7IHJldHVybiBhKG5bUHNdKSA/IHt9IDogbltQc10gfSBmdW5jdGlvbiBnZShuKSB7IHJldHVybiAtMSAhPT0gbi5pbmRleE9mKENzKSB9IGZ1bmN0aW9uIHllKG4pIHsgdmFyIHQgPSB7fTsgcmV0dXJuIGEobltDc10pID8gdCA6IChtKGZ1bmN0aW9uIChuLCBlKSB7IGdlKGUpIHx8ICh0W2VdID0gbikgfSwgbltDc10pLCB0KSB9IGZ1bmN0aW9uIGJlKG4sIHQpIHsgbShmdW5jdGlvbiAoZSwgcikgeyB2YXIgaSA9IHRbcl07IGEoaSkgfHwgKG5bcl0gPSBpKSB9LCBuKSB9IGZ1bmN0aW9uIHhlKG4sIHQsIGUsIHIpIHsgcmV0dXJuIGJlKG4sIHQpLCBiZShlLCByKSwgcWMoe30sIG4sIGUpIH0gZnVuY3Rpb24gRWUobiwgdCwgZSkgeyB2YXIgciA9IHt9OyByZXR1cm4gcltZZF0gPSBXZCwgcltRZF0gPSBwZShuLCB0KSwgcltyaF0gPSBlLCByIH0gZnVuY3Rpb24gd2UobikgeyByZXR1cm4gbiA+PSAyMDAgJiYgbiA8IDMwMCB8fCAzMDQgPT09IG4gfSBmdW5jdGlvbiBDZShuLCB0KSB7IGlmICghd2UobltOc10pKSByZXR1cm4gW107IHZhciBlID0gbltSc107IGlmIChOKGUpKSByZXR1cm4gW107IHZhciByID0ge307IHJldHVybiByW3ZhXSA9IEZhLCByW2JhXSA9IGUsIFtyXS5jb25jYXQocXQodCksIHp0KHQpKSB9IGZ1bmN0aW9uIFNlKG4sIHQsIGUsIHIpIHsgdmFyIGkgPSByW0lzXSwgbyA9IHZlKGkpLCB1ID0gbWUobyksIGMgPSB5ZShvKSwgYSA9IFRkKG4ubG9jYXRpb24uc2VhcmNoKSwgZiA9IGVbQXNdLCBzID0gaVtRZF0sIGwgPSB4ZSh1LCBhLCBjLCBmKSwgZCA9IGVbcmhdLCBoID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIENlKG4sIHIpIH07IHJldHVybiB0KEVlKHMsIGwsIGQpKS50aGVuKGgpWydjYXRjaCddKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH0pIH0gZnVuY3Rpb24gT2UobikgeyByZXR1cm4gb3QoW10uY29uY2F0KHF0KG4pLCB6dChuKSkpIH0gZnVuY3Rpb24gVGUobiwgdCwgZSwgciwgaSkgeyB2YXIgbyA9IFtdOyByZXR1cm4gbShmdW5jdGlvbiAoaSkgeyByZXR1cm4gRHQoaSkgPyB2b2lkIG8ucHVzaChIdChlLCBpKSkgOiBfdChpKSA/IHZvaWQgby5wdXNoKGRlKGUsIGkpKSA6IFJ0KGkpID8gdm9pZCBvLnB1c2goU2UobiwgdCwgciwgaSkpIDogdm9pZCAoUHQoaSkgJiYgby5wdXNoKE9lKGkpKSkgfSwgaSksIG8uY29uY2F0KFV0KGkpLCBCdChpKSkgfSBmdW5jdGlvbiBrZShuKSB7IHZhciB0ID0gW107IHJldHVybiBtKGZ1bmN0aW9uIChuKSB7IHZhciBlID0gbltEc107IGkoZSkgJiYgdC5wdXNoKGUpIH0sIG4pLCB0IH0gZnVuY3Rpb24gTmUobiwgdCkgeyBtKGZ1bmN0aW9uIChuKSB7IG4uaWQgPSBGKCkgfSwgbik7IHZhciBlID0ge307IHJldHVybiBlW2pzXSA9IG4sIGVbRHNdID0gdCwgZSB9IGZ1bmN0aW9uIEFlKG4sIHQsIGUsIHIsIGkpIHsgdmFyIG8gPSBpW0xzXTsgaWYgKCFCYyhvKSkgcmV0dXJuIG90KE5lKFtdLCBbXSkpOyB2YXIgdSA9IFRlKG4sIHQsIGUsIHIsIG8pLCBjID0ga2UobyksIGEgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gTmUocChuKSwgYykgfTsgcmV0dXJuIGF0KHUpLnRoZW4oYSkgfSBmdW5jdGlvbiBqZShuLCB0LCBlKSB7IHZhciByID0gZVtfYV07IGlmIChOKHIpKSByZXR1cm4gU24odHMsIGUpLCBudWxsOyB2YXIgaSA9IFN0cmluZyhlW1JhXSkgPT09IGhoLCBvID0gU3RyaW5nKGVbUGFdKSA9PT0gaGgsIHUgPSB7fTsgcmV0dXJuIGkgJiYgKHUgPSBxYyh1LCBUZChuLmxvY2F0aW9uLnNlYXJjaCkpKSwgbyAmJiAodVtkaF0gPSB0KCkpLCBlW19hXSA9IHBlKHIsIHUpLCBlIH0gZnVuY3Rpb24gRGUobikgeyByZXR1cm4gIVQobikgJiYgMiA9PT0gbi5sZW5ndGggJiYgdWEoblswXSkgfSBmdW5jdGlvbiBfZShuKSB7IHZhciB0ID0gbi5pbmRleE9mKFwiPVwiKTsgcmV0dXJuIC0xID09PSB0ID8gW10gOiBbbi5zdWJzdHIoMCwgdCksIG4uc3Vic3RyKHQgKyAxKV0gfSBmdW5jdGlvbiBSZShuLCB0LCBlLCByKSB7IG0oZnVuY3Rpb24gKG4sIG8pIHsgaShuKSA/ICh0LnB1c2gobyksIFJlKG4sIHQsIGUsIHIpLCB0LnBvcCgpKSA6IFQodCkgPyBlW3IobyldID0gbiA6IGVbcih0LmNvbmNhdChvKS5qb2luKFwiLlwiKSldID0gbiB9LCBuKSB9IGZ1bmN0aW9uIFBlKG4pIHsgcmV0dXJuIGQoZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIHVhKHQpIH0sIFRkKG4pKSB9IGZ1bmN0aW9uIEllKG4pIHsgdmFyIHQgPSBNKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuLnB1c2goX2UodCkpLCBuIH0sIFtdLCBkKHVhLCBuKSk7IHJldHVybiBNKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuW1coayh0WzBdKSldID0gVyhrKHRbMV0pKSwgbiB9LCB7fSwgZChEZSwgdCkpIH0gZnVuY3Rpb24gTWUobiwgdCkgeyB2YXIgZSA9IHt9OyByZXR1cm4gYSh0KSA/IFJlKG4sIFtdLCBlLCBmKSA6IFJlKG4sIFtdLCBlLCB0KSwgZSB9IGZ1bmN0aW9uIHFlKG4pIHsgaWYgKCFvKG4pKSByZXR1cm4ge307IHZhciB0ID0gbnVsbDsgdHJ5IHsgdCA9IG4oKSB9IGNhdGNoIChuKSB7IHJldHVybiB7fSB9IHJldHVybiBhKHQpID8ge30gOiBCYyh0KSA/IEllKHQpIDogeSh0KSAmJiB1YSh0KSA/IFBlKHQpIDogaSh0KSA/IE1lKHQpIDoge30gfSBmdW5jdGlvbiBMZSgpIHsgdmFyIG4gPSBoYS5kZXZpY2VQaXhlbFJhdGlvOyBpZiAoIWEobikpIHJldHVybiBuOyBuID0gMTsgdmFyIHQgPSBoYS5zY3JlZW4sIGUgPSB0LnN5c3RlbVhEUEksIHIgPSB0LmxvZ2ljYWxYRFBJOyByZXR1cm4gIWEoZSkgJiYgIWEocikgJiYgZSA+IHIgJiYgKG4gPSBlIC8gciksIG4gfSBmdW5jdGlvbiBVZSgpIHsgdmFyIG4gPSBoYS5zY3JlZW4sIHQgPSBuLm9yaWVudGF0aW9uLCBlID0gbi53aWR0aCwgciA9IG4uaGVpZ2h0OyBpZiAoYSh0KSkgcmV0dXJuIGUgPiByID8gXCJsYW5kc2NhcGVcIiA6IFwicG9ydHJhaXRcIjsgaWYgKGEodC50eXBlKSkgcmV0dXJuIG51bGw7IHZhciBpID0gTChcIi1cIiwgdC50eXBlKTsgaWYgKFQoaSkpIHJldHVybiBudWxsOyB2YXIgbyA9IGlbMF07IHJldHVybiBhKG8pID8gbnVsbCA6IG8gfSBmdW5jdGlvbiBGZSgpIHsgcmV0dXJuIHBoIH0gZnVuY3Rpb24gJGUoKSB7IHZhciBuID0gaGEuc2NyZWVuLCB0ID0gcGEuZG9jdW1lbnRFbGVtZW50LCBlID0ge307IGVbeGxdID0gdC5jbGllbnRIZWlnaHQsIGVbRWxdID0gdC5jbGllbnRXaWR0aCwgZVt3bF0gPSAtKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLCBlW0NsXSA9IG4uaGVpZ2h0LCBlW1NsXSA9IG4ud2lkdGgsIGVbVGxdID0gbi5jb2xvckRlcHRoLCBlW2tsXSA9IExlKCk7IHZhciByID0gVWUoKTsgYShyKSB8fCAoZVtPbF0gPSByKTsgdmFyIGkgPSBGZSgpOyByZXR1cm4gYShpKSB8fCAoZVtObF0gPSBpKSwgZSB9IGZ1bmN0aW9uIEJlKCkgeyByZXR1cm4gdmggfSBmdW5jdGlvbiBIZSgpIHsgdmFyIG4gPSBuZXcgRGF0ZTsgcmV0dXJuIG4uZ2V0VGltZSgpIC0gNmU0ICogbi5nZXRUaW1lem9uZU9mZnNldCgpIH0gZnVuY3Rpb24gVmUoKSB7IHZhciBuID0gSygpLCB0ID0gaGEubG9jYXRpb24sIGUgPSB7fTsgcmV0dXJuIGVbamxdID0gVW4oKSwgbltobF0gfHwgKGVbRGxdID0gJG4oKSksIGVbX2xdID0gQmUoKSwgZVtSbF0gPSBGKCksIGVbUGxdID0gbltRc10sIGVbSWxdID0gbWgsIGVbTWxdID0gSGUoKSwgZVtxbF0gPSB0Lmhvc3RuYW1lLCBlW0xsXSA9IHQuaHJlZiwgZVtVbF0gPSBwYS5yZWZlcnJlciwgbltwbF0gJiYgKGVbRmxdID0gbltKc10pLCBtaCArPSAxLCBlIH0gZnVuY3Rpb24gemUobikgeyByZXR1cm4gcWMoe30sIG4sIHFlKGhhLnRhcmdldFBhZ2VQYXJhbXNBbGwpKSB9IGZ1bmN0aW9uIFplKG4pIHsgcmV0dXJuIHFjKHt9LCBuLCBxZShoYS50YXJnZXRQYWdlUGFyYW1zKSkgfSBmdW5jdGlvbiBHZShuKSB7IHZhciB0ID0gSygpLCBlID0gdFtYc10sIHIgPSB0W2dsXSwgaSA9IHRbeWxdOyByZXR1cm4gZSAhPT0gbiA/IHplKHIgfHwge30pIDogcWMoemUociB8fCB7fSksIFplKGkgfHwge30pKSB9IGZ1bmN0aW9uIEtlKG4sIHQpIHsgdmFyIGUgPSB7fTsgZVtBbF0gPSBuOyB2YXIgciA9IEllKHQpLCBpID0gVmUoKSwgbyA9ICRlKCksIHUgPSBHZShuKTsgcmV0dXJuIHFjKHt9LCBlLCByLCBpLCBvLCB1KSB9IGZ1bmN0aW9uIEplKCkgeyB2YXIgbiA9IEsoKSwgdCA9IG5bWHNdLCBlID0ge307IGVbQWxdID0gdDsgdmFyIHIgPSBWZSgpLCBpID0gJGUoKSwgbyA9IEdlKHQpOyByZXR1cm4gcWMoe30sIGUsIHIsIGksIG8pIH0gZnVuY3Rpb24gV2UobiwgdCwgZSkgeyBpZiAoTih0KSkgcmV0dXJuIG51bGw7IGlmIChhKG5bZ2hdKSkgcmV0dXJuIG51bGw7IGlmICghbyhuW2doXVt5aF0pKSByZXR1cm4gbnVsbDsgdmFyIHIgPSBuW2doXVt5aF0odCwgeyBzZGlkUGFyYW1FeHBpcnk6IGUgfSk7IHJldHVybiBpKHIpICYmIG8ocltiaF0pICYmIHJbYmhdKCkgPyByIDogbnVsbCB9IGZ1bmN0aW9uIFhlKG4pIHsgcmV0dXJuIFwiXCIgKyAkaCArIG4gfSBmdW5jdGlvbiBZZShuKSB7IGlmICghbyhuW0xoXSkpIHJldHVybiB7fTsgdmFyIHQgPSBuW0xoXSgpOyByZXR1cm4gaSh0KSA/IE1lKHQsIFhlKSA6IHt9IH0gZnVuY3Rpb24gUWUobikgeyB2YXIgdCA9IHt9OyByZXR1cm4gdWEobltVaF0pICYmICh0W0JoXSA9IG5bVWhdKSwgdWEobltGaF0pICYmICh0W0hoXSA9IG5bRmhdKSwgdCB9IGZ1bmN0aW9uIG5yKG4sIHQpIHsgdmFyIGUgPSB7fTsgcmV0dXJuIG8obltxaF0pID8gKGVbTWhdID0gbltxaF0oQ3MgKyBcIjpcIiArIHQpLCBlKSA6IHt9IH0gZnVuY3Rpb24gdHIobiwgdCkgeyBpZiAoYShuKSkgcmV0dXJuIHt9OyB2YXIgZSA9IFllKG4pLCByID0gUWUobiksIGkgPSBucihuLCB0KTsgcmV0dXJuIHFjKHt9LCBpLCByLCBlKSB9IGZ1bmN0aW9uIGVyKG4pIHsgdmFyIHQgPSB7fSwgZSA9IG5bamhdLCByID0gbltBaF0sIGkgPSBuW2toXSwgbyA9IG5bTmhdOyByZXR1cm4gdWEoZSkgJiYgKHRbSWhdID0gZSksIHVhKHIpICYmICh0W19oXSA9IHIpLCB1YShpKSAmJiAodFtSaF0gPSBpKSwgaXNOYU4ocGFyc2VJbnQobywgMTApKSB8fCAodFtQaF0gPSBvKSwgdCB9IGZ1bmN0aW9uIHJyKG4pIHsgcmV0dXJuIE0oZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIHFjKG4sIHQpIH0sIHt9LCBuKSB9IGZ1bmN0aW9uIGlyKG4sIHQsIGUpIHsgcmV0dXJuIGUgJiYgbyh0W09oXSkgJiYgIWEobltnaF1bVGhdKSB9IGZ1bmN0aW9uIG9yKG4sIHQpIHsgdmFyIGUgPSB7fTsgcmV0dXJuIGVbbl0gPSB0LCBlIH0gZnVuY3Rpb24gdXIobiwgdCwgZSkgeyByZXR1cm4gaXIobiwgdCwgZSkgPyBpdChmdW5jdGlvbiAoZSkgeyB0W09oXShmdW5jdGlvbiAobikgeyByZXR1cm4gZShvcihEaCwgbikpIH0sIG5bZ2hdW1RoXS5HTE9CQUwsICEwKSB9KSA6IG90KG9yKERoLCAhMSkpIH0gZnVuY3Rpb24gY3IobiwgdCwgZSkgeyByZXR1cm4gbyhuW3RdKSA/IGl0KGZ1bmN0aW9uIChyKSB7IG5bdF0oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHIob3IoZSwgbikpIH0sICEwKSB9KSA6IG90KHt9KSB9IGZ1bmN0aW9uIGFyKG4sIHQsIGUpIHsgcmV0dXJuIGF0KFtjcih0LCBFaCwgamgpLCBjcih0LCB3aCwga2gpLCBjcih0LCBDaCwgQWgpLCBjcih0LCBTaCwgTmgpLCB1cihuLCB0LCBlKV0pLnRoZW4ocnIpIH0gZnVuY3Rpb24gZnIobikgeyByZXR1cm4gU24oemgsIG4pLCB7fSB9IGZ1bmN0aW9uIHNyKG4sIHQsIGUsIHIpIHsgcmV0dXJuIGEodCkgPyBvdCh7fSkgOiBmdChhcihuLCB0LCByKSwgZSwgVmgpWydjYXRjaCddKGZyKSB9IGZ1bmN0aW9uIGxyKCkgeyByZXR1cm4geyBzdGF0dXM6IHlzLCBlcnJvcjogeGggfSB9IGZ1bmN0aW9uIGRyKG4sIHQsIGUpIHsgcmV0dXJuIGEobikgPyBvdCh7fSkgOiAhMCA9PT0gZVtEaF0gPyB1dChscigpKSA6IG90KHFjKHt9LCB0LCBlcihlKSkpIH0gZnVuY3Rpb24gaHIobiwgdCwgZSkgeyBpZiAoIWlyKG4sIHQsIGUpKSByZXR1cm4gb3IoRGgsICExKTsgdmFyIHIgPSB0W09oXShudWxsLCBuW2doXVtUaF0uR0xPQkFMKTsgcmV0dXJuIG9yKERoLCByKSB9IGZ1bmN0aW9uIHByKG4sIHQsIGUpIHsgcmV0dXJuIG8oblt0XSkgPyBvcihlLCBuW3RdKCkpIDoge30gfSBmdW5jdGlvbiB2cihuLCB0LCBlKSB7IHJldHVybiBycihbcHIodCwgRWgsIGpoKSwgcHIodCwgd2gsIGtoKSwgcHIodCwgQ2gsIEFoKSwgcHIodCwgU2gsIE5oKSwgaHIobiwgdCwgZSldKSB9IGZ1bmN0aW9uIG1yKG4sIHQsIGUpIHsgcmV0dXJuIGEodCkgPyB7fSA6IHZyKG4sIHQsIGUpIH0gZnVuY3Rpb24gZ3IobiwgdCwgZSkgeyByZXR1cm4gYShuKSA/IHt9IDogITAgPT09IGVbRGhdID8ge30gOiBxYyh7fSwgdCwgZXIoZSkpIH0gZnVuY3Rpb24geXIoKSB7IHZhciBuID0gSygpLCB0ID0gbltHc10sIGUgPSBuW2xsXTsgcmV0dXJuIFdlKGhhLCB0LCBlKSB9IGZ1bmN0aW9uIGJyKCkgeyB2YXIgbiA9IHlyKCksIHQgPSBLKCksIGUgPSB0W3VsXSwgciA9IHRbZmxdOyByZXR1cm4gc3IoaGEsIG4sIGUsIHIpIH0gZnVuY3Rpb24geHIoKSB7IHZhciBuID0geXIoKSwgdCA9IEsoKSwgZSA9IHRbZmxdOyByZXR1cm4gbXIoaGEsIG4sIGUpIH0gZnVuY3Rpb24gRXIobikgeyB2YXIgdCA9IHlyKCksIGUgPSB0cih0LCBuKSwgciA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBkcih0LCBlLCBuKSB9OyByZXR1cm4gYnIoKS50aGVuKHIpIH0gZnVuY3Rpb24gd3IobikgeyB2YXIgdCA9IHlyKCk7IHJldHVybiBncih0LCB0cih0LCBuKSwgeHIoKSkgfSBmdW5jdGlvbiBDcihuLCB0KSB7IFpoW25dID0gdCB9IGZ1bmN0aW9uIFNyKG4pIHsgcmV0dXJuIFpoW25dIH0gZnVuY3Rpb24gT3IobikgeyB2YXIgdCA9IG5bdGRdOyBpZiAoYSh0KSkgcmV0dXJuICExOyB2YXIgZSA9IHRbcmRdOyByZXR1cm4gISghQmMoZSkgfHwgVChlKSkgfSBmdW5jdGlvbiBUcihuKSB7IHZhciB0ID0gbltPc107IGlmICgheSh0KSB8fCBUKHQpKSByZXR1cm4gITE7IHZhciBlID0gbltRc107IGlmICgheShlKSB8fCBUKGUpKSByZXR1cm4gITE7IHZhciByID0gbltXc107IHJldHVybiAhKCFhKHIpICYmICFfKHIpKSAmJiAhIW8obltVc10pIH0gZnVuY3Rpb24ga3IobikgeyByZXR1cm4gaXQoZnVuY3Rpb24gKHQsIGUpIHsgbihmdW5jdGlvbiAobiwgcikgeyBpZiAoIWEobikpIHJldHVybiB2b2lkIGUobik7IHQocikgfSkgfSkgfSBmdW5jdGlvbiBOcihuLCB0LCBlLCByLCBpLCBvKSB7IHZhciB1ID0ge307IHVbbl0gPSB0LCB1W2VdID0gciwgdVtpXSA9IG87IHZhciBjID0ge307IHJldHVybiBjW2VkXSA9IHUsIGMgfSBmdW5jdGlvbiBBcihuKSB7IHZhciB0ID0gbltPc10sIGUgPSBuW1FzXSwgciA9IG5bV3NdIHx8IEpoOyByZXR1cm4gZnQoa3IobltVc10pLCByLCBLaCkudGhlbihmdW5jdGlvbiAobikgeyB2YXIgciA9IE5yKE9zLCB0LCBRcywgZSwgQXMsIG4pOyByZXR1cm4gU24oR2gsIHdzLCByKSwgQW4oWWwsIHIpLCBuIH0pWydjYXRjaCddKGZ1bmN0aW9uIChuKSB7IHZhciByID0gTnIoT3MsIHQsIFFzLCBlLCB5cywgbik7IHJldHVybiBTbihHaCwgeXMsIHIpLCBBbihZbCwgciksIHt9IH0pIH0gZnVuY3Rpb24ganIobikgeyB2YXIgdCA9IE0oZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIHFjKG4sIHQpIH0sIHt9LCBuKTsgcmV0dXJuIENyKHJkLCB0KSwgdCB9IGZ1bmN0aW9uIERyKG4pIHsgcmV0dXJuIE9yKG4pID8gYXQoUihBciwgZChUciwgblt0ZF1bcmRdKSkpLnRoZW4oanIpIDogb3Qoe30pIH0gZnVuY3Rpb24gX3IoKSB7IHZhciBuID0gU3IocmQpOyByZXR1cm4gYShuKSA/IHt9IDogbiB9IGZ1bmN0aW9uIFJyKCkgeyByZXR1cm4gRHIoaGEpIH0gZnVuY3Rpb24gUHIoKSB7IHJldHVybiBfcihoYSkgfSBmdW5jdGlvbiBJcihuLCB0LCBlLCByKSB7IGlmICghcikgcmV0dXJuIGU7IHZhciBpID0gbigpOyByZXR1cm4gTihpKSA/IGUgOiBlLnJlcGxhY2UodCwgXCJcIiArIFdoICsgaSkgfSBmdW5jdGlvbiBNcihuKSB7IHJldHVybiBZaC5yZXBsYWNlKFhoLCBuKSB9IGZ1bmN0aW9uIHFyKG4sIHQpIHsgdmFyIGUgPSBuW1pzXSwgciA9IG5bS3NdLCBpID0gbltjbF07IHJldHVybiBbblt2bF0sIFFoLCBJcih0LCBlLCByLCBpKSwgTXIoZSldLmpvaW4oXCJcIikgfSBmdW5jdGlvbiBMcihuLCB0LCBlLCByKSB7IHZhciBpID0gcWMoe30sIHJbQXNdLCBlKSwgbyA9IHt9OyByZXR1cm4gb1tRZF0gPSBxcihuLCB0KSwgb1t0aF0gPSBBZChpKSwgb1tyaF0gPSByW3JoXSwgbyB9IGZ1bmN0aW9uIFVyKG4pIHsgcmV0dXJuIHFjKHt9LCBuWzBdLCBuWzFdKSB9IGZ1bmN0aW9uIEZyKG4sIHQpIHsgdmFyIGUgPSB0W0NzXSwgciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBMcihuLCBIbiwgVXIoZSksIHQpIH07IHJldHVybiBhdChbRXIoZSksIFJyKCldKS50aGVuKHIpIH0gZnVuY3Rpb24gJHIobiwgdCkgeyByZXR1cm4gTHIobiwgSG4sIFVyKFt3cih0W0NzXSksIFByKCldKSwgdCkgfSBmdW5jdGlvbiBCcihuKSB7IHJldHVybiBuID49IDIwMCAmJiBuIDwgMzAwIHx8IDMwNCA9PT0gbiB9IGZ1bmN0aW9uIEhyKG4pIHsgdmFyIHQgPSB7fTsgcmV0dXJuIHRbTnNdID0geXMsIHRbeXNdID0gbiwgdCB9IGZ1bmN0aW9uIFZyKG4sIHQsIGUsIHIsIGksIG8pIHsgcmV0dXJuIHYoW2Z1bmN0aW9uIChuKSB7IHJldHVybiBidChMbiwgbikgfSwgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHh0KEZuLCBuKSB9LCBmdW5jdGlvbiAobikgeyByZXR1cm4gRXQoVm4sIG4pIH0sIGZ1bmN0aW9uIChuKSB7IHJldHVybiBDdCh0LCBuKSB9LCBTdCwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE50KG4sIGdkLCB0KSB9LCBmdW5jdGlvbiAobikgeyByZXR1cm4gQWUodCwgZSwgciwgaSwgbikgfV0pKG8pIH0gZnVuY3Rpb24genIoKSB7IHZhciBuID0ge307IHJldHVybiBuW29kXSA9IFt1ZF0sIG4gfSBmdW5jdGlvbiBacihuLCB0KSB7IHZhciBlID0gbltobF0sIHIgPSBuW2JsXSwgaSA9IHRbUWRdLCBvID0gdFt0aF0sIHUgPSBpICsgXCI/XCIgKyBvLCBjID0ge307IHJldHVybiBjW2VoXSA9ICEwLCBjW1lkXSA9IFdkLCBjW3JoXSA9IHRbcmhdLCBjW1FkXSA9IHUsIGUgPyBjIDogdS5sZW5ndGggPiByID8gKGNbWWRdID0gWGQsIGNbUWRdID0gaSwgY1tuaF0gPSB6cigpLCBjW3RoXSA9IG8sIGMpIDogYyB9IGZ1bmN0aW9uIEdyKG4pIHsgaWYgKCFCcihuW05zXSkpIHJldHVybiBIcihncyk7IHRyeSB7IHJldHVybiBKU09OLnBhcnNlKG5bUnNdKSB9IGNhdGNoIChuKSB7IHJldHVybiBIcihuLm1lc3NhZ2UgfHwgbnApIH0gfSBmdW5jdGlvbiBLcihuLCB0LCBlLCByKSB7IHZhciBpID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIFpyKHQsIG4pIH0sIG8gPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gamUobiwgVW4sIHQpIH0sIHUgPSBmdW5jdGlvbiAoaSkgeyByZXR1cm4gVnIodCwgbiwgZSwgbywgciwgR3IoaSkpIH07IHJldHVybiBGcih0LCByKS50aGVuKGkpLnRoZW4oZSkudGhlbih1KSB9IGZ1bmN0aW9uIEpyKG4pIHsgdmFyIHQgPSBLKCk7IHJldHVybiBLcihoYSwgdCwgeXQsIG4pIH0gZnVuY3Rpb24gV3IobikgeyByZXR1cm4gJHIoSygpLCBuKSB9IGZ1bmN0aW9uIFhyKG4sIHQpIHsgdmFyIGUgPSB0W1dzXTsgcmV0dXJuIF8oZSkgPyBlIDw9IDAgPyBuW1dzXSA6IGUgOiBuW1dzXSB9IGZ1bmN0aW9uIFlyKG4pIHsgcmV0dXJuIGkobikgJiYgdWEoblt5c10pID8gblt5c10gOiBpKG4pICYmIHVhKG5bX3NdKSA/IG5bX3NdIDogdWEobikgPyBuIDogZ3MgfSBmdW5jdGlvbiBRcihuLCB0KSB7IHZhciBlID0gdFtDc10sIHIgPSBpKHRbQXNdKSA/IHRbQXNdIDoge30sIG8gPSB7fTsgcmV0dXJuIG9bQ3NdID0gZSwgb1tBc10gPSBxYyh7fSwgS2UoZSksIHIpLCBvW1dzXSA9IFhyKG4sIHQpLCBvIH0gZnVuY3Rpb24gbmkobiwgdCwgZSkgeyB2YXIgciA9IGVbanNdLCBpID0ge307IGlbQ3NdID0gdFtDc10sIGlbRHNdID0gZVtEc10sIFNuKHRwLCBWZiwgciksIHRbd3NdKHIpLCBuKGksIHIpIH0gZnVuY3Rpb24gdGkobiwgdCwgZSkgeyB2YXIgciA9IGVbTnNdIHx8IHhzLCBpID0gWXIoZSksIG8gPSB7fTsgb1tDc10gPSB0W0NzXSwgb1tfc10gPSBpLCBDbih0cCwgemYsIGUpLCB0W3lzXShyLCBpKSwgbihvKSB9IGZ1bmN0aW9uIGVpKG4sIHQsIGUsIHIsIGksIG8sIGMsIGEpIHsgdmFyIGYgPSB0KGEpLCBzID0gZlt5c107IGlmICghZltFc10pIHJldHVybiB2b2lkIENuKHRwLCBzKTsgaWYgKCFuKCkpIHJldHVybiB1KGFbeXNdKGJzLCBBZikpLCB2b2lkIENuKEFmKTsgdmFyIGwgPSB7fTsgbFtDc10gPSBhW0NzXTsgdmFyIGQgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gbmkoaSwgYSwgbikgfSwgaCA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiB0aShvLCBhLCBuKSB9OyByKGwpLCBlKFFyKGMsIGEpKS50aGVuKGQpWydjYXRjaCddKGgpIH0gZnVuY3Rpb24gcmkobikgeyBlaShnbiwgUm4sIEpyLCBXbiwgWG4sIFluLCBLKCksIG4pIH0gZnVuY3Rpb24gaWkobikgeyB2YXIgdCA9IG4uY2hhckF0KDApLCBlID0gbi5jaGFyQXQoMSksIHIgPSBuLmNoYXJBdCgyKSwgaSA9IHsga2V5OiBuIH07IHJldHVybiBpLnZhbCA9IFwiLVwiID09PSBlID8gXCJcIiArIHQgKyBlICsgXCJcXFxcM1wiICsgciArIFwiIFwiIDogdCArIFwiXFxcXDNcIiArIGUgKyBcIiBcIiwgaSB9IGZ1bmN0aW9uIG9pKG4pIHsgdmFyIHQgPSBuLm1hdGNoKHVwKTsgaWYgKFQodCkpIHJldHVybiBuOyB2YXIgZSA9IFIoaWksIHQpOyByZXR1cm4gTShmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbi5yZXBsYWNlKHQua2V5LCB0LnZhbCkgfSwgbiwgZSkgfSBmdW5jdGlvbiB1aShuKSB7IGZvciAodmFyIHQgPSBbXSwgZSA9IGsobiksIHIgPSBlLmluZGV4T2YocnApLCBpID0gdm9pZCAwLCBvID0gdm9pZCAwLCB1ID0gdm9pZCAwLCBjID0gdm9pZCAwOyAtMSAhPT0gcjspaSA9IGsoZS5zdWJzdHJpbmcoMCwgcikpLCBvID0gayhlLnN1YnN0cmluZyhyKSksIGMgPSBvLmluZGV4T2YoaXApLCB1ID0gayhvLnN1YnN0cmluZyhvcCwgYykpLCBlID0gayhvLnN1YnN0cmluZyhjICsgMSkpLCByID0gZS5pbmRleE9mKHJwKSwgaSAmJiB1ICYmIHQucHVzaCh7IHNlbDogaSwgZXE6IE51bWJlcih1KSB9KTsgcmV0dXJuIGUgJiYgdC5wdXNoKHsgc2VsOiBlIH0pLCB0IH0gZnVuY3Rpb24gY2kobikgeyBpZiAoRChuKSkgcmV0dXJuIGVwKG4pOyBpZiAoIXkobikpIHJldHVybiBlcChuKTsgdmFyIHQgPSBvaShuKTsgaWYgKC0xID09PSB0LmluZGV4T2YocnApKSByZXR1cm4gZXAodCk7IHZhciBlID0gdWkodCk7IHJldHVybiBNKGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlID0gdC5zZWwsIHIgPSB0LmVxOyByZXR1cm4gbiA9IG4uZmluZChlKSwgXyhyKSAmJiAobiA9IG4uZXEocikpLCBuIH0sIGVwKHBhKSwgZSkgfSBmdW5jdGlvbiBhaShuKSB7IHJldHVybiBjaShuKS5sZW5ndGggPiAwIH0gZnVuY3Rpb24gZmkobikgeyByZXR1cm4gZXAoXCI8XCIgKyBOZiArIFwiLz5cIikuYXBwZW5kKG4pIH0gZnVuY3Rpb24gc2kobikgeyByZXR1cm4gZXAobikgfSBmdW5jdGlvbiBsaShuKSB7IHJldHVybiBjaShuKS5wcmV2KCkgfSBmdW5jdGlvbiBkaShuKSB7IHJldHVybiBjaShuKS5uZXh0KCkgfSBmdW5jdGlvbiBoaShuKSB7IHJldHVybiBjaShuKS5wYXJlbnQoKSB9IGZ1bmN0aW9uIHBpKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmlzKG4pIH0gZnVuY3Rpb24gdmkobiwgdCkgeyByZXR1cm4gY2kodCkuZmluZChuKSB9IGZ1bmN0aW9uIG1pKG4pIHsgcmV0dXJuIGNpKG4pLmNoaWxkcmVuKCkgfSBmdW5jdGlvbiBnaShuLCB0LCBlKSB7IHJldHVybiBjaShlKS5vbihuLCB0KSB9IGZ1bmN0aW9uIHlpKG4pIHsgcmV0dXJuIGkobikgJiYgdWEoblt5c10pID8gblt5c10gOiBpKG4pICYmIHVhKG5bX3NdKSA/IG5bX3NdIDogdWEobikgPyBuIDogZ3MgfSBmdW5jdGlvbiBiaShuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IFNuKG9zLCBuKSwgblt3c10oKSB9IH0gZnVuY3Rpb24geGkobikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSB0W05zXSB8fCB4cywgciA9IHlpKHQpOyBDbih1cywgbiwgdCksIG5beXNdKGUsIHIpIH0gfSBmdW5jdGlvbiBFaShuLCB0KSB7IHZhciBlID0gdFtDc10sIHIgPSBxYyh7fSwgdCksIHUgPSBpKHRbQXNdKSA/IHRbQXNdIDoge30sIGMgPSBuW1dzXSwgYSA9IHRbV3NdOyByZXR1cm4gcltBc10gPSBxYyh7fSwgS2UoZSksIHUpLCByW1dzXSA9IF8oYSkgJiYgYSA+PSAwID8gYSA6IGMsIHJbd3NdID0gbyh0W3dzXSkgPyB0W3dzXSA6IFAsIHJbeXNdID0gbyh0W3lzXSkgPyB0W3lzXSA6IFAsIHIgfSBmdW5jdGlvbiB3aShuLCB0KSB7IHZhciBlID0gYmkodCksIHIgPSB4aSh0KTsgbih0KS50aGVuKGUpWydjYXRjaCddKHIpIH0gZnVuY3Rpb24gQ2kobiwgdCkgeyByZXR1cm4gd2kobiwgdCksICF0LnByZXZlbnREZWZhdWx0IH0gZnVuY3Rpb24gU2kobiwgdCwgZSkgeyB2YXIgciA9IGVbcWFdLCBpID0gZVtDZl0sIG8gPSBPKGNpKHIpKSwgdSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIENpKG4sIGUpIH07IG0oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHQoaSwgdSwgbikgfSwgbykgfSBmdW5jdGlvbiBPaShuKSB7IHZhciB0ID0gbltDZl0sIGUgPSBuW3FhXTsgcmV0dXJuIHVhKHQpICYmICh1YShlKSB8fCBEKGUpKSB9IGZ1bmN0aW9uIFRpKG4sIHQsIGUsIHIsIGksIG8sIHUpIHsgaWYgKCFyKCkpIHJldHVybiB2b2lkIENuKEFmKTsgdmFyIGMgPSBJbih1KSwgYSA9IGNbeXNdOyBpZiAoIWNbRXNdKSByZXR1cm4gdm9pZCBDbihjcCwgYSk7IHZhciBmID0gRWkobiwgdSk7IGlmIChPaShmKSkgcmV0dXJuIHZvaWQgaSh0LCBlLCBmKTsgbyh0LCBmKSB9IGZ1bmN0aW9uIGtpKCkgeyB2YXIgbiA9IHt9OyByZXR1cm4gbltvZF0gPSBbdWRdLCBuIH0gZnVuY3Rpb24gTmkobiwgdCkgeyB2YXIgZSA9IHRbUWRdLCByID0gdFt0aF0sIGkgPSBlICsgXCI/XCIgKyByOyByZXR1cm4gaXQoZnVuY3Rpb24gKHQsIGUpIHsgaWYgKG5bYXBdW2ZwXShpKSkgcmV0dXJuIHZvaWQgdCgpOyBlKHNwKSB9KSB9IGZ1bmN0aW9uIEFpKG4pIHsgdmFyIHQgPSBuW1FkXSwgZSA9IG5bdGhdLCByID0ge307IHJldHVybiByW1lkXSA9IFhkLCByW1FkXSA9IHQgKyBcIj9cIiArIGUsIHJbZWhdID0gITAsIHJbaWhdID0gITEsIHJbbmhdID0ga2koKSwgeXQocikgfSBmdW5jdGlvbiBqaShuKSB7IHJldHVybiBhcCBpbiBuICYmIGZwIGluIG5bYXBdIH0gZnVuY3Rpb24gRGkobiwgdCkgeyB2YXIgZSA9IFdyKHQpOyByZXR1cm4gamkobikgPyBOaShuLCBlKSA6IEFpKGUpIH0gZnVuY3Rpb24gX2kobikgeyBUaShLKCksIGZ1bmN0aW9uIChuKSB7IHJldHVybiBEaShoYSwgbikgfSwgZ2ksIGduLCBTaSwgd2ksIG4pIH0gZnVuY3Rpb24gUmkobikgeyByZXR1cm4gY2kobikuZW1wdHkoKS5yZW1vdmUoKSB9IGZ1bmN0aW9uIFBpKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmFmdGVyKG4pIH0gZnVuY3Rpb24gSWkobiwgdCkgeyByZXR1cm4gY2kodCkuYmVmb3JlKG4pIH0gZnVuY3Rpb24gTWkobiwgdCkgeyByZXR1cm4gY2kodCkuYXBwZW5kKG4pIH0gZnVuY3Rpb24gcWkobiwgdCkgeyByZXR1cm4gY2kodCkucHJlcGVuZChuKSB9IGZ1bmN0aW9uIExpKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmh0bWwobikgfSBmdW5jdGlvbiBVaShuKSB7IHJldHVybiBjaShuKS5odG1sKCkgfSBmdW5jdGlvbiBGaShuLCB0KSB7IHJldHVybiBjaSh0KS50ZXh0KG4pIH0gZnVuY3Rpb24gJGkobiwgdCkgeyByZXR1cm4gY2kodCkuYXR0cihuKSB9IGZ1bmN0aW9uIEJpKG4sIHQsIGUpIHsgcmV0dXJuIGNpKGUpLmF0dHIobiwgdCkgfSBmdW5jdGlvbiBIaShuLCB0KSB7IHJldHVybiBjaSh0KS5yZW1vdmVBdHRyKG4pIH0gZnVuY3Rpb24gVmkobiwgdCwgZSkgeyB2YXIgciA9ICRpKG4sIGUpOyB1YShyKSAmJiAoSGkobiwgZSksIEJpKHQsIHIsIGUpKSB9IGZ1bmN0aW9uIHppKG4sIHQpIHsgcmV0dXJuIHVhKCRpKG4sIHQpKSB9IGZ1bmN0aW9uIFppKG4pIHsgdmFyIHQgPSB7fTsgdFt2YV0gPSBuLCBBbihZbCwgdCkgfSBmdW5jdGlvbiBHaShuLCB0KSB7IHZhciBlID0ge307IGVbdmFdID0gbiwgZVt5c10gPSB0LCBBbihZbCwgZSkgfSBmdW5jdGlvbiBLaShuKSB7IHJldHVybiAkaShkZiwgbikgfSBmdW5jdGlvbiBKaShuKSB7IHJldHVybiB6aShkZiwgbikgfSBmdW5jdGlvbiBXaShuKSB7IHJldHVybiBtKGZ1bmN0aW9uIChuKSB7IHJldHVybiBWaSh4ZiwgZGYsIG4pIH0sIE8odmkoa2YsIG4pKSksIG4gfSBmdW5jdGlvbiBYaShuKSB7IHJldHVybiBtKGZ1bmN0aW9uIChuKSB7IHJldHVybiBWaShkZiwgeGYsIG4pIH0sIE8odmkoa2YsIG4pKSksIG4gfSBmdW5jdGlvbiBZaShuKSB7IHJldHVybiBTbihpcywgbiksICRpKHhmLCBCaSh4Ziwgbiwgc2koXCI8XCIgKyBrZiArIFwiLz5cIikpKSB9IGZ1bmN0aW9uIFFpKG4pIHsgdmFyIHQgPSBkKEppLCBPKHZpKGtmLCBuKSkpOyByZXR1cm4gVCh0KSA/IG4gOiAobShZaSwgUihLaSwgdCkpLCBuKSB9IGZ1bmN0aW9uIG5vKG4pIHsgcmV0dXJuIHYoW1dpLCBRaSwgWGldKShuKSB9IGZ1bmN0aW9uIHRvKG4pIHsgdmFyIHQgPSAkaSh4Ziwgbik7IHJldHVybiB1YSh0KSA/IHQgOiBudWxsIH0gZnVuY3Rpb24gZW8obikgeyByZXR1cm4gZCh1YSwgUih0bywgTyh2aSh5ZiwgbikpKSkgfSBmdW5jdGlvbiBybyhuKSB7IHJldHVybiBNKGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gU24obXMsIHQpLCBocCh0KSB9KSB9LCBvdCgpLCBuKSB9IGZ1bmN0aW9uIGlvKG4pIHsgcmV0dXJuIFppKG4pLCBuIH0gZnVuY3Rpb24gb28obiwgdCkgeyByZXR1cm4gU24oSGYsIHQpLCBHaShuLCB0KSwgbiB9IGZ1bmN0aW9uIHVvKG4sIHQpIHsgdmFyIGUgPSBjaSh0W3FhXSksIHIgPSBubyhmaSh0W2JhXSkpLCBpID0gZW8ociksIG8gPSB2b2lkIDA7IHRyeSB7IG8gPSBvdChuKGUsIHIpKSB9IGNhdGNoIChuKSB7IHJldHVybiB1dChvbyh0LCBuKSkgfSByZXR1cm4gVChpKSA/IG8udGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBpbyh0KSB9KVsnY2F0Y2gnXShmdW5jdGlvbiAobikgeyByZXR1cm4gb28odCwgbikgfSkgOiBvLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcm8oaSkgfSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBpbyh0KSB9KVsnY2F0Y2gnXShmdW5jdGlvbiAobikgeyByZXR1cm4gb28odCwgbikgfSkgfSBmdW5jdGlvbiBjbyhuLCB0KSB7IHJldHVybiBMaShVaSh0KSwgbikgfSBmdW5jdGlvbiBhbyhuKSB7IHJldHVybiBTbihLZiwgbiksIHVvKGNvLCBuKSB9IGZ1bmN0aW9uIGZvKG4pIHsgdmFyIHQgPSBjaShuW3FhXSksIGUgPSBuW2JhXTsgcmV0dXJuIFNuKEtmLCBuKSwgWmkobiksIEZpKGUsIHQpLCBvdChuKSB9IGZ1bmN0aW9uIHNvKG4sIHQpIHsgcmV0dXJuIE1pKFVpKHQpLCBuKSB9IGZ1bmN0aW9uIGxvKG4pIHsgcmV0dXJuIFNuKEtmLCBuKSwgdW8oc28sIG4pIH0gZnVuY3Rpb24gaG8obiwgdCkgeyByZXR1cm4gcWkoVWkodCksIG4pIH0gZnVuY3Rpb24gcG8obikgeyByZXR1cm4gU24oS2YsIG4pLCB1byhobywgbikgfSBmdW5jdGlvbiB2byhuLCB0KSB7IHZhciBlID0gaGkobik7IHJldHVybiBSaShJaShVaSh0KSwgbikpLCBlIH0gZnVuY3Rpb24gbW8obikgeyByZXR1cm4gU24oS2YsIG4pLCB1byh2bywgbikgfSBmdW5jdGlvbiBnbyhuLCB0KSB7IHJldHVybiBsaShJaShVaSh0KSwgbikpIH0gZnVuY3Rpb24geW8obikgeyByZXR1cm4gU24oS2YsIG4pLCB1byhnbywgbikgfSBmdW5jdGlvbiBibyhuLCB0KSB7IHJldHVybiBkaShQaShVaSh0KSwgbikpIH0gZnVuY3Rpb24geG8obikgeyByZXR1cm4gU24oS2YsIG4pLCB1byhibywgbikgfSBmdW5jdGlvbiBFbyhuLCB0KSB7IHJldHVybiBoaShJaShVaSh0KSwgbikpIH0gZnVuY3Rpb24gd28obikgeyByZXR1cm4gU24oS2YsIG4pLCB1byhFbywgbikgfSBmdW5jdGlvbiBDbyhuLCB0KSB7IHJldHVybiB4ZiA9PT0gdCAmJiBwaShrZiwgbikgfSBmdW5jdGlvbiBTbyhuLCB0KSB7IEhpKHhmLCBuKSwgQmkoeGYsIFlpKHQpLCBuKSB9IGZ1bmN0aW9uIE9vKG4pIHsgdmFyIHQgPSBuW21hXSwgZSA9IG5bZ2FdLCByID0gY2kobltxYV0pOyByZXR1cm4gU24oS2YsIG4pLCBaaShuKSwgQ28ociwgdCkgPyBTbyhyLCBlKSA6IEJpKHQsIGUsIHIpLCBvdChuKSB9IGZ1bmN0aW9uIFRvKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmFkZENsYXNzKG4pIH0gZnVuY3Rpb24ga28obiwgdCkgeyByZXR1cm4gY2kodCkucmVtb3ZlQ2xhc3MobikgfSBmdW5jdGlvbiBObyhuLCB0KSB7IHJldHVybiBjaSh0KS5oYXNDbGFzcyhuKSB9IGZ1bmN0aW9uIEFvKG4sIHQpIHsgcmV0dXJuIGNpKHQpLmNzcyhuKSB9IGZ1bmN0aW9uIGpvKG4sIHQsIGUpIHsgbShmdW5jdGlvbiAobikgeyBtKGZ1bmN0aW9uICh0LCByKSB7IHJldHVybiBuLnN0eWxlLnNldFByb3BlcnR5KHIsIHQsIGUpIH0sIHQpIH0sIE8obikpIH0gZnVuY3Rpb24gRG8obikgeyB2YXIgdCA9IGNpKG5bcWFdKSwgZSA9IG5bTWFdOyByZXR1cm4gU24oS2YsIG4pLCBaaShuKSwgTihlKSA/IEFvKG5bVWFdLCB0KSA6IGpvKHQsIG5bVWFdLCBlKSwgb3QobikgfSBmdW5jdGlvbiBfbyhuKSB7IHZhciB0ID0gY2kobltxYV0pOyByZXR1cm4gU24oS2YsIG4pLCBaaShuKSwgUmkodCksIG90KG4pIH0gZnVuY3Rpb24gUm8obikgeyB2YXIgdCA9IG5bamFdLCBlID0gbltEYV0sIHIgPSBjaShuW3FhXSksIGkgPSBPKG1pKHIpKSwgbyA9IGlbdF0sIHUgPSBpW2VdOyByZXR1cm4gYWkobykgJiYgYWkodSkgPyAoU24oS2YsIG4pLCBaaShuKSwgdCA8IGUgPyBQaShvLCB1KSA6IElpKG8sIHUpLCBvdChuKSkgOiAoU24ocnMsIG4pLCBHaShuLCBycyksIG90KG4pKSB9IGZ1bmN0aW9uIFBvKG4sIHQpIHsgcmV0dXJuIFNuKEtmLCB0KSwgWmkodCksIG4ocHAsIHQpLCBvdCh0KSB9IGZ1bmN0aW9uIElvKG4sIHQpIHsgcmV0dXJuIFNuKEtmLCB0KSwgWmkodCksIG4odnAsIHQpLCBvdCh0KSB9IGZ1bmN0aW9uIE1vKG4pIHsgdmFyIHQgPSBmaShuKTsgcmV0dXJuIE0oZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIG4ucHVzaChVaShmaSh0KSkpLCBuIH0sIFtdLCBPKHZpKG1wLCB0KSkpLmpvaW4oXCJcIikgfSBmdW5jdGlvbiBxbyhuKSB7IHZhciB0ID0gcWMoe30sIG4pLCBlID0gdFtiYV07IGlmIChOKGUpKSByZXR1cm4gdDsgdmFyIHIgPSBjaSh0W3FhXSk7IHJldHVybiBwaShPZiwgcikgPyAodFt2YV0gPSBXYSwgdFtiYV0gPSBNbyhlKSwgdCkgOiB0IH0gZnVuY3Rpb24gTG8obiwgdCkgeyB2YXIgZSA9IHRbX2FdOyBTbihLZiwgdCksIG4ubG9jYXRpb24ucmVwbGFjZShlKSB9IGZ1bmN0aW9uIFVvKG4sIHQpIHsgdmFyIGUgPSBxbyh0KTsgc3dpdGNoIChlW3ZhXSkgeyBjYXNlIEZhOiByZXR1cm4gYW8oZSk7IGNhc2UgJGE6IHJldHVybiBmbyhlKTsgY2FzZSBXYTogcmV0dXJuIGxvKGUpOyBjYXNlIGVmOiByZXR1cm4gcG8oZSk7IGNhc2UgcmY6IHJldHVybiBtbyhlKTsgY2FzZSBuZjogcmV0dXJuIHlvKGUpOyBjYXNlIHRmOiByZXR1cm4geG8oZSk7IGNhc2UgSmE6IHJldHVybiB3byhlKTsgY2FzZSBIYTogcmV0dXJuIE9vKGUpOyBjYXNlIFZhOiByZXR1cm4gRG8oZSk7IGNhc2UgS2E6IHJldHVybiBfbyhlKTsgY2FzZSB6YTogcmV0dXJuIFJvKGUpOyBjYXNlIFlhOiByZXR1cm4gUG8obiwgZSk7IGNhc2UgUWE6IHJldHVybiBJbyhuLCBlKTsgZGVmYXVsdDogcmV0dXJuIG90KGUpIH0gfSBmdW5jdGlvbiBGbygpIHsgfSBmdW5jdGlvbiAkbyhuLCB0LCBlKSB7IG4uZW1pdCh0LCBlKSB9IGZ1bmN0aW9uIEJvKG4sIHQsIGUpIHsgbi5vbih0LCBlKSB9IGZ1bmN0aW9uIEhvKG4sIHQsIGUpIHsgbi5vbmNlKHQsIGUpIH0gZnVuY3Rpb24gVm8obiwgdCkgeyBuLm9mZih0KSB9IGZ1bmN0aW9uIHpvKG4sIHQpIHsgJG8oeXAsIG4sIHQpIH0gZnVuY3Rpb24gWm8obiwgdCkgeyBCbyh5cCwgbiwgdCkgfSBmdW5jdGlvbiBHbyhuLCB0KSB7IEhvKHlwLCBuLCB0KSB9IGZ1bmN0aW9uIEtvKG4pIHsgVm8oeXAsIG4pIH0gZnVuY3Rpb24gSm8obiwgdCkgeyByZXR1cm4gXCI8XCIgKyBUZiArIFwiIFwiICsgRWYgKyAnPVwiJyArIG4gKyAnXCIgJyArIHdmICsgJz1cIicgKyAkcyArICdcIj4nICsgdCArIFwiPC9cIiArIFRmICsgXCI+XCIgfSBmdW5jdGlvbiBXbyhuLCB0KSB7IHJldHVybiBKbyhicCArIGIodCksIHQgKyBcIiB7XCIgKyBuICsgXCJ9XCIpIH0gZnVuY3Rpb24gWG8obikgeyBpZiAoITAgPT09IG5bZWxdICYmICFhaShFcCkpIHsgdmFyIHQgPSBuW3RsXTsgTWkoSm8oeHAsIHQpLCBPZikgfSB9IGZ1bmN0aW9uIFlvKG4pIHsgITAgPT09IG5bZWxdICYmIGFpKEVwKSAmJiBSaShUZiArIFwiW1wiICsgRWYgKyAnPVwiJyArIHhwICsgJ1wiXScpIH0gZnVuY3Rpb24gUW8obiwgdCkgeyBpZiAoIVQodCkpIHsgdmFyIGUgPSBuW25sXTsgTWkoUihmdW5jdGlvbiAobikgeyByZXR1cm4gV28oZSwgbikgfSwgdCkuam9pbihcIlxcblwiKSwgT2YpIH0gfSBmdW5jdGlvbiBudShuKSB7IHZhciB0ID0gXCJcXG4uXCIgKyBGcyArIFwiIHtcIiArIG5bbmxdICsgXCJ9XFxuXCI7IE1pKEpvKHdwLCB0KSwgT2YpIH0gZnVuY3Rpb24gdHUoKSB7IFhvKEsoKSkgfSBmdW5jdGlvbiBldSgpIHsgWW8oSygpKSB9IGZ1bmN0aW9uIHJ1KG4pIHsgUW8oSygpLCBuKSB9IGZ1bmN0aW9uIGl1KG4pIHsgUmkoXCIjXCIgKyAoYnAgKyBiKG4pKSkgfSBmdW5jdGlvbiBvdSgpIHsgbnUoSygpKSB9IGZ1bmN0aW9uIHV1KG4sIHQpIHsgZm9yICh2YXIgZSA9IDAsIHIgPSAtMSwgaSA9IG4ubGVuZ3RoOyBlIDwgaTspIHsgaWYgKG5bZV0uaWQgPT09IHQuaWQpIHsgciA9IGU7IGJyZWFrIH0gZSArPSAxIH0gLTEgIT09IHIgJiYgbi5zcGxpY2UociwgMSkgfSBmdW5jdGlvbiBjdShuLCB0KSB7IHJldHVybiBDcFtuXSA9IENwW25dIHx8IHt9LCBDcFtuXVt0XSB8fCBbXSB9IGZ1bmN0aW9uIGF1KG4sIHQsIGUpIHsgQ3Bbbl0gPSBDcFtuXSB8fCB7fSwgQ3Bbbl1bdF0gPSBlIH0gZnVuY3Rpb24gZnUobikgeyBkZWxldGUgQ3Bbbl0gfSBmdW5jdGlvbiBzdShuLCB0LCBlKSB7IENwW25dID0gQ3Bbbl0gfHwge30sIENwW25dW3RdID0gQ3Bbbl1bdF0gfHwgW10sIENwW25dW3RdLnB1c2goZSkgfSBmdW5jdGlvbiBsdShuLCB0LCBlKSB7IENwW25dID0gQ3Bbbl0gfHwge30sIENwW25dW3RdID0gQ3Bbbl1bdF0gfHwgW10sIHV1KENwW25dW3RdLCBlKSB9IGZ1bmN0aW9uIGR1KCkgeyBtKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuKCkgfSwgQXApIH0gZnVuY3Rpb24gaHUoKSB7IGEoanApICYmIChqcCA9IG5ldyBOcChkdSksIGpwLm9ic2VydmUocGEsIGtwKSkgfSBmdW5jdGlvbiBwdSgpIHsgcmV0dXJuICFhKE5wKSB9IGZ1bmN0aW9uIHZ1KG4sIHQpIHsgQXBbbl0gPSB0LCB0KCksIGh1KCkgfSBmdW5jdGlvbiBtdShuKSB7IGRlbGV0ZSBBcFtuXSwgYShqcCkgfHwgVChBcCkgJiYgKGpwLmRpc2Nvbm5lY3QoKSwganAgPSBudWxsKSB9IGZ1bmN0aW9uIGd1KG4pIHsgaWYgKHBhW19wXSA9PT0gUnApIHJldHVybiB2b2lkIGhhLnJlcXVlc3RBbmltYXRpb25GcmFtZShuKTsgdShuLCBEcCkgfSBmdW5jdGlvbiB5dSgpIHsgaWYgKCFUKFBwKSkgeyBndShmdW5jdGlvbiAoKSB7IG0oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4oKSB9LCBQcCksIHl1KCkgfSkgfSB9IGZ1bmN0aW9uIGJ1KG4sIHQpIHsgUHBbbl0gPSB0LCB0KCksIHl1KCkgfSBmdW5jdGlvbiB4dShuKSB7IGRlbGV0ZSBQcFtuXSB9IGZ1bmN0aW9uIEV1KG4sIHQpIHsgaWYgKHB1KCkpIHJldHVybiB2b2lkIHZ1KG4sIHQpOyBidShuLCB0KSB9IGZ1bmN0aW9uIHd1KG4pIHsgaWYgKHB1KCkpIHJldHVybiB2b2lkIG11KG4pOyB4dShuKSB9IGZ1bmN0aW9uIEN1KG4pIHsgcnUoZCh1YSwgUihmdW5jdGlvbiAobikgeyByZXR1cm4gbltMYV0gfSwgbikpKSB9IGZ1bmN0aW9uIFN1KG4pIHsgVG8oQnMsIGtvKEZzLCBuKSkgfSBmdW5jdGlvbiBPdShuKSB7IHZhciB0ID0gbltxYV0sIGUgPSBuW0xhXTsgKHVhKHQpIHx8IEQodCkpICYmIChJcChuKSA/IFRvKEhzLCBrbyhGcywgdCkpIDogU3UodCkpLCB1YShlKSAmJiBpdShlKSB9IGZ1bmN0aW9uIFR1KG4pIHsgbShPdSwgbikgfSBmdW5jdGlvbiBrdShuLCB0LCBlKSB7IHZhciByID0gY3UobiwgU3ApLCBpID0gY3UobiwgT3ApLCBvID0gci5jb25jYXQoaSk7IGlmIChmdShuKSwgIVQobykpIHJldHVybiBUdShvKSwgdm9pZCBlKG8pOyB0KCkgfSBmdW5jdGlvbiBOdShuKSB7IHZhciB0ID0gY3UobiwgU3ApLCBlID0gY3UobiwgVHApOyByZXR1cm4gVCh0KSAmJiBUKGUpIH0gZnVuY3Rpb24gQXUobiwgdCwgZSkgeyB2YXIgciA9IHpsICsgXCItXCIgKyBuOyBVbyh0LCBlKS50aGVuKGZ1bmN0aW9uICgpIHsgU24oR2YsIGUpLCBPdShlKSwgbHUobiwgVHAsIGUpLCBOdShuKSAmJiB6byhyKSB9KVsnY2F0Y2gnXShmdW5jdGlvbiAodCkgeyBTbihIZiwgdCksIE91KGUpLCBsdShuLCBUcCwgZSksIHN1KG4sIE9wLCBlKSwgTnUobikgJiYgem8ocikgfSkgfSBmdW5jdGlvbiBqdShuLCB0KSB7IHUoZnVuY3Rpb24gKCkgeyByZXR1cm4gem8oWmwgKyBcIi1cIiArIG4pIH0sIHQpIH0gZnVuY3Rpb24gRHUobiwgdCwgZSwgcikgeyB2YXIgaSA9IFZsICsgXCItXCIgKyBuLCBvID0gWmwgKyBcIi1cIiArIG4sIHUgPSB6bCArIFwiLVwiICsgbjsgWm8oaSwgZnVuY3Rpb24gKCkgeyBpZiAoTnUobikpIHJldHVybiB2b2lkIHpvKHUpOyB2YXIgZSA9IGN1KG4sIFNwKSwgciA9IFtdOyBtKGZ1bmN0aW9uIChlKSB7IGlmIChhaShlW3FhXSkpIHJldHVybiBzdShuLCBUcCwgZSksIHZvaWQgQXUobiwgdCwgZSk7IHIucHVzaChlKSB9LCBlKSwgYXUobiwgU3AsIHIpIH0pLCBHbyh1LCBmdW5jdGlvbiAoKSB7IHd1KG4pLCBLbyhpKSwgS28obyksIGt1KG4sIGUsIHIpIH0pLCBHbyhvLCBmdW5jdGlvbiAoKSB7IHd1KG4pLCBLbyhpKSwgS28odSksIGt1KG4sIGUsIHIpIH0pLCBFdShuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB6byhpKSB9KSB9IGZ1bmN0aW9uIF91KG4sIHQsIGUpIHsgdmFyIHIgPSBLKCksIGkgPSByW29sXSwgbyA9IEYoKTsgcmV0dXJuIGp1KG8sIGkpLCBDdShlKSwgbigpLCBhdShvLCBTcCwgZSksIGl0KGZ1bmN0aW9uIChuLCBlKSB7IHJldHVybiBEdShvLCB0LCBuLCBlKSB9KSB9IGZ1bmN0aW9uIFJ1KG4pIHsgTG8oaGEsIG4pIH0gZnVuY3Rpb24gUHUobiwgdCwgZSkgeyByZXR1cm4gX3UobiwgdCwgZSkgfSBmdW5jdGlvbiBJdShuLCB0LCBlKSB7IHZhciByID0ge307IHJbdF0gPSBlW3lhXTsgdmFyIGkgPSB7fTsgcmV0dXJuIGlbQ3NdID0gbiArIHBmLCBpW0NmXSA9IFNmLCBpW3FhXSA9IGVbcWFdLCBpW0FzXSA9IHIsIGkgfSBmdW5jdGlvbiBNdShuKSB7IHJldHVybiB1YShuKSA/IG4gOiBEKG4pID8gbiA6IE9mIH0gZnVuY3Rpb24gcXUobikgeyBUbyhCcywga28oRnMsIG4pKSB9IGZ1bmN0aW9uIEx1KG4sIHQpIHsgYSh0W3FhXSkgJiYgKHRbcWFdID0gbikgfSBmdW5jdGlvbiBVdShuLCB0KSB7IG0oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIEx1KG4sIHQpIH0sIHQpIH0gZnVuY3Rpb24gRnUobiwgdCkgeyB2YXIgZSA9IHt9OyByZXR1cm4gZVtDc10gPSBuLCBlW19zXSA9IEJmLCBlW2pzXSA9IHQsIGUgfSBmdW5jdGlvbiAkdShuKSB7IHZhciB0ID0ge307IHJldHVybiB0W3lzXSA9IG4sIHQgfSBmdW5jdGlvbiBCdShuLCB0KSB7IHZhciBlID0gRnUobiwgdCksIHIgPSAkdShlKTsgQ24oQmYsIHQpLCBBbihZbCwgciksIHR0KGUpIH0gZnVuY3Rpb24gSHUobikgeyB2YXIgdCA9IHt9OyB0W0NzXSA9IG4sIFNuKFpmKSwgbnQodCkgfSBmdW5jdGlvbiBWdShuKSB7IHJldHVybiBSKGZ1bmN0aW9uIChuKSB7IHJldHVybiBxYyh7fSwgbikgfSwgbikgfSBmdW5jdGlvbiB6dShuKSB7IHZhciB0ID0gbltDc10sIGUgPSBNdShuW3FhXSksIHIgPSBQbihuKSwgaSA9IHJbeXNdOyBpZiAoIXJbRXNdKSByZXR1cm4gQ24oTXAsIGkpLCB2b2lkIHF1KGUpOyBpZiAoIWduKCkpIHJldHVybiBDbihBZiksIHZvaWQgcXUoZSk7IHZhciBvID0gbltTc10sIHUgPSB7fTsgaWYgKHVbQ3NdID0gdCwgVChvKSkgcmV0dXJuIFNuKE1wLCBscyksIHF1KGUpLCB6byhHbCwgdCksIHZvaWQgZXQodSk7IHZhciBjID0gaChkKHFwLCBvKSk7IGlmICghYShjKSkgcmV0dXJuIHVbX2FdID0gY1tfYV0sIFNuKE1wLCBkcyksIHJ0KHUpLCB2b2lkIFJ1KGMpOyB2YXIgZiA9IGZ1bmN0aW9uIChuLCBlKSB7IHJldHVybiBfaShJdSh0LCBuLCBlKSkgfSwgcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHpvKEtsLCB0KSB9LCBsID0gVnUobyk7IFV1KGUsIGwpLCBRbih1KSwgUHUocywgZiwgbCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBIdSh0KSB9KVsnY2F0Y2gnXShmdW5jdGlvbiAobikgeyByZXR1cm4gQnUodCwgbikgfSkgfVxyXG4gICAgZnVuY3Rpb24gWnUoKSB7IHJldHVybiB7IGxvZzogU24sIGVycm9yOiBDbiB9IH0gZnVuY3Rpb24gR3UobikgeyB2YXIgdCA9IHt9OyByZXR1cm4gdFtac10gPSBuW1pzXSwgdFtLc10gPSBuW0tzXSwgdFtXc10gPSBuW1dzXSwgdFtYc10gPSBuW1hzXSwgdFtZc10gPSBuW1lzXSwgdCB9IGZ1bmN0aW9uIEt1KG4sIHQsIGUpIHsgZm9yICh2YXIgciA9IEwoXCIuXCIsIHQpLCBpID0gci5sZW5ndGgsIG8gPSAwOyBvIDwgaSAtIDE7IG8gKz0gMSkgeyB2YXIgdSA9IHJbb107IG5bdV0gPSBuW3VdIHx8IHt9LCBuID0gblt1XSB9IG5bcltpIC0gMV1dID0gZSB9IGZ1bmN0aW9uIEp1KG4sIHQsIGUsIHIpIHsgdmFyIGkgPSB7IGxvZ2dlcjogWnUoKSwgc2V0dGluZ3M6IEd1KHQpIH0sIG8gPSBlKHIsIGkpLCB1ID0gb1t5c107IGlmICghb1tFc10pIHRocm93IG5ldyBFcnJvcih1KTsgdmFyIGMgPSBuW0xwXVtVcF07IGNbRnBdID0gY1tGcF0gfHwge307IHZhciBhID0gcltPc10sIGYgPSByW1RzXSwgcyA9IHJba3NdLCBsID0gTShmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbi5wdXNoKGlbdF0pLCBuIH0sIFtdLCBmKTsgS3UoY1tGcF0sIGEsIHMuYXBwbHkodm9pZCAwLCBsKSkgfSBmdW5jdGlvbiBXdShuKSB7IEp1KGhhLCBLKCksIE1uLCBuKSB9IGZ1bmN0aW9uIFh1KG4pIHsgcmV0dXJuIGkobikgJiYgdWEoblt5c10pID8gblt5c10gOiAhYShuKSAmJiB1YShuW19zXSkgPyBuW19zXSA6IHVhKG4pID8gbiA6IGdzIH0gZnVuY3Rpb24gWXUobiwgdCkgeyByZXR1cm4gVG8oXCJcIiArIHZmICsgdCwgQmkoaGYsIHQsIG4pKSB9IGZ1bmN0aW9uIFF1KG4sIHQsIGUpIHsgdmFyIHIgPSBlW2pzXSwgaSA9IHt9OyBpW0NzXSA9IG4sIGlbRHNdID0gZVtEc107IHZhciBvID0ge307IG9bQ3NdID0gbiwgb1txYV0gPSB0LCBvW1NzXSA9IHIsIFNuKGFzLCBuKSwgWG4oaSwgciksIHp1KG8pIH0gZnVuY3Rpb24gbmMobiwgdCwgZSkgeyB2YXIgciA9IFh1KGUpLCBpID0ge307IGlbQ3NdID0gbiwgaVtfc10gPSByLCBDbihmcywgbiwgZSksIFluKGkpLCBUbyhCcywga28oRnMsIHQpKSB9IGZ1bmN0aW9uIHRjKG4sIHQpIHsgcmV0dXJuIFtdLnNsaWNlLmNhbGwobiwgdCkgfSBmdW5jdGlvbiBlYyhuKSB7IHJldHVybiBDcyArIFwiOlwiICsgbiB9IGZ1bmN0aW9uIHJjKG4sIHQpIHsgdmFyIGUgPSBTcihuKTsgYShlKSA/IENyKGVjKG4pLCBbdF0pIDogKGUucHVzaCh0KSwgQ3IoZWMobiksIGUpKSB9IGZ1bmN0aW9uIGljKG4pIHsgcmV0dXJuIFNyKGVjKG4pKSB9IGZ1bmN0aW9uIG9jKG4sIHQsIGUpIHsgdmFyIHIgPSBLKCksIGkgPSB7fTsgaVtDc10gPSBuLCBpW0FzXSA9IHQsIGlbV3NdID0gcltXc107IHZhciBvID0ge307IG9bQ3NdID0gbjsgdmFyIHUgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gUXUobiwgZSwgdCkgfSwgYyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiBuYyhuLCBlLCB0KSB9OyBXbihvKSwgSnIoaSkudGhlbih1KVsnY2F0Y2gnXShjKSB9IGZ1bmN0aW9uIHVjKG4sIHQpIHsgaWYgKCFEKG4pKSByZXR1cm4gQ24oQnAsIHBzLCBocywgdCksIGNpKE9mKTsgaWYgKHBpKE9mLCBoaShuKSkpIHJldHVybiBTbihCcCwgdnMsIHQpLCBjaShPZik7IHZhciBlID0gbGkobik7IHJldHVybiBwaShOZiwgZSkgJiYgTm8oRnMsIGUpID8gZSA6IChTbihCcCwgY3MsIGhzLCB0KSwgY2koT2YpKSB9IGZ1bmN0aW9uIGNjKG4sIHQsIGUpIHsgaWYgKCFnbigpICYmICFibigpKSByZXR1cm4gdm9pZCBDbihBZik7IHZhciByID0gX24odCksIGkgPSByW3lzXTsgaWYgKCFyW0VzXSkgcmV0dXJuIHZvaWQgQ24oQnAsIGkpOyB2YXIgbyA9IHVjKG4sIHQpLCB1ID0gS2UodCwgZSksIGMgPSB7fTsgY1tDc10gPSB0LCBjW0FzXSA9IHUsIGNbcWFdID0gWXUobywgdCksIFNuKEJwLCB0LCB1LCBvKSwgcmModCwgYyksIGduKCkgJiYgb2ModCwgdSwgbykgfSBmdW5jdGlvbiBhYyhuLCB0KSB7IHZhciBlID0gY2koXCIjXCIgKyBuKTsgcmV0dXJuIGFpKGUpID8gZSA6IChTbihIcCwgY3MsIGhzLCB0KSwgY2koT2YpKSB9IGZ1bmN0aW9uIGZjKG4sIHQsIGUpIHsgaWYgKCFnbigpICYmICFibigpKSByZXR1cm4gdm9pZCBDbihBZik7IGlmIChOKG4pKSByZXR1cm4gdm9pZCBDbihIcCwgc3MpOyB2YXIgciA9IF9uKHQpLCBpID0gclt5c107IGlmICghcltFc10pIHJldHVybiB2b2lkIENuKEhwLCBpKTsgdmFyIG8gPSBhYyhuLCB0KSwgdSA9IEtlKHQsIGUpLCBjID0ge307IGNbQ3NdID0gdCwgY1tBc10gPSB1LCBjW3FhXSA9IFl1KG8sIHQpLCBTbihIcCwgdCwgdSwgbyksIHJjKHQsIGMpIH0gZnVuY3Rpb24gc2MobiwgdCkgeyBpZiAoIWduKCkpIHJldHVybiB2b2lkIENuKEFmKTsgdmFyIGUgPSBfbihuKSwgciA9IGVbeXNdOyBpZiAoIWVbRXNdKSByZXR1cm4gdm9pZCBDbihWcCwgcik7IHZhciBpID0gSWUodCk7IGlbX2xdID0gRigpOyB2YXIgbyA9IGljKG4pOyBTbihWcCwgbyksIG0oZnVuY3Rpb24gKG4pIHsgdmFyIHQgPSBuW0NzXSwgZSA9IG5bQXNdLCByID0gbltxYV07IG9jKHQsIHFjKHt9LCBlLCBpKSwgcikgfSwgbykgfSBmdW5jdGlvbiBsYyhuKSB7IHZhciB0ID0gdGMoYXJndW1lbnRzLCAxKTsgJHAuc2tpcFN0YWNrRGVwdGggPSAyLCBjYygkcCgpLCBuLCB0KSB9IGZ1bmN0aW9uIGRjKG4sIHQpIHsgZmMobiwgdCwgdGMoYXJndW1lbnRzLCAyKSkgfSBmdW5jdGlvbiBoYyhuKSB7IHNjKG4sIHRjKGFyZ3VtZW50cywgMSkpIH0gZnVuY3Rpb24gcGMobikgeyBuW0dwXSA9IG5bR3BdIHx8IHt9LCBuW0dwXS5xdWVyeVNlbGVjdG9yQWxsID0gY2kgfSBmdW5jdGlvbiB2YyhuLCB0KSB7IHQuYWRkRXZlbnRMaXN0ZW5lcihTZiwgZnVuY3Rpb24gKHQpIHsgbyhuW0dwXVtLcF0pICYmIG5bR3BdW0twXSh0KSB9LCAhMCkgfSBmdW5jdGlvbiBtYyhuLCB0LCBlKSB7IGlmIChibigpKSB7IHBjKG4pOyB2YXIgciA9IGVbZGxdLCBpID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdmMobiwgdCkgfSwgbyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIENuKHpwKSB9OyBTbihacCksIGhwKHIpLnRoZW4oaSlbJ2NhdGNoJ10obykgfSB9IGZ1bmN0aW9uIGdjKG4pIHsgcmV0dXJuIGkobikgJiYgdWEoblt5c10pID8gblt5c10gOiAhYShuKSAmJiB1YShuW19zXSkgPyBuW19zXSA6IHVhKG4pID8gbiA6IGdzIH0gZnVuY3Rpb24geWMobiwgdCwgZSkgeyB2YXIgciA9IGVbanNdLCBpID0ge307IGlbQ3NdID0gbiwgaVtEc10gPSBlW0RzXTsgdmFyIG8gPSB7fTsgb1tDc10gPSBuLCBvW3FhXSA9IHQsIG9bU3NdID0gciwgU24oYXMsIG4pLCBYbihpLCByKSwgenUobykgfSBmdW5jdGlvbiBiYyhuLCB0KSB7IHZhciBlID0ge307IGVbQ3NdID0gbiwgZVtfc10gPSBnYyh0KSwgQ24oZnMsIG4sIHQpLCBZbihlKSwgem8oV2wsIG4pIH0gZnVuY3Rpb24geGMoKSB7IHZhciBuID0gSygpLCB0ID0gbltYc10sIGUgPSB7fTsgZVtDc10gPSB0LCBlW0FzXSA9IEplKCksIGVbV3NdID0gbltXc107IHZhciByID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHljKHQsIE9mLCBuKSB9LCBpID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGJjKHQsIG4pIH07IFNuKGFzLCB0KTsgdmFyIG8gPSB7fTsgb1tDc10gPSB0LCBXbihvKSwgSnIoZSkudGhlbihyKVsnY2F0Y2gnXShpKSB9IGZ1bmN0aW9uIEVjKCkgeyBHbyhKbCwgdHUpIH0gZnVuY3Rpb24gd2MobiwgdCkgeyBabyhuLCBmdW5jdGlvbiAoZSkgeyBlID09PSB0ICYmIChldSgpLCBLbyhuKSkgfSkgfSBmdW5jdGlvbiBDYyhuKSB7IGlmICghbltZc10pIHJldHVybiB2b2lkIFNuKEpwLCBXcCk7IHZhciB0ID0gbltYc10sIGUgPSBfbih0KSwgciA9IGVbeXNdOyBpZiAoIWVbRXNdKSByZXR1cm4gdm9pZCBDbihKcCwgcik7IEVjKCksIHdjKFdsLCB0KSwgd2MoR2wsIHQpLCB3YyhLbCwgdCksIHhjKCkgfSBmdW5jdGlvbiBTYyhuKSB7IHZhciB0ID0gZnVuY3Rpb24gKCkgeyB9OyBuLmFkb2JlID0gbi5hZG9iZSB8fCB7fSwgbi5hZG9iZS50YXJnZXQgPSB7IFZFUlNJT046IFwiXCIsIGV2ZW50OiB7fSwgZ2V0T2ZmZXI6IHQsIGFwcGx5T2ZmZXI6IHQsIHRyYWNrRXZlbnQ6IHQsIHJlZ2lzdGVyRXh0ZW5zaW9uOiB0LCBpbml0OiB0IH0sIG4ubWJveENyZWF0ZSA9IHQsIG4ubWJveERlZmluZSA9IHQsIG4ubWJveFVwZGF0ZSA9IHQgfSBmdW5jdGlvbiBPYyhuLCB0LCBlKSB7IGlmIChuLmFkb2JlICYmIG4uYWRvYmUudGFyZ2V0ICYmIHZvaWQgMCAhPT0gbi5hZG9iZS50YXJnZXQuZ2V0T2ZmZXIpIHJldHVybiB2b2lkIENuKGpmKTsgRyhlKTsgdmFyIHIgPSBLKCksIGkgPSByW1FzXTsgaWYgKG4uYWRvYmUudGFyZ2V0LlZFUlNJT04gPSBpLCBuLmFkb2JlLnRhcmdldC5ldmVudCA9IHsgTElCUkFSWV9MT0FERUQ6IElkLCBSRVFVRVNUX1NUQVJUOiBNZCwgUkVRVUVTVF9TVUNDRUVERUQ6IHFkLCBSRVFVRVNUX0ZBSUxFRDogTGQsIENPTlRFTlRfUkVOREVSSU5HX1NUQVJUOiBVZCwgQ09OVEVOVF9SRU5ERVJJTkdfU1VDQ0VFREVEOiBGZCwgQ09OVEVOVF9SRU5ERVJJTkdfRkFJTEVEOiAkZCwgQ09OVEVOVF9SRU5ERVJJTkdfTk9fT0ZGRVJTOiBCZCwgQ09OVEVOVF9SRU5ERVJJTkdfUkVESVJFQ1Q6IEhkIH0sICFyW3pzXSkgcmV0dXJuIFNjKG4pLCB2b2lkIENuKEFmKTsgbWMobiwgdCwgciksIGduKCkgJiYgKG91KCksIE5uKCksIENjKHIpKSwgbi5hZG9iZS50YXJnZXQuZ2V0T2ZmZXIgPSByaSwgbi5hZG9iZS50YXJnZXQudHJhY2tFdmVudCA9IF9pLCBuLmFkb2JlLnRhcmdldC5hcHBseU9mZmVyID0genUsIG4uYWRvYmUudGFyZ2V0LnJlZ2lzdGVyRXh0ZW5zaW9uID0gV3UsIG4ubWJveENyZWF0ZSA9IGxjLCBuLm1ib3hEZWZpbmUgPSBkYywgbi5tYm94VXBkYXRlID0gaGMsIHpvKEpsKSwgSm4oKSB9IHZhciBUYywga2MgPSB3aW5kb3csIE5jID0gZG9jdW1lbnQsIEFjID0gIU5jLmRvY3VtZW50TW9kZSB8fCBOYy5kb2N1bWVudE1vZGUgPj0gMTAsIGpjID0gTmMuY29tcGF0TW9kZSAmJiBcIkNTUzFDb21wYXRcIiA9PT0gTmMuY29tcGF0TW9kZSwgRGMgPSBqYyAmJiBBYywgX2MgPSBrYy50YXJnZXRHbG9iYWxTZXR0aW5nczsgaWYgKCFEYyB8fCBfYyAmJiAhMSA9PT0gX2MuZW5hYmxlZCkgcmV0dXJuIGtjLmFkb2JlID0ga2MuYWRvYmUgfHwge30sIGtjLmFkb2JlLnRhcmdldCA9IHsgVkVSU0lPTjogXCJcIiwgZXZlbnQ6IHt9LCBnZXRPZmZlcjogbiwgYXBwbHlPZmZlcjogbiwgdHJhY2tFdmVudDogbiwgcmVnaXN0ZXJFeHRlbnNpb246IG4sIGluaXQ6IG4gfSwga2MubWJveENyZWF0ZSA9IG4sIGtjLm1ib3hEZWZpbmUgPSBuLCBrYy5tYm94VXBkYXRlID0gbiwgXCJjb25zb2xlXCIgaW4ga2MgJiYgXCJ3YXJuXCIgaW4ga2MuY29uc29sZSAmJiBrYy5jb25zb2xlLndhcm4oXCJBVDogQWRvYmUgVGFyZ2V0IGNvbnRlbnQgZGVsaXZlcnkgaXMgZGlzYWJsZWQuIFVwZGF0ZSB5b3VyIERPQ1RZUEUgdG8gc3VwcG9ydCBTdGFuZGFyZHMgbW9kZS5cIiksIGtjLmFkb2JlLnRhcmdldDsvKlxyXG5vYmplY3QtYXNzaWduXHJcbihjKSBTaW5kcmUgU29yaHVzXHJcbkBsaWNlbnNlIE1JVFxyXG4qL1xyXG4gICAgdmFyIFJjID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywgUGMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCBJYyA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsIE1jID0gZnVuY3Rpb24gKCkgeyB0cnkgeyBpZiAoIU9iamVjdC5hc3NpZ24pIHJldHVybiAhMTsgdmFyIG4gPSBuZXcgU3RyaW5nKFwiYWJjXCIpOyBpZiAobls1XSA9IFwiZGVcIiwgXCI1XCIgPT09IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG4pWzBdKSByZXR1cm4gITE7IGZvciAodmFyIHQgPSB7fSwgZSA9IDA7IGUgPCAxMDsgZSsrKXRbXCJfXCIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpXSA9IGU7IGlmIChcIjAxMjM0NTY3ODlcIiAhPT0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubWFwKGZ1bmN0aW9uIChuKSB7IHJldHVybiB0W25dIH0pLmpvaW4oXCJcIikpIHJldHVybiAhMTsgdmFyIHIgPSB7fTsgcmV0dXJuIFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIi5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IHJbbl0gPSBuIH0pLCBcImFiY2RlZmdoaWprbG1ub3BxcnN0XCIgPT09IE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHIpKS5qb2luKFwiXCIpIH0gY2F0Y2ggKG4pIHsgcmV0dXJuICExIH0gfSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uIChuLCBlKSB7IGZvciAodmFyIHIsIGksIG8gPSB0KG4pLCB1ID0gMTsgdSA8IGFyZ3VtZW50cy5sZW5ndGg7IHUrKykgeyByID0gT2JqZWN0KGFyZ3VtZW50c1t1XSk7IGZvciAodmFyIGMgaW4gcikgUGMuY2FsbChyLCBjKSAmJiAob1tjXSA9IHJbY10pOyBpZiAoUmMpIHsgaSA9IFJjKHIpOyBmb3IgKHZhciBhID0gMDsgYSA8IGkubGVuZ3RoOyBhKyspSWMuY2FsbChyLCBpW2FdKSAmJiAob1tpW2FdXSA9IHJbaVthXV0pIH0gfSByZXR1cm4gbyB9LCBxYyA9IE1jLCBMYyA9IE9iamVjdC5wcm90b3R5cGUsIFVjID0gTGMudG9TdHJpbmcsIEZjID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHR5cGVvZiBuIH0gOiBmdW5jdGlvbiAobikgeyByZXR1cm4gbiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBuLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbiB9LCAkYyA9IFwiW29iamVjdCBGdW5jdGlvbl1cIiwgQmMgPSBBcnJheS5pc0FycmF5LCBIYyA9IGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiB0LmZvckVhY2gobikgfSwgVmMgPSBmdW5jdGlvbiAobiwgdCkgeyBIYyhmdW5jdGlvbiAoZSkgeyByZXR1cm4gbih0W2VdLCBlKSB9LCBsKHQpKSB9LCB6YyA9IGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiB0LmZpbHRlcihuKSB9LCBaYyA9IGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlID0ge307IHJldHVybiBWYyhmdW5jdGlvbiAodCwgcikgeyBuKHQsIHIpICYmIChlW3JdID0gdCkgfSwgdCksIGUgfSwgR2MgPSBcIltvYmplY3QgU3RyaW5nXVwiLCBLYyA9IDkwMDcxOTkyNTQ3NDA5OTEsIEpjID0gZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIHQubWFwKG4pIH0sIFdjID0gT2JqZWN0LnByb3RvdHlwZSwgWGMgPSBXYy5oYXNPd25Qcm9wZXJ0eSwgWWMgPSBTdHJpbmcucHJvdG90eXBlLCBRYyA9IFljLnRyaW0sIG5hID0gXCJbb2JqZWN0IE9iamVjdF1cIiwgdGEgPSBGdW5jdGlvbi5wcm90b3R5cGUsIGVhID0gT2JqZWN0LnByb3RvdHlwZSwgcmEgPSB0YS50b1N0cmluZywgaWEgPSBlYS5oYXNPd25Qcm9wZXJ0eSwgb2EgPSByYS5jYWxsKE9iamVjdCksIHVhID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuICFOKG4pIH0sIGNhID0gXCJbb2JqZWN0IE51bWJlcl1cIiwgYWEgPSBmdW5jdGlvbiAobiwgdCkgeyB2YXIgZSA9IHt9OyByZXR1cm4gVmMoZnVuY3Rpb24gKHQsIHIpIHsgZVtyXSA9IG4odCwgcikgfSwgdCksIGUgfSwgZmEgPSBmdW5jdGlvbiAobiwgdCwgZSkgeyByZXR1cm4gZS5yZWR1Y2UobiwgdCkgfSwgc2EgPSBmdW5jdGlvbiAobiwgdCwgZSkgeyB2YXIgciA9IHQ7IHJldHVybiBWYyhmdW5jdGlvbiAodCwgZSkgeyByID0gbihyLCB0LCBlKSB9LCBlKSwgciB9LCBsYSA9IEFycmF5LnByb3RvdHlwZSwgZGEgPSBsYS5yZXZlcnNlLCBoYSA9IHdpbmRvdywgcGEgPSBkb2N1bWVudCwgdmEgPSBcImFjdGlvblwiLCBtYSA9IFwiYXR0cmlidXRlXCIsIGdhID0gXCJ2YWx1ZVwiLCB5YSA9IFwiY2xpY2tUcmFja0lkXCIsIGJhID0gXCJjb250ZW50XCIsIHhhID0gXCJjb250ZW50VHlwZVwiLCBFYSA9IFwiZmluYWxIZWlnaHRcIiwgd2EgPSBcImZpbmFsV2lkdGhcIiwgQ2EgPSBcImhlaWdodFwiLCBTYSA9IFwid2lkdGhcIiwgT2EgPSBcImZpbmFsTGVmdFBvc2l0aW9uXCIsIFRhID0gXCJmaW5hbFRvcFBvc2l0aW9uXCIsIGthID0gXCJsZWZ0XCIsIE5hID0gXCJ0b3BcIiwgQWEgPSBcInBvc2l0aW9uXCIsIGphID0gXCJmcm9tXCIsIERhID0gXCJ0b1wiLCBfYSA9IFwidXJsXCIsIFJhID0gXCJpbmNsdWRlQWxsVXJsUGFyYW1ldGVyc1wiLCBQYSA9IFwicGFzc01ib3hTZXNzaW9uXCIsIElhID0gXCJwcm9wZXJ0eVwiLCBNYSA9IFwicHJpb3JpdHlcIiwgcWEgPSBcInNlbGVjdG9yXCIsIExhID0gXCJjc3NTZWxlY3RvclwiLCBVYSA9IFwic3R5bGVcIiwgRmEgPSBcInNldENvbnRlbnRcIiwgJGEgPSBcInNldFRleHRcIiwgQmEgPSBcInNldEpzb25cIiwgSGEgPSBcInNldEF0dHJpYnV0ZVwiLCBWYSA9IFwic2V0U3R5bGVcIiwgemEgPSBcInJlYXJyYW5nZVwiLCBaYSA9IFwicmVzaXplXCIsIEdhID0gXCJtb3ZlXCIsIEthID0gXCJyZW1vdmVcIiwgSmEgPSBcImN1c3RvbUNvZGVcIiwgV2EgPSBcImFwcGVuZENvbnRlbnRcIiwgWGEgPSBcInJlZGlyZWN0XCIsIFlhID0gXCJ0cmFja0NsaWNrXCIsIFFhID0gXCJzaWduYWxDbGlja1wiLCBuZiA9IFwiaW5zZXJ0QmVmb3JlXCIsIHRmID0gXCJpbnNlcnRBZnRlclwiLCBlZiA9IFwicHJlcGVuZENvbnRlbnRcIiwgcmYgPSBcInJlcGxhY2VDb250ZW50XCIsIG9mID0gXCJtYm94RGVidWdcIiwgdWYgPSBcIm1ib3hEaXNhYmxlXCIsIGNmID0gXCJtYm94RWRpdFwiLCBhZiA9IFwiY2hlY2tcIiwgZmYgPSBcInRydWVcIiwgc2YgPSAyNTAsIGxmID0gL15bYS16QS1aXSskLywgZGYgPSBcImRhdGEtYXQtc3JjXCIsIGhmID0gXCJkYXRhLWF0LW1ib3gtbmFtZVwiLCBwZiA9IFwiLWNsaWNrZWRcIiwgdmYgPSBcIm1ib3gtbmFtZS1cIiwgbWYgPSBcImpzb25cIiwgZ2YgPSBcImh0bWxcIiwgeWYgPSBcInNjcmlwdFwiLCBiZiA9IFwidGV4dFwiLCB4ZiA9IFwic3JjXCIsIEVmID0gXCJpZFwiLCB3ZiA9IFwiY2xhc3NcIiwgQ2YgPSBcInR5cGVcIiwgU2YgPSBcImNsaWNrXCIsIE9mID0gXCJoZWFkXCIsIFRmID0gXCJzdHlsZVwiLCBrZiA9IFwiaW1nXCIsIE5mID0gXCJkaXZcIiwgQWYgPSAnQWRvYmUgVGFyZ2V0IGNvbnRlbnQgZGVsaXZlcnkgaXMgZGlzYWJsZWQuIEVuc3VyZSB0aGF0IHlvdSBjYW4gc2F2ZSBjb29raWVzIHRvIHlvdXIgY3VycmVudCBkb21haW4sIHRoZXJlIGlzIG5vIFwibWJveERpc2FibGVcIiBjb29raWUgYW5kIHRoZXJlIGlzIG5vIFwibWJveERpc2FibGVcIiBwYXJhbWV0ZXIgaW4gcXVlcnkgc3RyaW5nLicsIGpmID0gXCJBZG9iZSBUYXJnZXQgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZC5cIiwgRGYgPSBcIm9wdGlvbnMgYXJndW1lbnQgaXMgcmVxdWlyZWRcIiwgX2YgPSBcIm1ib3ggb3B0aW9uIGlzIHJlcXVpcmVkXCIsIFJmID0gXCJtYm94IG9wdGlvbiBpcyB0b28gbG9uZ1wiLCBQZiA9IFwic3VjY2VzcyBvcHRpb24gaXMgcmVxdWlyZWRcIiwgSWYgPSBcImVycm9yIG9wdGlvbiBpcyByZXF1aXJlZFwiLCBNZiA9IFwib2ZmZXIgb3B0aW9uIGlzIHJlcXVpcmVkXCIsIHFmID0gXCJuYW1lIG9wdGlvbiBpcyByZXF1aXJlZFwiLCBMZiA9IFwibmFtZSBpcyBpbnZhbGlkXCIsIFVmID0gXCJtb2R1bGVzIG9wdGlvbiBpcyByZXF1aXJlZFwiLCBGZiA9IFwicmVnaXN0ZXIgb3B0aW9uIGlzIHJlcXVpcmVkXCIsICRmID0gXCJtb2R1bGVzIGRvIG5vdCBleGlzdHNcIiwgQmYgPSBcIkZhaWxlZCBhY3Rpb25zXCIsIEhmID0gXCJVbmV4cGVjdGVkIGVycm9yXCIsIFZmID0gXCJhY3Rpb25zIHRvIGJlIHJlbmRlcmVkXCIsIHpmID0gXCJyZXF1ZXN0IGZhaWxlZFwiLCBaZiA9IFwiQWxsIGFjdGlvbnMgcmVuZGVyZWQgc3VjY2Vzc2Z1bGx5XCIsIEdmID0gXCJBY3Rpb24gcmVuZGVyZWQgc3VjY2Vzc2Z1bGx5XCIsIEtmID0gXCJSZW5kZXJpbmcgYWN0aW9uXCIsIEpmID0gXCJBY3Rpb24gaGFzIG5vIGNvbnRlbnRcIiwgV2YgPSBcIkFjdGlvbiBoYXMgbm8gYXR0cmlidXRlIG9yIHZhbHVlXCIsIFhmID0gXCJBY3Rpb24gaGFzIG5vIHByb3BlcnR5IG9yIHZhbHVlXCIsIFlmID0gXCJBY3Rpb24gaGFzIG5vIGhlaWdodCBvciB3aWR0aFwiLCBRZiA9IFwiQWN0aW9uIGhhcyBubyBsZWZ0LCB0b3Agb3IgcG9zaXRpb25cIiwgbnMgPSBcIkFjdGlvbiBoYXMgbm8gZnJvbSBvciB0b1wiLCB0cyA9IFwiQWN0aW9uIGhhcyBubyB1cmxcIiwgZXMgPSBcIkFjdGlvbiBoYXMgbm8gY2xpY2sgdHJhY2sgSURcIiwgcnMgPSBcIlJlYXJyYW5nZSBlbGVtZW50cyBhcmUgbWlzc2luZ1wiLCBpcyA9IFwiTG9hZGluZyBpbWFnZVwiLCBvcyA9IFwiVHJhY2sgZXZlbnQgcmVxdWVzdCBzdWNjZWVkZWRcIiwgdXMgPSBcIlRyYWNrIGV2ZW50IHJlcXVlc3QgZmFpbGVkXCIsIGNzID0gXCJNYm94IGNvbnRhaW5lciBub3QgZm91bmRcIiwgYXMgPSBcIlJlbmRlcmluZyBtYm94XCIsIGZzID0gXCJSZW5kZXJpbmcgbWJveCBmYWlsZWRcIiwgc3MgPSBcIklEIGlzIG1pc3NpbmdcIiwgbHMgPSBcIk5vIGFjdGlvbnMgdG8gYmUgcmVuZGVyZWRcIiwgZHMgPSBcIlJlZGlyZWN0IGFjdGlvblwiLCBocyA9IFwiZGVmYXVsdCB0byBIRUFEXCIsIHBzID0gXCJkb2N1bWVudC5jdXJyZW50U2NyaXB0IGlzIG1pc3Npbmcgb3Igbm90IHN1cHBvcnRlZFwiLCB2cyA9IFwiZXhlY3V0aW5nIGZyb20gSFRNTCBIRUFEXCIsIG1zID0gXCJTY3JpcHQgbG9hZFwiLCBncyA9IFwidW5rbm93biBlcnJvclwiLCB5cyA9IFwiZXJyb3JcIiwgYnMgPSBcIndhcm5pbmdcIiwgeHMgPSBcInVua25vd25cIiwgRXMgPSBcInZhbGlkXCIsIHdzID0gXCJzdWNjZXNzXCIsIENzID0gXCJtYm94XCIsIFNzID0gXCJvZmZlclwiLCBPcyA9IFwibmFtZVwiLCBUcyA9IFwibW9kdWxlc1wiLCBrcyA9IFwicmVnaXN0ZXJcIiwgTnMgPSBcInN0YXR1c1wiLCBBcyA9IFwicGFyYW1zXCIsIGpzID0gXCJhY3Rpb25zXCIsIERzID0gXCJyZXNwb25zZVRva2Vuc1wiLCBfcyA9IFwibWVzc2FnZVwiLCBScyA9IFwicmVzcG9uc2VcIiwgUHMgPSBcInJlcXVlc3RcIiwgSXMgPSBcImR5bmFtaWNcIiwgTXMgPSBcInBsdWdpbnNcIiwgcXMgPSBcImNsaWNrVG9rZW5cIiwgTHMgPSBcIm9mZmVyc1wiLCBVcyA9IFwicHJvdmlkZXJcIiwgRnMgPSBcIm1ib3hEZWZhdWx0XCIsICRzID0gXCJhdC1mbGlja2VyLWNvbnRyb2xcIiwgQnMgPSBcImF0LWVsZW1lbnQtbWFya2VyXCIsIEhzID0gXCJhdC1lbGVtZW50LWNsaWNrLXRyYWNraW5nXCIsIFZzID0gQ3MsIHpzID0gXCJlbmFibGVkXCIsIFpzID0gXCJjbGllbnRDb2RlXCIsIEdzID0gXCJpbXNPcmdJZFwiLCBLcyA9IFwic2VydmVyRG9tYWluXCIsIEpzID0gXCJjcm9zc0RvbWFpblwiLCBXcyA9IFwidGltZW91dFwiLCBYcyA9IFwiZ2xvYmFsTWJveE5hbWVcIiwgWXMgPSBcImdsb2JhbE1ib3hBdXRvQ3JlYXRlXCIsIFFzID0gXCJ2ZXJzaW9uXCIsIG5sID0gXCJkZWZhdWx0Q29udGVudEhpZGRlblN0eWxlXCIsIHRsID0gXCJib2R5SGlkZGVuU3R5bGVcIiwgZWwgPSBcImJvZHlIaWRpbmdFbmFibGVkXCIsIHJsID0gXCJkZXZpY2VJZExpZmV0aW1lXCIsIGlsID0gXCJzZXNzaW9uSWRMaWZldGltZVwiLCBvbCA9IFwic2VsZWN0b3JzUG9sbGluZ1RpbWVvdXRcIiwgdWwgPSBcInZpc2l0b3JBcGlUaW1lb3V0XCIsIGNsID0gXCJvdmVycmlkZU1ib3hFZGdlU2VydmVyXCIsIGFsID0gXCJvdmVycmlkZU1ib3hFZGdlU2VydmVyVGltZW91dFwiLCBmbCA9IFwib3B0b3V0RW5hYmxlZFwiLCBzbCA9IFwic2VjdXJlT25seVwiLCBsbCA9IFwic3VwcGxlbWVudGFsRGF0YUlkUGFyYW1UaW1lb3V0XCIsIGRsID0gXCJhdXRob3JpbmdTY3JpcHRVcmxcIiwgaGwgPSBcImNyb3NzRG9tYWluT25seVwiLCBwbCA9IFwiY3Jvc3NEb21haW5FbmFibGVkXCIsIHZsID0gXCJzY2hlbWVcIiwgbWwgPSBcImNvb2tpZURvbWFpblwiLCBnbCA9IFwibWJveFBhcmFtc1wiLCB5bCA9IFwiZ2xvYmFsTWJveFBhcmFtc1wiLCBibCA9IFwidXJsU2l6ZUxpbWl0XCIsIHhsID0gXCJicm93c2VySGVpZ2h0XCIsIEVsID0gXCJicm93c2VyV2lkdGhcIiwgd2wgPSBcImJyb3dzZXJUaW1lT2Zmc2V0XCIsIENsID0gXCJzY3JlZW5IZWlnaHRcIiwgU2wgPSBcInNjcmVlbldpZHRoXCIsIE9sID0gXCJzY3JlZW5PcmllbnRhdGlvblwiLCBUbCA9IFwiY29sb3JEZXB0aFwiLCBrbCA9IFwiZGV2aWNlUGl4ZWxSYXRpb1wiLCBObCA9IFwid2ViR0xSZW5kZXJlclwiLCBBbCA9IENzLCBqbCA9IFwibWJveFNlc3Npb25cIiwgRGwgPSBcIm1ib3hQQ1wiLCBfbCA9IFwibWJveFBhZ2VcIiwgUmwgPSBcIm1ib3hSaWRcIiwgUGwgPSBcIm1ib3hWZXJzaW9uXCIsIElsID0gXCJtYm94Q291bnRcIiwgTWwgPSBcIm1ib3hUaW1lXCIsIHFsID0gXCJtYm94SG9zdFwiLCBMbCA9IFwibWJveFVSTFwiLCBVbCA9IFwibWJveFJlZmVycmVyXCIsIEZsID0gXCJtYm94WERvbWFpblwiLCAkbCA9IFwiUENcIiwgQmwgPSBcIm1ib3hFZGdlQ2x1c3RlclwiLCBIbCA9IFwic2Vzc2lvblwiLCBWbCA9IFwiYXQtdGlja1wiLCB6bCA9IFwiYXQtcmVuZGVyLWNvbXBsZXRlXCIsIFpsID0gXCJhdC10aW1lb3V0XCIsIEdsID0gXCJhdC1uby1vZmZlcnNcIiwgS2wgPSBcImF0LXNlbGVjdG9ycy1oaWRkZW5cIiwgSmwgPSBcImF0LWxpYnJhcnktbG9hZGVkXCIsIFdsID0gXCJhdC1nbG9iYWwtbWJveC1mYWlsZWRcIiwgWGwgPSBcInNldHRpbmdzXCIsIFlsID0gXCJjbGllbnRUcmFjZXNcIiwgUWwgPSBcInNlcnZlclRyYWNlc1wiLCBuZCA9IFwiX19fdGFyZ2V0X3RyYWNlc1wiLCB0ZCA9IFwidGFyZ2V0R2xvYmFsU2V0dGluZ3NcIiwgZWQgPSBcImRhdGFQcm92aWRlclwiLCByZCA9IGVkICsgXCJzXCIsIGlkID0gXCJ0aW1lc3RhbXBcIiwgb2QgPSBcIkNvbnRlbnQtVHlwZVwiLCB1ZCA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsIGNkID0gL14oPyEwKSg/IS4qXFwuJCkoKDE/XFxkP1xcZHwyNVswLTVdfDJbMC00XVxcZCkoXFwufCQpKXs0fSQvLCBhZCA9IC9eKGNvbXxlZHV8Z292fG5ldHxtaWx8b3JnfG5vbXxjb3xuYW1lfGluZm98Yml6KSQvaSwgZmQgPSBcImZpbGU6XCIsIHNkID0ge30sIGxkID0gW3pzLCBacywgR3MsIEtzLCBtbCwgSnMsIFdzLCBZcywgZ2wsIHlsLCBubCwgXCJkZWZhdWx0Q29udGVudFZpc2libGVTdHlsZVwiLCB0bCwgZWwsIG9sLCB1bCwgY2wsIGFsLCBmbCwgc2wsIGxsLCBkbCwgYmxdLCBkZCA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyA/IHdpbmRvdyA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdsb2JhbCA/IGdsb2JhbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDoge30sIGhkID0gSihmdW5jdGlvbiAobiwgdCkgeyAhZnVuY3Rpb24gKGUpIHsgdmFyIHIgPSAhMTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgVGMgJiYgVGMuYW1kICYmIChUYyhlKSwgciA9ICEwKSwgXCJvYmplY3RcIiA9PT0gKHZvaWQgMCA9PT0gdCA/IFwidW5kZWZpbmVkXCIgOiBGYyh0KSkgJiYgKG4uZXhwb3J0cyA9IGUoKSwgciA9ICEwKSwgIXIpIHsgdmFyIGkgPSB3aW5kb3cuQ29va2llcywgbyA9IHdpbmRvdy5Db29raWVzID0gZSgpOyBvLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3cuQ29va2llcyA9IGksIG8gfSB9IH0oZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBuKCkgeyBmb3IgKHZhciBuID0gMCwgdCA9IHt9OyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB7IHZhciBlID0gYXJndW1lbnRzW25dOyBmb3IgKHZhciByIGluIGUpIHRbcl0gPSBlW3JdIH0gcmV0dXJuIHQgfSBmdW5jdGlvbiB0KGUpIHsgZnVuY3Rpb24gcih0LCBpLCBvKSB7IHZhciB1OyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZG9jdW1lbnQpIHsgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7IGlmIChvID0gbih7IHBhdGg6IFwiL1wiIH0sIHIuZGVmYXVsdHMsIG8pLCBcIm51bWJlclwiID09IHR5cGVvZiBvLmV4cGlyZXMpIHsgdmFyIGMgPSBuZXcgRGF0ZTsgYy5zZXRNaWxsaXNlY29uZHMoYy5nZXRNaWxsaXNlY29uZHMoKSArIDg2NGU1ICogby5leHBpcmVzKSwgby5leHBpcmVzID0gYyB9IG8uZXhwaXJlcyA9IG8uZXhwaXJlcyA/IG8uZXhwaXJlcy50b1VUQ1N0cmluZygpIDogXCJcIjsgdHJ5IHsgdSA9IEpTT04uc3RyaW5naWZ5KGkpLCAvXltcXHtcXFtdLy50ZXN0KHUpICYmIChpID0gdSkgfSBjYXRjaCAobikgeyB9IGkgPSBlLndyaXRlID8gZS53cml0ZShpLCB0KSA6IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaSkpLnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCksIHQgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHQpKSwgdCA9IHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KSwgdCA9IHQucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTsgdmFyIGEgPSBcIlwiOyBmb3IgKHZhciBmIGluIG8pIG9bZl0gJiYgKGEgKz0gXCI7IFwiICsgZiwgITAgIT09IG9bZl0gJiYgKGEgKz0gXCI9XCIgKyBvW2ZdKSk7IHJldHVybiBkb2N1bWVudC5jb29raWUgPSB0ICsgXCI9XCIgKyBpICsgYSB9IHQgfHwgKHUgPSB7fSk7IGZvciAodmFyIHMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7IFwiKSA6IFtdLCBsID0gLyglWzAtOUEtWl17Mn0pKy9nLCBkID0gMDsgZCA8IHMubGVuZ3RoOyBkKyspIHsgdmFyIGggPSBzW2RdLnNwbGl0KFwiPVwiKSwgcCA9IGguc2xpY2UoMSkuam9pbihcIj1cIik7ICdcIicgPT09IHAuY2hhckF0KDApICYmIChwID0gcC5zbGljZSgxLCAtMSkpOyB0cnkgeyB2YXIgdiA9IGhbMF0ucmVwbGFjZShsLCBkZWNvZGVVUklDb21wb25lbnQpOyBpZiAocCA9IGUucmVhZCA/IGUucmVhZChwLCB2KSA6IGUocCwgdikgfHwgcC5yZXBsYWNlKGwsIGRlY29kZVVSSUNvbXBvbmVudCksIHRoaXMuanNvbikgdHJ5IHsgcCA9IEpTT04ucGFyc2UocCkgfSBjYXRjaCAobikgeyB9IGlmICh0ID09PSB2KSB7IHUgPSBwOyBicmVhayB9IHQgfHwgKHVbdl0gPSBwKSB9IGNhdGNoIChuKSB7IH0gfSByZXR1cm4gdSB9IH0gcmV0dXJuIHIuc2V0ID0gciwgci5nZXQgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gci5jYWxsKHIsIG4pIH0sIHIuZ2V0SlNPTiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHIuYXBwbHkoeyBqc29uOiAhMCB9LCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpIH0sIHIuZGVmYXVsdHMgPSB7fSwgci5yZW1vdmUgPSBmdW5jdGlvbiAodCwgZSkgeyByKHQsIFwiXCIsIG4oZSwgeyBleHBpcmVzOiAtMSB9KSkgfSwgci53aXRoQ29udmVydGVyID0gdCwgciB9IHJldHVybiB0KGZ1bmN0aW9uICgpIHsgfSkgfSkgfSksIHBkID0gaGQsIHZkID0geyBnZXQ6IHBkLmdldCwgc2V0OiBwZC5zZXQsIHJlbW92ZTogcGQucmVtb3ZlIH0sIG1kID0gdmQuZ2V0LCBnZCA9IHZkLnNldCwgeWQgPSB2ZC5yZW1vdmUsIGJkID0gZnVuY3Rpb24gKG4sIHQpIHsgdCA9IHQgfHwge307IGZvciAodmFyIGUgPSB7IGtleTogW1wic291cmNlXCIsIFwicHJvdG9jb2xcIiwgXCJhdXRob3JpdHlcIiwgXCJ1c2VySW5mb1wiLCBcInVzZXJcIiwgXCJwYXNzd29yZFwiLCBcImhvc3RcIiwgXCJwb3J0XCIsIFwicmVsYXRpdmVcIiwgXCJwYXRoXCIsIFwiZGlyZWN0b3J5XCIsIFwiZmlsZVwiLCBcInF1ZXJ5XCIsIFwiYW5jaG9yXCJdLCBxOiB7IG5hbWU6IFwicXVlcnlLZXlcIiwgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2cgfSwgcGFyc2VyOiB7IHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLywgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyB9IH0sIHIgPSBlLnBhcnNlclt0LnN0cmljdE1vZGUgPyBcInN0cmljdFwiIDogXCJsb29zZVwiXS5leGVjKG4pLCBpID0ge30sIG8gPSAxNDsgby0tOylpW2Uua2V5W29dXSA9IHJbb10gfHwgXCJcIjsgcmV0dXJuIGlbZS5xLm5hbWVdID0ge30sIGlbZS5rZXlbMTJdXS5yZXBsYWNlKGUucS5wYXJzZXIsIGZ1bmN0aW9uIChuLCB0LCByKSB7IHQgJiYgKGlbZS5xLm5hbWVdW3RdID0gcikgfSksIGkgfSwgeGQgPSBmdW5jdGlvbiAobiwgdCwgZSwgcikgeyB0ID0gdCB8fCBcIiZcIiwgZSA9IGUgfHwgXCI9XCI7IHZhciBpID0ge307IGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBuIHx8IDAgPT09IG4ubGVuZ3RoKSByZXR1cm4gaTsgdmFyIG8gPSAvXFwrL2c7IG4gPSBuLnNwbGl0KHQpOyB2YXIgdSA9IDFlMzsgciAmJiBcIm51bWJlclwiID09IHR5cGVvZiByLm1heEtleXMgJiYgKHUgPSByLm1heEtleXMpOyB2YXIgYyA9IG4ubGVuZ3RoOyB1ID4gMCAmJiBjID4gdSAmJiAoYyA9IHUpOyBmb3IgKHZhciBhID0gMDsgYSA8IGM7ICsrYSkgeyB2YXIgZiwgcywgbCwgZCwgaCA9IG5bYV0ucmVwbGFjZShvLCBcIiUyMFwiKSwgcCA9IGguaW5kZXhPZihlKTsgcCA+PSAwID8gKGYgPSBoLnN1YnN0cigwLCBwKSwgcyA9IGguc3Vic3RyKHAgKyAxKSkgOiAoZiA9IGgsIHMgPSBcIlwiKSwgbCA9IGRlY29kZVVSSUNvbXBvbmVudChmKSwgZCA9IGRlY29kZVVSSUNvbXBvbmVudChzKSwgWShpLCBsKSA/IEFycmF5LmlzQXJyYXkoaVtsXSkgPyBpW2xdLnB1c2goZCkgOiBpW2xdID0gW2lbbF0sIGRdIDogaVtsXSA9IGQgfSByZXR1cm4gaSB9LCBFZCA9IGZ1bmN0aW9uIChuKSB7IHN3aXRjaCAodm9pZCAwID09PSBuID8gXCJ1bmRlZmluZWRcIiA6IEZjKG4pKSB7IGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIG47IGNhc2UgXCJib29sZWFuXCI6IHJldHVybiBuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7IGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIGlzRmluaXRlKG4pID8gbiA6IFwiXCI7IGRlZmF1bHQ6IHJldHVybiBcIlwiIH0gfSwgd2QgPSBmdW5jdGlvbiAobiwgdCwgZSwgcikgeyByZXR1cm4gdCA9IHQgfHwgXCImXCIsIGUgPSBlIHx8IFwiPVwiLCBudWxsID09PSBuICYmIChuID0gdm9pZCAwKSwgXCJvYmplY3RcIiA9PT0gKHZvaWQgMCA9PT0gbiA/IFwidW5kZWZpbmVkXCIgOiBGYyhuKSkgPyBPYmplY3Qua2V5cyhuKS5tYXAoZnVuY3Rpb24gKHIpIHsgdmFyIGkgPSBlbmNvZGVVUklDb21wb25lbnQoRWQocikpICsgZTsgcmV0dXJuIEFycmF5LmlzQXJyYXkobltyXSkgPyBuW3JdLm1hcChmdW5jdGlvbiAobikgeyByZXR1cm4gaSArIGVuY29kZVVSSUNvbXBvbmVudChFZChuKSkgfSkuam9pbih0KSA6IGkgKyBlbmNvZGVVUklDb21wb25lbnQoRWQobltyXSkpIH0pLmpvaW4odCkgOiByID8gZW5jb2RlVVJJQ29tcG9uZW50KEVkKHIpKSArIGUgKyBlbmNvZGVVUklDb21wb25lbnQoRWQobikpIDogXCJcIiB9LCBDZCA9IEooZnVuY3Rpb24gKG4sIHQpIHsgdC5kZWNvZGUgPSB0LnBhcnNlID0geGQsIHQuZW5jb2RlID0gdC5zdHJpbmdpZnkgPSB3ZCB9KSwgU2QgPSAoQ2QuZW5jb2RlLCBDZC5zdHJpbmdpZnksIENkLmRlY29kZSwgQ2QucGFyc2UsIENkKSwgT2QgPSB7IHBhcnNlOiBmdW5jdGlvbiAobikgeyByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgbiAmJiAobiA9IG4udHJpbSgpLnJlcGxhY2UoL15bPyMmXS8sIFwiXCIpKSwgU2QucGFyc2UobikgfSwgc3RyaW5naWZ5OiBmdW5jdGlvbiAobikgeyByZXR1cm4gU2Quc3RyaW5naWZ5KG4pIH0gfSwgVGQgPSBPZC5wYXJzZSwga2QgPSBwYS5jcmVhdGVFbGVtZW50KFwiYVwiKSwgTmQgPSB7fSwgQWQgPSBPZC5zdHJpbmdpZnksIGpkID0gXCJBVDpcIiwgRGQgPSBcIjFcIiwgX2QgPSBbenMsIFpzLCBHcywgS3MsIG1sLCBKcywgV3MsIFlzLCBnbCwgeWwsIG5sLCBcImRlZmF1bHRDb250ZW50VmlzaWJsZVN0eWxlXCIsIHRsLCBlbCwgb2wsIHVsLCBjbCwgYWwsIGZsLCBzbCwgbGwsIGRsXSwgUmQgPSBGKCksIFBkID0gLy4qXFwuKFxcZCspX1xcZCsvOyAhZnVuY3Rpb24gKG4sIHQpIHsgZnVuY3Rpb24gZShuLCBlKSB7IHZhciByID0gdC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpOyByZXR1cm4gZSA9IGUgfHwgeyBidWJibGVzOiAhMSwgY2FuY2VsYWJsZTogITEsIGRldGFpbDogdm9pZCAwIH0sIHIuaW5pdEN1c3RvbUV2ZW50KG4sIGUuYnViYmxlcywgZS5jYW5jZWxhYmxlLCBlLmRldGFpbCksIHIgfSBvKG4uQ3VzdG9tRXZlbnQpIHx8IChlLnByb3RvdHlwZSA9IG4uRXZlbnQucHJvdG90eXBlLCBuLkN1c3RvbUV2ZW50ID0gZSkgfShoYSwgcGEpOyB2YXIgSWQgPSBcImF0LWxpYnJhcnktbG9hZGVkXCIsIE1kID0gXCJhdC1yZXF1ZXN0LXN0YXJ0XCIsIHFkID0gXCJhdC1yZXF1ZXN0LXN1Y2NlZWRlZFwiLCBMZCA9IFwiYXQtcmVxdWVzdC1mYWlsZWRcIiwgVWQgPSBcImF0LWNvbnRlbnQtcmVuZGVyaW5nLXN0YXJ0XCIsIEZkID0gXCJhdC1jb250ZW50LXJlbmRlcmluZy1zdWNjZWVkZWRcIiwgJGQgPSBcImF0LWNvbnRlbnQtcmVuZGVyaW5nLWZhaWxlZFwiLCBCZCA9IFwiYXQtY29udGVudC1yZW5kZXJpbmctbm8tb2ZmZXJzXCIsIEhkID0gXCJhdC1jb250ZW50LXJlbmRlcmluZy1yZWRpcmVjdFwiLCBWZCA9IEooZnVuY3Rpb24gKG4pIHsgIWZ1bmN0aW9uICh0KSB7IGZ1bmN0aW9uIGUoKSB7IH0gZnVuY3Rpb24gcihuLCB0KSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IG4uYXBwbHkodCwgYXJndW1lbnRzKSB9IH0gZnVuY3Rpb24gaShuKSB7IGlmIChcIm9iamVjdFwiICE9PSBGYyh0aGlzKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ld1wiKTsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgbikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpOyB0aGlzLl9zdGF0ZSA9IDAsIHRoaXMuX2hhbmRsZWQgPSAhMSwgdGhpcy5fdmFsdWUgPSB2b2lkIDAsIHRoaXMuX2RlZmVycmVkcyA9IFtdLCBzKG4sIHRoaXMpIH0gZnVuY3Rpb24gbyhuLCB0KSB7IGZvciAoOyAzID09PSBuLl9zdGF0ZTspbiA9IG4uX3ZhbHVlOyBpZiAoMCA9PT0gbi5fc3RhdGUpIHJldHVybiB2b2lkIG4uX2RlZmVycmVkcy5wdXNoKHQpOyBuLl9oYW5kbGVkID0gITAsIGkuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uICgpIHsgdmFyIGUgPSAxID09PSBuLl9zdGF0ZSA/IHQub25GdWxmaWxsZWQgOiB0Lm9uUmVqZWN0ZWQ7IGlmIChudWxsID09PSBlKSByZXR1cm4gdm9pZCAoMSA9PT0gbi5fc3RhdGUgPyB1IDogYykodC5wcm9taXNlLCBuLl92YWx1ZSk7IHZhciByOyB0cnkgeyByID0gZShuLl92YWx1ZSkgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBjKHQucHJvbWlzZSwgbikgfSB1KHQucHJvbWlzZSwgcikgfSkgfSBmdW5jdGlvbiB1KG4sIHQpIHsgdHJ5IHsgaWYgKHQgPT09IG4pIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKTsgaWYgKHQgJiYgKFwib2JqZWN0XCIgPT09ICh2b2lkIDAgPT09IHQgPyBcInVuZGVmaW5lZFwiIDogRmModCkpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCkpIHsgdmFyIGUgPSB0LnRoZW47IGlmICh0IGluc3RhbmNlb2YgaSkgcmV0dXJuIG4uX3N0YXRlID0gMywgbi5fdmFsdWUgPSB0LCB2b2lkIGEobik7IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpIHJldHVybiB2b2lkIHMocihlLCB0KSwgbikgfSBuLl9zdGF0ZSA9IDEsIG4uX3ZhbHVlID0gdCwgYShuKSB9IGNhdGNoICh0KSB7IGMobiwgdCkgfSB9IGZ1bmN0aW9uIGMobiwgdCkgeyBuLl9zdGF0ZSA9IDIsIG4uX3ZhbHVlID0gdCwgYShuKSB9IGZ1bmN0aW9uIGEobikgeyAyID09PSBuLl9zdGF0ZSAmJiAwID09PSBuLl9kZWZlcnJlZHMubGVuZ3RoICYmIGkuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uICgpIHsgbi5faGFuZGxlZCB8fCBpLl91bmhhbmRsZWRSZWplY3Rpb25GbihuLl92YWx1ZSkgfSk7IGZvciAodmFyIHQgPSAwLCBlID0gbi5fZGVmZXJyZWRzLmxlbmd0aDsgdCA8IGU7IHQrKylvKG4sIG4uX2RlZmVycmVkc1t0XSk7IG4uX2RlZmVycmVkcyA9IG51bGwgfSBmdW5jdGlvbiBmKG4sIHQsIGUpIHsgdGhpcy5vbkZ1bGZpbGxlZCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbiA/IG4gOiBudWxsLCB0aGlzLm9uUmVqZWN0ZWQgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgPyB0IDogbnVsbCwgdGhpcy5wcm9taXNlID0gZSB9IGZ1bmN0aW9uIHMobiwgdCkgeyB2YXIgZSA9ICExOyB0cnkgeyBuKGZ1bmN0aW9uIChuKSB7IGUgfHwgKGUgPSAhMCwgdSh0LCBuKSkgfSwgZnVuY3Rpb24gKG4pIHsgZSB8fCAoZSA9ICEwLCBjKHQsIG4pKSB9KSB9IGNhdGNoIChuKSB7IGlmIChlKSByZXR1cm47IGUgPSAhMCwgYyh0LCBuKSB9IH0gdmFyIGwgPSBzZXRUaW1lb3V0OyBpLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiB0aGlzLnRoZW4obnVsbCwgbikgfSwgaS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChuLCB0KSB7IHZhciByID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZSk7IHJldHVybiBvKHRoaXMsIG5ldyBmKG4sIHQsIHIpKSwgciB9LCBpLmFsbCA9IGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobik7IHJldHVybiBuZXcgaShmdW5jdGlvbiAobiwgZSkgeyBmdW5jdGlvbiByKG8sIHUpIHsgdHJ5IHsgaWYgKHUgJiYgKFwib2JqZWN0XCIgPT09ICh2b2lkIDAgPT09IHUgPyBcInVuZGVmaW5lZFwiIDogRmModSkpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdSkpIHsgdmFyIGMgPSB1LnRoZW47IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGMpIHJldHVybiB2b2lkIGMuY2FsbCh1LCBmdW5jdGlvbiAobikgeyByKG8sIG4pIH0sIGUpIH0gdFtvXSA9IHUsIDAgPT0gLS1pICYmIG4odCkgfSBjYXRjaCAobikgeyBlKG4pIH0gfSBpZiAoMCA9PT0gdC5sZW5ndGgpIHJldHVybiBuKFtdKTsgZm9yICh2YXIgaSA9IHQubGVuZ3RoLCBvID0gMDsgbyA8IHQubGVuZ3RoOyBvKyspcihvLCB0W29dKSB9KSB9LCBpLnJlc29sdmUgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gbiAmJiBcIm9iamVjdFwiID09PSAodm9pZCAwID09PSBuID8gXCJ1bmRlZmluZWRcIiA6IEZjKG4pKSAmJiBuLmNvbnN0cnVjdG9yID09PSBpID8gbiA6IG5ldyBpKGZ1bmN0aW9uICh0KSB7IHQobikgfSkgfSwgaS5yZWplY3QgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gbmV3IGkoZnVuY3Rpb24gKHQsIGUpIHsgZShuKSB9KSB9LCBpLnJhY2UgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gbmV3IGkoZnVuY3Rpb24gKHQsIGUpIHsgZm9yICh2YXIgciA9IDAsIGkgPSBuLmxlbmd0aDsgciA8IGk7IHIrKyluW3JdLnRoZW4odCwgZSkgfSkgfSwgaS5faW1tZWRpYXRlRm4gPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHNldEltbWVkaWF0ZSAmJiBmdW5jdGlvbiAobikgeyBzZXRJbW1lZGlhdGUobikgfSB8fCBmdW5jdGlvbiAobikgeyBsKG4sIDApIH0sIGkuX3VuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gKG4pIHsgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgY29uc29sZSAmJiBjb25zb2xlICYmIGNvbnNvbGUud2FybihcIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjpcIiwgbikgfSwgaS5fc2V0SW1tZWRpYXRlRm4gPSBmdW5jdGlvbiAobikgeyBpLl9pbW1lZGlhdGVGbiA9IG4gfSwgaS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiAobikgeyBpLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IG4gfSwgdm9pZCAwICE9PSBuICYmIG4uZXhwb3J0cyA/IG4uZXhwb3J0cyA9IGkgOiB0LlByb21pc2UgfHwgKHQuUHJvbWlzZSA9IGkpIH0oZGQpIH0pLCB6ZCA9IHdpbmRvdy5Qcm9taXNlIHx8IFZkLCBaZCA9IFwiRXhwZWN0ZWQgYW4gYXJyYXkgb2YgcHJvbWlzZXNcIiwgR2QgPSBcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWRcIiwgS2QgPSBcIlJlcXVlc3QgdGltZWQgb3V0XCIsIEpkID0gXCJVUkwgaXMgcmVxdWlyZWRcIiwgV2QgPSBcIkdFVFwiLCBYZCA9IFwiUE9TVFwiLCBZZCA9IFwibWV0aG9kXCIsIFFkID0gXCJ1cmxcIiwgbmggPSBcImhlYWRlcnNcIiwgdGggPSBcImRhdGFcIiwgZWggPSBcImNyZWRlbnRpYWxzXCIsIHJoID0gXCJ0aW1lb3V0XCIsIGloID0gXCJhc3luY1wiLCBvaCA9IFwibWJveERpc2FibGVcIiwgdWggPSBcImRpc2FibGVkXCIsIGNoID0gODY0ZTUsIGFoID0gXCIzcmQgcGFydHkgY29va2llcyBkaXNhYmxlZFwiLCBmaCA9IC9DTEtUUksjKFxcUyspLywgc2ggPSAvQ0xLVFJLIyhcXFMrKVxccy8sIGxoID0gXCJhZG9iZV9tY19zZGlkXCIsIGRoID0gXCJtYm94U2Vzc2lvblwiLCBoaCA9IFwidHJ1ZVwiLCBwaCA9IGZ1bmN0aW9uICgpIHsgdmFyIG4gPSBwYS5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLCB0ID0gbi5nZXRDb250ZXh0KFwid2ViZ2xcIikgfHwgbi5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpOyBpZiAoYSh0KSkgcmV0dXJuIG51bGw7IHZhciBlID0gdC5nZXRFeHRlbnNpb24oXCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvXCIpOyBpZiAoYShlKSkgcmV0dXJuIG51bGw7IHZhciByID0gdC5nZXRQYXJhbWV0ZXIoZS5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCk7IHJldHVybiBhKHIpID8gbnVsbCA6IHIgfSgpLCB2aCA9IEYoKSwgbWggPSAxLCBnaCA9IFwiVmlzaXRvclwiLCB5aCA9IFwiZ2V0SW5zdGFuY2VcIiwgYmggPSBcImlzQWxsb3dlZFwiLCB4aCA9IFwiRGlzYWJsZWQgZHVlIHRvIG9wdG91dFwiLCBFaCA9IFwiZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySURcIiwgd2ggPSBcImdldEF1ZGllbmNlTWFuYWdlckJsb2JcIiwgQ2ggPSBcImdldEFuYWx5dGljc1Zpc2l0b3JJRFwiLCBTaCA9IFwiZ2V0QXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50XCIsIE9oID0gXCJpc09wdGVkT3V0XCIsIFRoID0gXCJPcHRPdXRcIiwga2ggPSBcIk1DQUFNQlwiLCBOaCA9IFwiTUNBQU1MSFwiLCBBaCA9IFwiTUNBSURcIiwgamggPSBcIk1DTUlEXCIsIERoID0gXCJNQ09QVE9VVFwiLCBfaCA9IFwibWJveE1DQVZJRFwiLCBSaCA9IFwibWJveEFBTUJcIiwgUGggPSBcIm1ib3hNQ0dMSFwiLCBJaCA9IFwibWJveE1DR1ZJRFwiLCBNaCA9IFwibWJveE1DU0RJRFwiLCBxaCA9IFwiZ2V0U3VwcGxlbWVudGFsRGF0YUlEXCIsIExoID0gXCJnZXRDdXN0b21lcklEc1wiLCBVaCA9IFwidHJhY2tpbmdTZXJ2ZXJcIiwgRmggPSBVaCArIFwiU2VjdXJlXCIsICRoID0gXCJ2c3QuXCIsIEJoID0gJGggKyBcInRya1wiLCBIaCA9ICRoICsgXCJ0cmtzXCIsIFZoID0gXCJWaXNpdG9yIEFQSSByZXF1ZXN0cyB0aW1lZCBvdXRcIiwgemggPSBcIlZpc2l0b3IgQVBJIHJlcXVlc3RzIGVycm9yXCIsIFpoID0ge30sIEdoID0gXCJEYXRhIHByb3ZpZGVyXCIsIEtoID0gXCJ0aW1lZCBvdXRcIiwgSmggPSAyZTMsIFdoID0gXCJtYm94ZWRnZVwiLCBYaCA9IFwiPGNsaWVudENvZGU+XCIsIFloID0gXCIvbTIvXCIgKyBYaCArIFwiL21ib3gvanNvblwiLCBRaCA9IFwiLy9cIiwgbnAgPSBcIkpTT04gcGFyc2VyIGVycm9yXCIsIHRwID0gXCJbZ2V0T2ZmZXIoKV1cIiwgZXAgPSBmdW5jdGlvbiAobikge1xyXG4gICAgICAgIHZhciB0ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiB0KG4pIHsgcmV0dXJuIG51bGwgPT0gbiA/IFN0cmluZyhuKSA6IEpbVy5jYWxsKG4pXSB8fCBcIm9iamVjdFwiIH0gZnVuY3Rpb24gZShuKSB7IHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdChuKSB9IGZ1bmN0aW9uIHIobikgeyByZXR1cm4gbnVsbCAhPSBuICYmIG4gPT0gbi53aW5kb3cgfSBmdW5jdGlvbiBpKG4pIHsgcmV0dXJuIG51bGwgIT0gbiAmJiBuLm5vZGVUeXBlID09IG4uRE9DVU1FTlRfTk9ERSB9IGZ1bmN0aW9uIG8obikgeyByZXR1cm4gXCJvYmplY3RcIiA9PSB0KG4pIH0gZnVuY3Rpb24gdShuKSB7IHJldHVybiBvKG4pICYmICFyKG4pICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSA9PSBPYmplY3QucHJvdG90eXBlIH0gZnVuY3Rpb24gYyhuKSB7IHZhciB0ID0gISFuICYmIFwibGVuZ3RoXCIgaW4gbiAmJiBuLmxlbmd0aCwgZSA9IE8udHlwZShuKTsgcmV0dXJuIFwiZnVuY3Rpb25cIiAhPSBlICYmICFyKG4pICYmIChcImFycmF5XCIgPT0gZSB8fCAwID09PSB0IHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIHQgJiYgdCA+IDAgJiYgdCAtIDEgaW4gbikgfSBmdW5jdGlvbiBhKG4pIHsgcmV0dXJuIEQuY2FsbChuLCBmdW5jdGlvbiAobikgeyByZXR1cm4gbnVsbCAhPSBuIH0pIH0gZnVuY3Rpb24gZihuKSB7IHJldHVybiBuLmxlbmd0aCA+IDAgPyBPLmZuLmNvbmNhdC5hcHBseShbXSwgbikgOiBuIH0gZnVuY3Rpb24gcyhuKSB7IHJldHVybiBuLnJlcGxhY2UoLzo6L2csIFwiL1wiKS5yZXBsYWNlKC8oW0EtWl0rKShbQS1aXVthLXpdKS9nLCBcIiQxXyQyXCIpLnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csIFwiJDFfJDJcIikucmVwbGFjZSgvXy9nLCBcIi1cIikudG9Mb3dlckNhc2UoKSB9IGZ1bmN0aW9uIGwobikgeyByZXR1cm4gbiBpbiBJID8gSVtuXSA6IElbbl0gPSBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBuICsgXCIoXFxcXHN8JClcIikgfSBmdW5jdGlvbiBkKG4sIHQpIHsgcmV0dXJuIFwibnVtYmVyXCIgIT0gdHlwZW9mIHQgfHwgTVtzKG4pXSA/IHQgOiB0ICsgXCJweFwiIH0gZnVuY3Rpb24gaChuKSB7IHZhciB0LCBlOyByZXR1cm4gUFtuXSB8fCAodCA9IFIuY3JlYXRlRWxlbWVudChuKSwgUi5ib2R5LmFwcGVuZENoaWxkKHQpLCBlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0LCBcIlwiKS5nZXRQcm9wZXJ0eVZhbHVlKFwiZGlzcGxheVwiKSwgdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLCBcIm5vbmVcIiA9PSBlICYmIChlID0gXCJibG9ja1wiKSwgUFtuXSA9IGUpLCBQW25dIH0gZnVuY3Rpb24gcChuKSB7IHJldHVybiBcImNoaWxkcmVuXCIgaW4gbiA/IF8uY2FsbChuLmNoaWxkcmVuKSA6IE8ubWFwKG4uY2hpbGROb2RlcywgZnVuY3Rpb24gKG4pIHsgaWYgKDEgPT0gbi5ub2RlVHlwZSkgcmV0dXJuIG4gfSkgfSBmdW5jdGlvbiB2KG4sIHQpIHsgdmFyIGUsIHIgPSBuID8gbi5sZW5ndGggOiAwOyBmb3IgKGUgPSAwOyBlIDwgcjsgZSsrKXRoaXNbZV0gPSBuW2VdOyB0aGlzLmxlbmd0aCA9IHIsIHRoaXMuc2VsZWN0b3IgPSB0IHx8IFwiXCIgfSBmdW5jdGlvbiBtKG4sIHQsIGUpIHsgZm9yIChTIGluIHQpIGUgJiYgKHUodFtTXSkgfHwgbm4odFtTXSkpID8gKHUodFtTXSkgJiYgIXUobltTXSkgJiYgKG5bU10gPSB7fSksIG5uKHRbU10pICYmICFubihuW1NdKSAmJiAobltTXSA9IFtdKSwgbShuW1NdLCB0W1NdLCBlKSkgOiB0W1NdICE9PSBDICYmIChuW1NdID0gdFtTXSkgfSBmdW5jdGlvbiBnKG4sIHQpIHsgcmV0dXJuIG51bGwgPT0gdCA/IE8obikgOiBPKG4pLmZpbHRlcih0KSB9IGZ1bmN0aW9uIHkobiwgdCwgciwgaSkgeyByZXR1cm4gZSh0KSA/IHQuY2FsbChuLCByLCBpKSA6IHQgfSBmdW5jdGlvbiBiKG4sIHQsIGUpIHsgbnVsbCA9PSBlID8gbi5yZW1vdmVBdHRyaWJ1dGUodCkgOiBuLnNldEF0dHJpYnV0ZSh0LCBlKSB9IGZ1bmN0aW9uIHgobiwgdCkgeyB2YXIgZSA9IG4uY2xhc3NOYW1lIHx8IFwiXCIsIHIgPSBlICYmIGUuYmFzZVZhbCAhPT0gQzsgaWYgKHQgPT09IEMpIHJldHVybiByID8gZS5iYXNlVmFsIDogZTsgciA/IGUuYmFzZVZhbCA9IHQgOiBuLmNsYXNzTmFtZSA9IHQgfSBmdW5jdGlvbiBFKG4pIHsgdHJ5IHsgcmV0dXJuIG4gPyBcInRydWVcIiA9PSBuIHx8IFwiZmFsc2VcIiAhPSBuICYmIChcIm51bGxcIiA9PSBuID8gbnVsbCA6ICtuICsgXCJcIiA9PSBuID8gK24gOiAvXltcXFtcXHtdLy50ZXN0KG4pID8gTy5wYXJzZUpTT04obikgOiBuKSA6IG4gfSBjYXRjaCAodCkgeyByZXR1cm4gbiB9IH0gZnVuY3Rpb24gdyhuLCB0KSB7IHQobik7IGZvciAodmFyIGUgPSAwLCByID0gbi5jaGlsZE5vZGVzLmxlbmd0aDsgZSA8IHI7IGUrKyl3KG4uY2hpbGROb2Rlc1tlXSwgdCkgfSB2YXIgQywgUywgTywgVCwgaywgTiwgQSA9IFtdLCBqID0gQS5jb25jYXQsIEQgPSBBLmZpbHRlciwgXyA9IEEuc2xpY2UsIFIgPSBuLmRvY3VtZW50LCBQID0ge30sIEkgPSB7fSwgTSA9IHsgXCJjb2x1bW4tY291bnRcIjogMSwgY29sdW1uczogMSwgXCJmb250LXdlaWdodFwiOiAxLCBcImxpbmUtaGVpZ2h0XCI6IDEsIG9wYWNpdHk6IDEsIFwiei1pbmRleFwiOiAxLCB6b29tOiAxIH0sIHEgPSAvXlxccyo8KFxcdyt8ISlbXj5dKj4vLCBMID0gL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLCBVID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpLCBGID0gL14oPzpib2R5fGh0bWwpJC9pLCAkID0gLyhbQS1aXSkvZywgQiA9IFtcInZhbFwiLCBcImNzc1wiLCBcImh0bWxcIiwgXCJ0ZXh0XCIsIFwiZGF0YVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwib2Zmc2V0XCJdLCBIID0gW1wiYWZ0ZXJcIiwgXCJwcmVwZW5kXCIsIFwiYmVmb3JlXCIsIFwiYXBwZW5kXCJdLCBWID0gUi5jcmVhdGVFbGVtZW50KFwidGFibGVcIiksIHogPSBSLmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSwgWiA9IHsgdHI6IFIuY3JlYXRlRWxlbWVudChcInRib2R5XCIpLCB0Ym9keTogViwgdGhlYWQ6IFYsIHRmb290OiBWLCB0ZDogeiwgdGg6IHosIFwiKlwiOiBSLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgfSwgRyA9IC9jb21wbGV0ZXxsb2FkZWR8aW50ZXJhY3RpdmUvLCBLID0gL15bXFx3LV0qJC8sIEogPSB7fSwgVyA9IEoudG9TdHJpbmcsIFggPSB7fSwgWSA9IFIuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgUSA9IHsgdGFiaW5kZXg6IFwidGFiSW5kZXhcIiwgcmVhZG9ubHk6IFwicmVhZE9ubHlcIiwgJ2Zvcic6IFwiaHRtbEZvclwiLCAnY2xhc3MnOiBcImNsYXNzTmFtZVwiLCBtYXhsZW5ndGg6IFwibWF4TGVuZ3RoXCIsIGNlbGxzcGFjaW5nOiBcImNlbGxTcGFjaW5nXCIsIGNlbGxwYWRkaW5nOiBcImNlbGxQYWRkaW5nXCIsIHJvd3NwYW46IFwicm93U3BhblwiLCBjb2xzcGFuOiBcImNvbFNwYW5cIiwgdXNlbWFwOiBcInVzZU1hcFwiLCBmcmFtZWJvcmRlcjogXCJmcmFtZUJvcmRlclwiLCBjb250ZW50ZWRpdGFibGU6IFwiY29udGVudEVkaXRhYmxlXCIgfSwgbm4gPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChuKSB7IHJldHVybiBuIGluc3RhbmNlb2YgQXJyYXkgfTsgcmV0dXJuIFgubWF0Y2hlcyA9IGZ1bmN0aW9uIChuLCB0KSB7IGlmICghdCB8fCAhbiB8fCAxICE9PSBuLm5vZGVUeXBlKSByZXR1cm4gITE7IHZhciBlID0gbi5tYXRjaGVzIHx8IG4ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IG4ubW96TWF0Y2hlc1NlbGVjdG9yIHx8IG4ub01hdGNoZXNTZWxlY3RvciB8fCBuLm1hdGNoZXNTZWxlY3RvcjsgaWYgKGUpIHJldHVybiBlLmNhbGwobiwgdCk7IHZhciByLCBpID0gbi5wYXJlbnROb2RlLCBvID0gIWk7IHJldHVybiBvICYmIChpID0gWSkuYXBwZW5kQ2hpbGQobiksIHIgPSB+WC5xc2EoaSwgdCkuaW5kZXhPZihuKSwgbyAmJiBZLnJlbW92ZUNoaWxkKG4pLCByIH0sIGsgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gbi5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIHQgPyB0LnRvVXBwZXJDYXNlKCkgOiBcIlwiIH0pIH0sIE4gPSBmdW5jdGlvbiAobikgeyByZXR1cm4gRC5jYWxsKG4sIGZ1bmN0aW9uICh0LCBlKSB7IHJldHVybiBuLmluZGV4T2YodCkgPT0gZSB9KSB9LCBYLmZyYWdtZW50ID0gZnVuY3Rpb24gKG4sIHQsIGUpIHsgdmFyIHIsIGksIG87IHJldHVybiBMLnRlc3QobikgJiYgKHIgPSBPKFIuY3JlYXRlRWxlbWVudChSZWdFeHAuJDEpKSksIHIgfHwgKG4ucmVwbGFjZSAmJiAobiA9IG4ucmVwbGFjZShVLCBcIjwkMT48LyQyPlwiKSksIHQgPT09IEMgJiYgKHQgPSBxLnRlc3QobikgJiYgUmVnRXhwLiQxKSwgdCBpbiBaIHx8ICh0ID0gXCIqXCIpLCBvID0gWlt0XSwgby5pbm5lckhUTUwgPSBcIlwiICsgbiwgciA9IE8uZWFjaChfLmNhbGwoby5jaGlsZE5vZGVzKSwgZnVuY3Rpb24gKCkgeyBvLnJlbW92ZUNoaWxkKHRoaXMpIH0pKSwgdShlKSAmJiAoaSA9IE8ociksIE8uZWFjaChlLCBmdW5jdGlvbiAobiwgdCkgeyBCLmluZGV4T2YobikgPiAtMSA/IGlbbl0odCkgOiBpLmF0dHIobiwgdCkgfSkpLCByIH0sIFguWiA9IGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuZXcgdihuLCB0KSB9LCBYLmlzWiA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBuIGluc3RhbmNlb2YgWC5aIH0sIFguaW5pdCA9IGZ1bmN0aW9uIChuLCB0KSB7IHZhciByOyBpZiAoIW4pIHJldHVybiBYLlooKTsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIG4pIGlmIChuID0gbi50cmltKCksIFwiPFwiID09IG5bMF0gJiYgcS50ZXN0KG4pKSByID0gWC5mcmFnbWVudChuLCBSZWdFeHAuJDEsIHQpLCBuID0gbnVsbDsgZWxzZSB7IGlmICh0ICE9PSBDKSByZXR1cm4gTyh0KS5maW5kKG4pOyByID0gWC5xc2EoUiwgbikgfSBlbHNlIHsgaWYgKGUobikpIHJldHVybiBPKFIpLnJlYWR5KG4pOyBpZiAoWC5pc1oobikpIHJldHVybiBuOyBpZiAobm4obikpIHIgPSBhKG4pOyBlbHNlIGlmIChvKG4pKSByID0gW25dLCBuID0gbnVsbDsgZWxzZSBpZiAocS50ZXN0KG4pKSByID0gWC5mcmFnbWVudChuLnRyaW0oKSwgUmVnRXhwLiQxLCB0KSwgbiA9IG51bGw7IGVsc2UgeyBpZiAodCAhPT0gQykgcmV0dXJuIE8odCkuZmluZChuKTsgciA9IFgucXNhKFIsIG4pIH0gfSByZXR1cm4gWC5aKHIsIG4pIH0sIE8gPSBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gWC5pbml0KG4sIHQpIH0sIE8uZXh0ZW5kID0gZnVuY3Rpb24gKG4pIHsgdmFyIHQsIGUgPSBfLmNhbGwoYXJndW1lbnRzLCAxKTsgcmV0dXJuIFwiYm9vbGVhblwiID09IHR5cGVvZiBuICYmICh0ID0gbiwgbiA9IGUuc2hpZnQoKSksIGUuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBtKG4sIGUsIHQpIH0pLCBuIH0sIFgucXNhID0gZnVuY3Rpb24gKG4sIHQpIHsgdmFyIGUsIHIgPSBcIiNcIiA9PSB0WzBdLCBpID0gIXIgJiYgXCIuXCIgPT0gdFswXSwgbyA9IHIgfHwgaSA/IHQuc2xpY2UoMSkgOiB0LCB1ID0gSy50ZXN0KG8pOyByZXR1cm4gbi5nZXRFbGVtZW50QnlJZCAmJiB1ICYmIHIgPyAoZSA9IG4uZ2V0RWxlbWVudEJ5SWQobykpID8gW2VdIDogW10gOiAxICE9PSBuLm5vZGVUeXBlICYmIDkgIT09IG4ubm9kZVR5cGUgJiYgMTEgIT09IG4ubm9kZVR5cGUgPyBbXSA6IF8uY2FsbCh1ICYmICFyICYmIG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA/IGkgPyBuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUobykgOiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpIDogbi5xdWVyeVNlbGVjdG9yQWxsKHQpKSB9LCBPLmNvbnRhaW5zID0gUi5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMgPyBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbiAhPT0gdCAmJiBuLmNvbnRhaW5zKHQpIH0gOiBmdW5jdGlvbiAobiwgdCkgeyBmb3IgKDsgdCAmJiAodCA9IHQucGFyZW50Tm9kZSk7KWlmICh0ID09PSBuKSByZXR1cm4gITA7IHJldHVybiAhMSB9LCBPLnR5cGUgPSB0LCBPLmlzRnVuY3Rpb24gPSBlLCBPLmlzV2luZG93ID0gciwgTy5pc0FycmF5ID0gbm4sIE8uaXNQbGFpbk9iamVjdCA9IHUsIE8uaXNFbXB0eU9iamVjdCA9IGZ1bmN0aW9uIChuKSB7IHZhciB0OyBmb3IgKHQgaW4gbikgcmV0dXJuICExOyByZXR1cm4gITAgfSwgTy5pc051bWVyaWMgPSBmdW5jdGlvbiAobikgeyB2YXIgdCA9IE51bWJlcihuKSwgZSA9IHZvaWQgMCA9PT0gbiA/IFwidW5kZWZpbmVkXCIgOiBGYyhuKTsgcmV0dXJuIG51bGwgIT0gbiAmJiBcImJvb2xlYW5cIiAhPSBlICYmIChcInN0cmluZ1wiICE9IGUgfHwgbi5sZW5ndGgpICYmICFpc05hTih0KSAmJiBpc0Zpbml0ZSh0KSB8fCAhMSB9LCBPLmluQXJyYXkgPSBmdW5jdGlvbiAobiwgdCwgZSkgeyByZXR1cm4gQS5pbmRleE9mLmNhbGwodCwgbiwgZSkgfSwgTy5jYW1lbENhc2UgPSBrLCBPLnRyaW0gPSBmdW5jdGlvbiAobikgeyByZXR1cm4gbnVsbCA9PSBuID8gXCJcIiA6IFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKG4pIH0sIE8udXVpZCA9IDAsIE8uc3VwcG9ydCA9IHt9LCBPLmV4cHIgPSB7fSwgTy5ub29wID0gZnVuY3Rpb24gKCkgeyB9LCBPLm1hcCA9IGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlLCByLCBpLCBvID0gW107IGlmIChjKG4pKSBmb3IgKHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKyludWxsICE9IChlID0gdChuW3JdLCByKSkgJiYgby5wdXNoKGUpOyBlbHNlIGZvciAoaSBpbiBuKSBudWxsICE9IChlID0gdChuW2ldLCBpKSkgJiYgby5wdXNoKGUpOyByZXR1cm4gZihvKSB9LCBPLmVhY2ggPSBmdW5jdGlvbiAobiwgdCkgeyB2YXIgZSwgcjsgaWYgKGMobikpIHsgZm9yIChlID0gMDsgZSA8IG4ubGVuZ3RoOyBlKyspaWYgKCExID09PSB0LmNhbGwobltlXSwgZSwgbltlXSkpIHJldHVybiBuIH0gZWxzZSBmb3IgKHIgaW4gbikgaWYgKCExID09PSB0LmNhbGwobltyXSwgciwgbltyXSkpIHJldHVybiBuOyByZXR1cm4gbiB9LCBPLmdyZXAgPSBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gRC5jYWxsKG4sIHQpIH0sIG4uSlNPTiAmJiAoTy5wYXJzZUpTT04gPSBKU09OLnBhcnNlKSwgTy5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvclwiLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24gKG4sIHQpIHsgSltcIltvYmplY3QgXCIgKyB0ICsgXCJdXCJdID0gdC50b0xvd2VyQ2FzZSgpIH0pLCBPLmZuID0geyBjb25zdHJ1Y3RvcjogWC5aLCBsZW5ndGg6IDAsIGZvckVhY2g6IEEuZm9yRWFjaCwgcmVkdWNlOiBBLnJlZHVjZSwgcHVzaDogQS5wdXNoLCBzb3J0OiBBLnNvcnQsIHNwbGljZTogQS5zcGxpY2UsIGluZGV4T2Y6IEEuaW5kZXhPZiwgY29uY2F0OiBmdW5jdGlvbiAoKSB7IHZhciBuLCB0LCBlID0gW107IGZvciAobiA9IDA7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspdCA9IGFyZ3VtZW50c1tuXSwgZVtuXSA9IFguaXNaKHQpID8gdC50b0FycmF5KCkgOiB0OyByZXR1cm4gai5hcHBseShYLmlzWih0aGlzKSA/IHRoaXMudG9BcnJheSgpIDogdGhpcywgZSkgfSwgbWFwOiBmdW5jdGlvbiAobikgeyByZXR1cm4gTyhPLm1hcCh0aGlzLCBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gbi5jYWxsKHQsIGUsIHQpIH0pKSB9LCBzbGljZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gTyhfLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIH0sIHJlYWR5OiBmdW5jdGlvbiAobikgeyByZXR1cm4gRy50ZXN0KFIucmVhZHlTdGF0ZSkgJiYgUi5ib2R5ID8gbihPKSA6IFIuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkgeyBuKE8pIH0sICExKSwgdGhpcyB9LCBnZXQ6IGZ1bmN0aW9uIChuKSB7IHJldHVybiBuID09PSBDID8gXy5jYWxsKHRoaXMpIDogdGhpc1tuID49IDAgPyBuIDogbiArIHRoaXMubGVuZ3RoXSB9LCB0b0FycmF5OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdldCgpIH0sIHNpemU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubGVuZ3RoIH0sIHJlbW92ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsgbnVsbCAhPSB0aGlzLnBhcmVudE5vZGUgJiYgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpIH0pIH0sIGVhY2g6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIHQsIGUgPSB0aGlzLmxlbmd0aCwgciA9IDA7IHIgPCBlICYmICh0ID0gdGhpc1tyXSwgITEgIT09IG4uY2FsbCh0LCByLCB0KSk7KXIrKzsgcmV0dXJuIHRoaXMgfSwgZmlsdGVyOiBmdW5jdGlvbiAobikgeyByZXR1cm4gZShuKSA/IHRoaXMubm90KHRoaXMubm90KG4pKSA6IE8oRC5jYWxsKHRoaXMsIGZ1bmN0aW9uICh0KSB7IHJldHVybiBYLm1hdGNoZXModCwgbikgfSkpIH0sIGFkZDogZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIE8oTih0aGlzLmNvbmNhdChPKG4sIHQpKSkpIH0sIGlzOiBmdW5jdGlvbiAobikgeyByZXR1cm4gdGhpcy5sZW5ndGggPiAwICYmIFgubWF0Y2hlcyh0aGlzWzBdLCBuKSB9LCBub3Q6IGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gW107IGlmIChlKG4pICYmIG4uY2FsbCAhPT0gQykgdGhpcy5lYWNoKGZ1bmN0aW9uIChlKSB7IG4uY2FsbCh0aGlzLCBlKSB8fCB0LnB1c2godGhpcykgfSk7IGVsc2UgeyB2YXIgciA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIG4gPyB0aGlzLmZpbHRlcihuKSA6IGMobikgJiYgZShuLml0ZW0pID8gXy5jYWxsKG4pIDogTyhuKTsgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IHIuaW5kZXhPZihuKSA8IDAgJiYgdC5wdXNoKG4pIH0pIH0gcmV0dXJuIE8odCkgfSwgaGFzOiBmdW5jdGlvbiAobikgeyByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gbyhuKSA/IE8uY29udGFpbnModGhpcywgbikgOiBPKHRoaXMpLmZpbmQobikuc2l6ZSgpIH0pIH0sIGVxOiBmdW5jdGlvbiAobikgeyByZXR1cm4gLTEgPT09IG4gPyB0aGlzLnNsaWNlKG4pIDogdGhpcy5zbGljZShuLCArbiArIDEpIH0sIGZpcnN0OiBmdW5jdGlvbiAoKSB7IHZhciBuID0gdGhpc1swXTsgcmV0dXJuIG4gJiYgIW8obikgPyBuIDogTyhuKSB9LCBsYXN0OiBmdW5jdGlvbiAoKSB7IHZhciBuID0gdGhpc1t0aGlzLmxlbmd0aCAtIDFdOyByZXR1cm4gbiAmJiAhbyhuKSA/IG4gOiBPKG4pIH0sIGZpbmQ6IGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gdGhpczsgcmV0dXJuIG4gPyBcIm9iamVjdFwiID09ICh2b2lkIDAgPT09IG4gPyBcInVuZGVmaW5lZFwiIDogRmMobikpID8gTyhuKS5maWx0ZXIoZnVuY3Rpb24gKCkgeyB2YXIgbiA9IHRoaXM7IHJldHVybiBBLnNvbWUuY2FsbCh0LCBmdW5jdGlvbiAodCkgeyByZXR1cm4gTy5jb250YWlucyh0LCBuKSB9KSB9KSA6IDEgPT0gdGhpcy5sZW5ndGggPyBPKFgucXNhKHRoaXNbMF0sIG4pKSA6IHRoaXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFgucXNhKHRoaXMsIG4pIH0pIDogTygpIH0sIGNsb3Nlc3Q6IGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlID0gW10sIHIgPSBcIm9iamVjdFwiID09ICh2b2lkIDAgPT09IG4gPyBcInVuZGVmaW5lZFwiIDogRmMobikpICYmIE8obik7IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKG8sIHUpIHsgZm9yICg7IHUgJiYgIShyID8gci5pbmRleE9mKHUpID49IDAgOiBYLm1hdGNoZXModSwgbikpOyl1ID0gdSAhPT0gdCAmJiAhaSh1KSAmJiB1LnBhcmVudE5vZGU7IHUgJiYgZS5pbmRleE9mKHUpIDwgMCAmJiBlLnB1c2godSkgfSksIE8oZSkgfSwgcGFyZW50czogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgdCA9IFtdLCBlID0gdGhpczsgZS5sZW5ndGggPiAwOyllID0gTy5tYXAoZSwgZnVuY3Rpb24gKG4pIHsgaWYgKChuID0gbi5wYXJlbnROb2RlKSAmJiAhaShuKSAmJiB0LmluZGV4T2YobikgPCAwKSByZXR1cm4gdC5wdXNoKG4pLCBuIH0pOyByZXR1cm4gZyh0LCBuKSB9LCBwYXJlbnQ6IGZ1bmN0aW9uIChuKSB7IHJldHVybiBnKE4odGhpcy5wbHVjayhcInBhcmVudE5vZGVcIikpLCBuKSB9LCBjaGlsZHJlbjogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGcodGhpcy5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gcCh0aGlzKSB9KSwgbikgfSwgY29udGVudHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuY29udGVudERvY3VtZW50IHx8IF8uY2FsbCh0aGlzLmNoaWxkTm9kZXMpIH0pIH0sIHNpYmxpbmdzOiBmdW5jdGlvbiAobikgeyByZXR1cm4gZyh0aGlzLm1hcChmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gRC5jYWxsKHAodC5wYXJlbnROb2RlKSwgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gIT09IHQgfSkgfSksIG4pIH0sIGVtcHR5OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLmlubmVySFRNTCA9IFwiXCIgfSkgfSwgcGx1Y2s6IGZ1bmN0aW9uIChuKSB7IHJldHVybiBPLm1hcCh0aGlzLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gdFtuXSB9KSB9LCBzaG93OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgeyBcIm5vbmVcIiA9PSB0aGlzLnN0eWxlLmRpc3BsYXkgJiYgKHRoaXMuc3R5bGUuZGlzcGxheSA9IFwiXCIpLCBcIm5vbmVcIiA9PSBnZXRDb21wdXRlZFN0eWxlKHRoaXMsIFwiXCIpLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpICYmICh0aGlzLnN0eWxlLmRpc3BsYXkgPSBoKHRoaXMubm9kZU5hbWUpKSB9KSB9LCByZXBsYWNlV2l0aDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRoaXMuYmVmb3JlKG4pLnJlbW92ZSgpIH0sIHdyYXA6IGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gZShuKTsgaWYgKHRoaXNbMF0gJiYgIXQpIHZhciByID0gTyhuKS5nZXQoMCksIGkgPSByLnBhcmVudE5vZGUgfHwgdGhpcy5sZW5ndGggPiAxOyByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChlKSB7IE8odGhpcykud3JhcEFsbCh0ID8gbi5jYWxsKHRoaXMsIGUpIDogaSA/IHIuY2xvbmVOb2RlKCEwKSA6IHIpIH0pIH0sIHdyYXBBbGw6IGZ1bmN0aW9uIChuKSB7IGlmICh0aGlzWzBdKSB7IE8odGhpc1swXSkuYmVmb3JlKG4gPSBPKG4pKTsgZm9yICh2YXIgdDsgKHQgPSBuLmNoaWxkcmVuKCkpLmxlbmd0aDspbiA9IHQuZmlyc3QoKTsgTyhuKS5hcHBlbmQodGhpcykgfSByZXR1cm4gdGhpcyB9LCB3cmFwSW5uZXI6IGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gZShuKTsgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoZSkgeyB2YXIgciA9IE8odGhpcyksIGkgPSByLmNvbnRlbnRzKCksIG8gPSB0ID8gbi5jYWxsKHRoaXMsIGUpIDogbjsgaS5sZW5ndGggPyBpLndyYXBBbGwobykgOiByLmFwcGVuZChvKSB9KSB9LCB1bndyYXA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbiAoKSB7IE8odGhpcykucmVwbGFjZVdpdGgoTyh0aGlzKS5jaGlsZHJlbigpKSB9KSwgdGhpcyB9LCBjbG9uZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5jbG9uZU5vZGUoITApIH0pIH0sIGhpZGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIikgfSwgdG9nZ2xlOiBmdW5jdGlvbiAobikgeyByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsgdmFyIHQgPSBPKHRoaXMpOyAobiA9PT0gQyA/IFwibm9uZVwiID09IHQuY3NzKFwiZGlzcGxheVwiKSA6IG4pID8gdC5zaG93KCkgOiB0LmhpZGUoKSB9KSB9LCBwcmV2OiBmdW5jdGlvbiAobikgeyByZXR1cm4gTyh0aGlzLnBsdWNrKFwicHJldmlvdXNFbGVtZW50U2libGluZ1wiKSkuZmlsdGVyKG4gfHwgXCIqXCIpIH0sIG5leHQ6IGZ1bmN0aW9uIChuKSB7IHJldHVybiBPKHRoaXMucGx1Y2soXCJuZXh0RWxlbWVudFNpYmxpbmdcIikpLmZpbHRlcihuIHx8IFwiKlwiKSB9LCBodG1sOiBmdW5jdGlvbiAobikgeyByZXR1cm4gMCBpbiBhcmd1bWVudHMgPyB0aGlzLmVhY2goZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSB0aGlzLmlubmVySFRNTDsgTyh0aGlzKS5lbXB0eSgpLmFwcGVuZCh5KHRoaXMsIG4sIHQsIGUpKSB9KSA6IDAgaW4gdGhpcyA/IHRoaXNbMF0uaW5uZXJIVE1MIDogbnVsbCB9LCB0ZXh0OiBmdW5jdGlvbiAobikgeyByZXR1cm4gMCBpbiBhcmd1bWVudHMgPyB0aGlzLmVhY2goZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSB5KHRoaXMsIG4sIHQsIHRoaXMudGV4dENvbnRlbnQpOyB0aGlzLnRleHRDb250ZW50ID0gbnVsbCA9PSBlID8gXCJcIiA6IFwiXCIgKyBlIH0pIDogMCBpbiB0aGlzID8gdGhpcy5wbHVjayhcInRleHRDb250ZW50XCIpLmpvaW4oXCJcIikgOiBudWxsIH0sIGF0dHI6IGZ1bmN0aW9uIChuLCB0KSB7IHZhciBlOyByZXR1cm4gXCJzdHJpbmdcIiAhPSB0eXBlb2YgbiB8fCAxIGluIGFyZ3VtZW50cyA/IHRoaXMuZWFjaChmdW5jdGlvbiAoZSkgeyBpZiAoMSA9PT0gdGhpcy5ub2RlVHlwZSkgaWYgKG8obikpIGZvciAoUyBpbiBuKSBiKHRoaXMsIFMsIG5bU10pOyBlbHNlIGIodGhpcywgbiwgeSh0aGlzLCB0LCBlLCB0aGlzLmdldEF0dHJpYnV0ZShuKSkpIH0pIDogMCBpbiB0aGlzICYmIDEgPT0gdGhpc1swXS5ub2RlVHlwZSAmJiBudWxsICE9IChlID0gdGhpc1swXS5nZXRBdHRyaWJ1dGUobikpID8gZSA6IEMgfSwgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IDEgPT09IHRoaXMubm9kZVR5cGUgJiYgbi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbiAobikgeyBiKHRoaXMsIG4pIH0sIHRoaXMpIH0pIH0sIHByb3A6IGZ1bmN0aW9uIChuLCB0KSB7IHJldHVybiBuID0gUVtuXSB8fCBuLCAxIGluIGFyZ3VtZW50cyA/IHRoaXMuZWFjaChmdW5jdGlvbiAoZSkgeyB0aGlzW25dID0geSh0aGlzLCB0LCBlLCB0aGlzW25dKSB9KSA6IHRoaXNbMF0gJiYgdGhpc1swXVtuXSB9LCByZW1vdmVQcm9wOiBmdW5jdGlvbiAobikgeyByZXR1cm4gbiA9IFFbbl0gfHwgbiwgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsgZGVsZXRlIHRoaXNbbl0gfSkgfSwgZGF0YTogZnVuY3Rpb24gKG4sIHQpIHsgdmFyIGUgPSBcImRhdGEtXCIgKyBuLnJlcGxhY2UoJCwgXCItJDFcIikudG9Mb3dlckNhc2UoKSwgciA9IDEgaW4gYXJndW1lbnRzID8gdGhpcy5hdHRyKGUsIHQpIDogdGhpcy5hdHRyKGUpOyByZXR1cm4gbnVsbCAhPT0gciA/IEUocikgOiBDIH0sIHZhbDogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIDAgaW4gYXJndW1lbnRzID8gKG51bGwgPT0gbiAmJiAobiA9IFwiXCIpLCB0aGlzLmVhY2goZnVuY3Rpb24gKHQpIHsgdGhpcy52YWx1ZSA9IHkodGhpcywgbiwgdCwgdGhpcy52YWx1ZSkgfSkpIDogdGhpc1swXSAmJiAodGhpc1swXS5tdWx0aXBsZSA/IE8odGhpc1swXSkuZmluZChcIm9wdGlvblwiKS5maWx0ZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5zZWxlY3RlZCB9KS5wbHVjayhcInZhbHVlXCIpIDogdGhpc1swXS52YWx1ZSkgfSwgb2Zmc2V0OiBmdW5jdGlvbiAodCkgeyBpZiAodCkgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAobikgeyB2YXIgZSA9IE8odGhpcyksIHIgPSB5KHRoaXMsIHQsIG4sIGUub2Zmc2V0KCkpLCBpID0gZS5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKSwgbyA9IHsgdG9wOiByLnRvcCAtIGkudG9wLCBsZWZ0OiByLmxlZnQgLSBpLmxlZnQgfTsgXCJzdGF0aWNcIiA9PSBlLmNzcyhcInBvc2l0aW9uXCIpICYmIChvLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiKSwgZS5jc3MobykgfSk7IGlmICghdGhpcy5sZW5ndGgpIHJldHVybiBudWxsOyBpZiAoUi5kb2N1bWVudEVsZW1lbnQgIT09IHRoaXNbMF0gJiYgIU8uY29udGFpbnMoUi5kb2N1bWVudEVsZW1lbnQsIHRoaXNbMF0pKSByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTsgdmFyIGUgPSB0aGlzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyByZXR1cm4geyBsZWZ0OiBlLmxlZnQgKyBuLnBhZ2VYT2Zmc2V0LCB0b3A6IGUudG9wICsgbi5wYWdlWU9mZnNldCwgd2lkdGg6IE1hdGgucm91bmQoZS53aWR0aCksIGhlaWdodDogTWF0aC5yb3VuZChlLmhlaWdodCkgfSB9LCBjc3M6IGZ1bmN0aW9uIChuLCBlKSB7IGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyB2YXIgciA9IHRoaXNbMF07IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBuKSB7IGlmICghcikgcmV0dXJuOyByZXR1cm4gci5zdHlsZVtrKG4pXSB8fCBnZXRDb21wdXRlZFN0eWxlKHIsIFwiXCIpLmdldFByb3BlcnR5VmFsdWUobikgfSBpZiAobm4obikpIHsgaWYgKCFyKSByZXR1cm47IHZhciBpID0ge30sIG8gPSBnZXRDb21wdXRlZFN0eWxlKHIsIFwiXCIpOyByZXR1cm4gTy5lYWNoKG4sIGZ1bmN0aW9uIChuLCB0KSB7IGlbdF0gPSByLnN0eWxlW2sodCldIHx8IG8uZ2V0UHJvcGVydHlWYWx1ZSh0KSB9KSwgaSB9IH0gdmFyIHUgPSBcIlwiOyBpZiAoXCJzdHJpbmdcIiA9PSB0KG4pKSBlIHx8IDAgPT09IGUgPyB1ID0gcyhuKSArIFwiOlwiICsgZChuLCBlKSA6IHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkocyhuKSkgfSk7IGVsc2UgZm9yIChTIGluIG4pIG5bU10gfHwgMCA9PT0gbltTXSA/IHUgKz0gcyhTKSArIFwiOlwiICsgZChTLCBuW1NdKSArIFwiO1wiIDogdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShzKFMpKSB9KTsgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuc3R5bGUuY3NzVGV4dCArPSBcIjtcIiArIHUgfSkgfSwgaW5kZXg6IGZ1bmN0aW9uIChuKSB7IHJldHVybiBuID8gdGhpcy5pbmRleE9mKE8obilbMF0pIDogdGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4T2YodGhpc1swXSkgfSwgaGFzQ2xhc3M6IGZ1bmN0aW9uIChuKSB7IHJldHVybiAhIW4gJiYgQS5zb21lLmNhbGwodGhpcywgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRoaXMudGVzdCh4KG4pKSB9LCBsKG4pKSB9LCBhZGRDbGFzczogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gPyB0aGlzLmVhY2goZnVuY3Rpb24gKHQpIHsgaWYgKFwiY2xhc3NOYW1lXCIgaW4gdGhpcykgeyBUID0gW107IHZhciBlID0geCh0aGlzKTsgeSh0aGlzLCBuLCB0LCBlKS5zcGxpdCgvXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IE8odGhpcykuaGFzQ2xhc3MobikgfHwgVC5wdXNoKG4pIH0sIHRoaXMpLCBULmxlbmd0aCAmJiB4KHRoaXMsIGUgKyAoZSA/IFwiIFwiIDogXCJcIikgKyBULmpvaW4oXCIgXCIpKSB9IH0pIDogdGhpcyB9LCByZW1vdmVDbGFzczogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodCkgeyBpZiAoXCJjbGFzc05hbWVcIiBpbiB0aGlzKSB7IGlmIChuID09PSBDKSByZXR1cm4geCh0aGlzLCBcIlwiKTsgVCA9IHgodGhpcyksIHkodGhpcywgbiwgdCwgVCkuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbiAobikgeyBUID0gVC5yZXBsYWNlKGwobiksIFwiIFwiKSB9KSwgeCh0aGlzLCBULnRyaW0oKSkgfSB9KSB9LCB0b2dnbGVDbGFzczogZnVuY3Rpb24gKG4sIHQpIHsgcmV0dXJuIG4gPyB0aGlzLmVhY2goZnVuY3Rpb24gKGUpIHsgdmFyIHIgPSBPKHRoaXMpOyB5KHRoaXMsIG4sIGUsIHgodGhpcykpLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgKHQgPT09IEMgPyAhci5oYXNDbGFzcyhuKSA6IHQpID8gci5hZGRDbGFzcyhuKSA6IHIucmVtb3ZlQ2xhc3MobikgfSkgfSkgOiB0aGlzIH0sIHNjcm9sbFRvcDogZnVuY3Rpb24gKG4pIHsgaWYgKHRoaXMubGVuZ3RoKSB7IHZhciB0ID0gXCJzY3JvbGxUb3BcIiBpbiB0aGlzWzBdOyByZXR1cm4gbiA9PT0gQyA/IHQgPyB0aGlzWzBdLnNjcm9sbFRvcCA6IHRoaXNbMF0ucGFnZVlPZmZzZXQgOiB0aGlzLmVhY2godCA/IGZ1bmN0aW9uICgpIHsgdGhpcy5zY3JvbGxUb3AgPSBuIH0gOiBmdW5jdGlvbiAoKSB7IHRoaXMuc2Nyb2xsVG8odGhpcy5zY3JvbGxYLCBuKSB9KSB9IH0sIHNjcm9sbExlZnQ6IGZ1bmN0aW9uIChuKSB7IGlmICh0aGlzLmxlbmd0aCkgeyB2YXIgdCA9IFwic2Nyb2xsTGVmdFwiIGluIHRoaXNbMF07IHJldHVybiBuID09PSBDID8gdCA/IHRoaXNbMF0uc2Nyb2xsTGVmdCA6IHRoaXNbMF0ucGFnZVhPZmZzZXQgOiB0aGlzLmVhY2godCA/IGZ1bmN0aW9uICgpIHsgdGhpcy5zY3JvbGxMZWZ0ID0gbiB9IDogZnVuY3Rpb24gKCkgeyB0aGlzLnNjcm9sbFRvKG4sIHRoaXMuc2Nyb2xsWSkgfSkgfSB9LCBwb3NpdGlvbjogZnVuY3Rpb24gKCkgeyBpZiAodGhpcy5sZW5ndGgpIHsgdmFyIG4gPSB0aGlzWzBdLCB0ID0gdGhpcy5vZmZzZXRQYXJlbnQoKSwgZSA9IHRoaXMub2Zmc2V0KCksIHIgPSBGLnRlc3QodFswXS5ub2RlTmFtZSkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogdC5vZmZzZXQoKTsgcmV0dXJuIGUudG9wIC09IHBhcnNlRmxvYXQoTyhuKS5jc3MoXCJtYXJnaW4tdG9wXCIpKSB8fCAwLCBlLmxlZnQgLT0gcGFyc2VGbG9hdChPKG4pLmNzcyhcIm1hcmdpbi1sZWZ0XCIpKSB8fCAwLCByLnRvcCArPSBwYXJzZUZsb2F0KE8odFswXSkuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSkgfHwgMCwgci5sZWZ0ICs9IHBhcnNlRmxvYXQoTyh0WzBdKS5jc3MoXCJib3JkZXItbGVmdC13aWR0aFwiKSkgfHwgMCwgeyB0b3A6IGUudG9wIC0gci50b3AsIGxlZnQ6IGUubGVmdCAtIHIubGVmdCB9IH0gfSwgb2Zmc2V0UGFyZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7IGZvciAodmFyIG4gPSB0aGlzLm9mZnNldFBhcmVudCB8fCBSLmJvZHk7IG4gJiYgIUYudGVzdChuLm5vZGVOYW1lKSAmJiBcInN0YXRpY1wiID09IE8obikuY3NzKFwicG9zaXRpb25cIik7KW4gPSBuLm9mZnNldFBhcmVudDsgcmV0dXJuIG4gfSkgfSB9LCBPLmZuLmRldGFjaCA9IE8uZm4ucmVtb3ZlLCBbXCJ3aWR0aFwiLCBcImhlaWdodFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gbi5yZXBsYWNlKC8uLywgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG5bMF0udG9VcHBlckNhc2UoKSB9KTsgTy5mbltuXSA9IGZ1bmN0aW9uIChlKSB7IHZhciBvLCB1ID0gdGhpc1swXTsgcmV0dXJuIGUgPT09IEMgPyByKHUpID8gdVtcImlubmVyXCIgKyB0XSA6IGkodSkgPyB1LmRvY3VtZW50RWxlbWVudFtcInNjcm9sbFwiICsgdF0gOiAobyA9IHRoaXMub2Zmc2V0KCkpICYmIG9bbl0gOiB0aGlzLmVhY2goZnVuY3Rpb24gKHQpIHsgdSA9IE8odGhpcyksIHUuY3NzKG4sIHkodGhpcywgZSwgdCwgdVtuXSgpKSkgfSkgfSB9KSwgSC5mb3JFYWNoKGZ1bmN0aW9uIChlLCByKSB7IHZhciBpID0gciAlIDI7IE8uZm5bZV0gPSBmdW5jdGlvbiAoKSB7IHZhciBlLCBvLCB1ID0gTy5tYXAoYXJndW1lbnRzLCBmdW5jdGlvbiAobikgeyB2YXIgciA9IFtdOyByZXR1cm4gZSA9IHQobiksIFwiYXJyYXlcIiA9PSBlID8gKG4uZm9yRWFjaChmdW5jdGlvbiAobikgeyByZXR1cm4gbi5ub2RlVHlwZSAhPT0gQyA/IHIucHVzaChuKSA6IE8uemVwdG8uaXNaKG4pID8gciA9IHIuY29uY2F0KG4uZ2V0KCkpIDogdm9pZCAociA9IHIuY29uY2F0KFguZnJhZ21lbnQobikpKSB9KSwgcikgOiBcIm9iamVjdFwiID09IGUgfHwgbnVsbCA9PSBuID8gbiA6IFguZnJhZ21lbnQobikgfSksIGMgPSB0aGlzLmxlbmd0aCA+IDE7IHJldHVybiB1Lmxlbmd0aCA8IDEgPyB0aGlzIDogdGhpcy5lYWNoKGZ1bmN0aW9uICh0LCBlKSB7IG8gPSBpID8gZSA6IGUucGFyZW50Tm9kZSwgZSA9IDAgPT0gciA/IGUubmV4dFNpYmxpbmcgOiAxID09IHIgPyBlLmZpcnN0Q2hpbGQgOiAyID09IHIgPyBlIDogbnVsbDsgdmFyIGEgPSBPLmNvbnRhaW5zKFIuZG9jdW1lbnRFbGVtZW50LCBvKSwgZiA9IC9eKHRleHR8YXBwbGljYXRpb24pXFwvKGphdmFzY3JpcHR8ZWNtYXNjcmlwdCkkLzsgdS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IGlmIChjKSB0ID0gdC5jbG9uZU5vZGUoITApOyBlbHNlIGlmICghbykgcmV0dXJuIE8odCkucmVtb3ZlKCk7IG8uaW5zZXJ0QmVmb3JlKHQsIGUpLCBhICYmIHcodCwgZnVuY3Rpb24gKHQpIHsgaWYgKG51bGwgIT0gdC5ub2RlTmFtZSAmJiBcIlNDUklQVFwiID09PSB0Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgJiYgKCF0LnR5cGUgfHwgZi50ZXN0KHQudHlwZS50b0xvd2VyQ2FzZSgpKSkgJiYgIXQuc3JjKSB7IHZhciBlID0gdC5vd25lckRvY3VtZW50ID8gdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogbjsgZS5ldmFsLmNhbGwoZSwgdC5pbm5lckhUTUwpIH0gfSkgfSkgfSkgfSwgTy5mbltpID8gZSArIFwiVG9cIiA6IFwiaW5zZXJ0XCIgKyAociA/IFwiQmVmb3JlXCIgOiBcIkFmdGVyXCIpXSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBPKG4pW2VdKHRoaXMpLCB0aGlzIH0gfSksIFguWi5wcm90b3R5cGUgPSB2LnByb3RvdHlwZSA9IE8uZm4sIFgudW5pcSA9IE4sIFguZGVzZXJpYWxpemVWYWx1ZSA9IEUsIE8uemVwdG8gPSBYLCBPIH0oKTsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGUobikgeyByZXR1cm4gbi5femlkIHx8IChuLl96aWQgPSBoKyspIH0gZnVuY3Rpb24gcihuLCB0LCByLCB1KSB7IGlmICh0ID0gaSh0KSwgdC5ucykgdmFyIGMgPSBvKHQubnMpOyByZXR1cm4gKGdbZShuKV0gfHwgW10pLmZpbHRlcihmdW5jdGlvbiAobikgeyByZXR1cm4gbiAmJiAoIXQuZSB8fCBuLmUgPT0gdC5lKSAmJiAoIXQubnMgfHwgYy50ZXN0KG4ubnMpKSAmJiAoIXIgfHwgZShuLmZuKSA9PT0gZShyKSkgJiYgKCF1IHx8IG4uc2VsID09IHUpIH0pIH0gZnVuY3Rpb24gaShuKSB7IHZhciB0ID0gKFwiXCIgKyBuKS5zcGxpdChcIi5cIik7IHJldHVybiB7IGU6IHRbMF0sIG5zOiB0LnNsaWNlKDEpLnNvcnQoKS5qb2luKFwiIFwiKSB9IH0gZnVuY3Rpb24gbyhuKSB7IHJldHVybiBuZXcgUmVnRXhwKFwiKD86XnwgKVwiICsgbi5yZXBsYWNlKFwiIFwiLCBcIiAuKiA/XCIpICsgXCIoPzogfCQpXCIpIH0gZnVuY3Rpb24gdShuLCB0KSB7IHJldHVybiBuLmRlbCAmJiAhYiAmJiBuLmUgaW4geCB8fCAhIXQgfSBmdW5jdGlvbiBjKG4pIHsgcmV0dXJuIEVbbl0gfHwgYiAmJiB4W25dIHx8IG4gfSBmdW5jdGlvbiBhKG4sIHIsIG8sIGEsIGYsIGwsIGgpIHsgdmFyIHAgPSBlKG4pLCB2ID0gZ1twXSB8fCAoZ1twXSA9IFtdKTsgci5zcGxpdCgvXFxzLykuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBpZiAoXCJyZWFkeVwiID09IGUpIHJldHVybiB0KGRvY3VtZW50KS5yZWFkeShvKTsgdmFyIHIgPSBpKGUpOyByLmZuID0gbywgci5zZWwgPSBmLCByLmUgaW4gRSAmJiAobyA9IGZ1bmN0aW9uIChuKSB7IHZhciBlID0gbi5yZWxhdGVkVGFyZ2V0OyBpZiAoIWUgfHwgZSAhPT0gdGhpcyAmJiAhdC5jb250YWlucyh0aGlzLCBlKSkgcmV0dXJuIHIuZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSB9KSwgci5kZWwgPSBsOyB2YXIgcCA9IGwgfHwgbzsgci5wcm94eSA9IGZ1bmN0aW9uICh0KSB7IGlmICh0ID0gcyh0KSwgIXQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkgeyB0LmRhdGEgPSBhOyB2YXIgZSA9IHAuYXBwbHkobiwgdC5fYXJncyA9PSBkID8gW3RdIDogW3RdLmNvbmNhdCh0Ll9hcmdzKSk7IHJldHVybiAhMSA9PT0gZSAmJiAodC5wcmV2ZW50RGVmYXVsdCgpLCB0LnN0b3BQcm9wYWdhdGlvbigpKSwgZSB9IH0sIHIuaSA9IHYubGVuZ3RoLCB2LnB1c2gociksIFwiYWRkRXZlbnRMaXN0ZW5lclwiIGluIG4gJiYgbi5hZGRFdmVudExpc3RlbmVyKGMoci5lKSwgci5wcm94eSwgdShyLCBoKSkgfSkgfSBmdW5jdGlvbiBmKG4sIHQsIGksIG8sIGEpIHsgdmFyIGYgPSBlKG4pOyAodCB8fCBcIlwiKS5zcGxpdCgvXFxzLykuZm9yRWFjaChmdW5jdGlvbiAodCkgeyByKG4sIHQsIGksIG8pLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgZGVsZXRlIGdbZl1bdC5pXSwgXCJyZW1vdmVFdmVudExpc3RlbmVyXCIgaW4gbiAmJiBuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyh0LmUpLCB0LnByb3h5LCB1KHQsIGEpKSB9KSB9KSB9IGZ1bmN0aW9uIHMobiwgZSkgeyBpZiAoZSB8fCAhbi5pc0RlZmF1bHRQcmV2ZW50ZWQpIHsgZSB8fCAoZSA9IG4pLCB0LmVhY2goTywgZnVuY3Rpb24gKHQsIHIpIHsgdmFyIGkgPSBlW3RdOyBuW3RdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1tyXSA9IHcsIGkgJiYgaS5hcHBseShlLCBhcmd1bWVudHMpIH0sIG5bcl0gPSBDIH0pOyB0cnkgeyBuLnRpbWVTdGFtcCB8fCAobi50aW1lU3RhbXAgPSAobmV3IERhdGUpLmdldFRpbWUoKSkgfSBjYXRjaCAobikgeyB9IChlLmRlZmF1bHRQcmV2ZW50ZWQgIT09IGQgPyBlLmRlZmF1bHRQcmV2ZW50ZWQgOiBcInJldHVyblZhbHVlXCIgaW4gZSA/ICExID09PSBlLnJldHVyblZhbHVlIDogZS5nZXRQcmV2ZW50RGVmYXVsdCAmJiBlLmdldFByZXZlbnREZWZhdWx0KCkpICYmIChuLmlzRGVmYXVsdFByZXZlbnRlZCA9IHcpIH0gcmV0dXJuIG4gfSBmdW5jdGlvbiBsKG4pIHsgdmFyIHQsIGUgPSB7IG9yaWdpbmFsRXZlbnQ6IG4gfTsgZm9yICh0IGluIG4pIFMudGVzdCh0KSB8fCBuW3RdID09PSBkIHx8IChlW3RdID0gblt0XSk7IHJldHVybiBzKGUsIG4pIH0gdmFyIGQsIGggPSAxLCBwID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLCB2ID0gdC5pc0Z1bmN0aW9uLCBtID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4gfSwgZyA9IHt9LCB5ID0ge30sIGIgPSBcIm9uZm9jdXNpblwiIGluIG4sIHggPSB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIEUgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxyXG4gICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogXCJtb3VzZW91dFwiXHJcbiAgICAgICAgICAgIH07IHkuY2xpY2sgPSB5Lm1vdXNlZG93biA9IHkubW91c2V1cCA9IHkubW91c2Vtb3ZlID0gXCJNb3VzZUV2ZW50c1wiLCB0LmV2ZW50ID0geyBhZGQ6IGEsIHJlbW92ZTogZiB9LCB0LnByb3h5ID0gZnVuY3Rpb24gKG4sIHIpIHsgdmFyIGkgPSAyIGluIGFyZ3VtZW50cyAmJiBwLmNhbGwoYXJndW1lbnRzLCAyKTsgaWYgKHYobikpIHsgdmFyIG8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuLmFwcGx5KHIsIGkgPyBpLmNvbmNhdChwLmNhbGwoYXJndW1lbnRzKSkgOiBhcmd1bWVudHMpIH07IHJldHVybiBvLl96aWQgPSBlKG4pLCBvIH0gaWYgKG0ocikpIHJldHVybiBpID8gKGkudW5zaGlmdChuW3JdLCBuKSwgdC5wcm94eS5hcHBseShudWxsLCBpKSkgOiB0LnByb3h5KG5bcl0sIG4pOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0ZWQgZnVuY3Rpb25cIikgfSwgdC5mbi5iaW5kID0gZnVuY3Rpb24gKG4sIHQsIGUpIHsgcmV0dXJuIHRoaXMub24obiwgdCwgZSkgfSwgdC5mbi51bmJpbmQgPSBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gdGhpcy5vZmYobiwgdCkgfSwgdC5mbi5vbmUgPSBmdW5jdGlvbiAobiwgdCwgZSwgcikgeyByZXR1cm4gdGhpcy5vbihuLCB0LCBlLCByLCAxKSB9OyB2YXIgdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEwIH0sIEMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhMSB9LCBTID0gL14oW0EtWl18cmV0dXJuVmFsdWUkfGxheWVyW1hZXSR8d2Via2l0TW92ZW1lbnRbWFldJCkvLCBPID0geyBwcmV2ZW50RGVmYXVsdDogXCJpc0RlZmF1bHRQcmV2ZW50ZWRcIiwgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBcImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkXCIsIHN0b3BQcm9wYWdhdGlvbjogXCJpc1Byb3BhZ2F0aW9uU3RvcHBlZFwiIH07IHQuZm4uZGVsZWdhdGUgPSBmdW5jdGlvbiAobiwgdCwgZSkgeyByZXR1cm4gdGhpcy5vbih0LCBuLCBlKSB9LCB0LmZuLnVuZGVsZWdhdGUgPSBmdW5jdGlvbiAobiwgdCwgZSkgeyByZXR1cm4gdGhpcy5vZmYodCwgbiwgZSkgfSwgdC5mbi5saXZlID0gZnVuY3Rpb24gKG4sIGUpIHsgcmV0dXJuIHQoZG9jdW1lbnQuYm9keSkuZGVsZWdhdGUodGhpcy5zZWxlY3RvciwgbiwgZSksIHRoaXMgfSwgdC5mbi5kaWUgPSBmdW5jdGlvbiAobiwgZSkgeyByZXR1cm4gdChkb2N1bWVudC5ib2R5KS51bmRlbGVnYXRlKHRoaXMuc2VsZWN0b3IsIG4sIGUpLCB0aGlzIH0sIHQuZm4ub24gPSBmdW5jdGlvbiAobiwgZSwgciwgaSwgbykgeyB2YXIgdSwgYywgcyA9IHRoaXM7IHJldHVybiBuICYmICFtKG4pID8gKHQuZWFjaChuLCBmdW5jdGlvbiAobiwgdCkgeyBzLm9uKG4sIGUsIHIsIHQsIG8pIH0pLCBzKSA6IChtKGUpIHx8IHYoaSkgfHwgITEgPT09IGkgfHwgKGkgPSByLCByID0gZSwgZSA9IGQpLCBpICE9PSBkICYmICExICE9PSByIHx8IChpID0gciwgciA9IGQpLCAhMSA9PT0gaSAmJiAoaSA9IEMpLCBzLmVhY2goZnVuY3Rpb24gKHMsIGQpIHsgbyAmJiAodSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBmKGQsIG4udHlwZSwgaSksIGkuYXBwbHkodGhpcywgYXJndW1lbnRzKSB9KSwgZSAmJiAoYyA9IGZ1bmN0aW9uIChuKSB7IHZhciByLCBvID0gdChuLnRhcmdldCkuY2xvc2VzdChlLCBkKS5nZXQoMCk7IGlmIChvICYmIG8gIT09IGQpIHJldHVybiByID0gdC5leHRlbmQobChuKSwgeyBjdXJyZW50VGFyZ2V0OiBvLCBsaXZlRmlyZWQ6IGQgfSksICh1IHx8IGkpLmFwcGx5KG8sIFtyXS5jb25jYXQocC5jYWxsKGFyZ3VtZW50cywgMSkpKSB9KSwgYShkLCBuLCBpLCByLCBlLCBjIHx8IHUpIH0pKSB9LCB0LmZuLm9mZiA9IGZ1bmN0aW9uIChuLCBlLCByKSB7IHZhciBpID0gdGhpczsgcmV0dXJuIG4gJiYgIW0obikgPyAodC5lYWNoKG4sIGZ1bmN0aW9uIChuLCB0KSB7IGkub2ZmKG4sIGUsIHQpIH0pLCBpKSA6IChtKGUpIHx8IHYocikgfHwgITEgPT09IHIgfHwgKHIgPSBlLCBlID0gZCksICExID09PSByICYmIChyID0gQyksIGkuZWFjaChmdW5jdGlvbiAoKSB7IGYodGhpcywgbiwgciwgZSkgfSkpIH0sIHQuZm4udHJpZ2dlciA9IGZ1bmN0aW9uIChuLCBlKSB7IHJldHVybiBuID0gbShuKSB8fCB0LmlzUGxhaW5PYmplY3QobikgPyB0LkV2ZW50KG4pIDogcyhuKSwgbi5fYXJncyA9IGUsIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7IG4udHlwZSBpbiB4ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhpc1tuLnR5cGVdID8gdGhpc1tuLnR5cGVdKCkgOiBcImRpc3BhdGNoRXZlbnRcIiBpbiB0aGlzID8gdGhpcy5kaXNwYXRjaEV2ZW50KG4pIDogdCh0aGlzKS50cmlnZ2VySGFuZGxlcihuLCBlKSB9KSB9LCB0LmZuLnRyaWdnZXJIYW5kbGVyID0gZnVuY3Rpb24gKG4sIGUpIHsgdmFyIGksIG87IHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHUsIGMpIHsgaSA9IGwobShuKSA/IHQuRXZlbnQobikgOiBuKSwgaS5fYXJncyA9IGUsIGkudGFyZ2V0ID0gYywgdC5lYWNoKHIoYywgbi50eXBlIHx8IG4pLCBmdW5jdGlvbiAobiwgdCkgeyBpZiAobyA9IHQucHJveHkoaSksIGkuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkgcmV0dXJuICExIH0pIH0pLCBvIH0sIFwiZm9jdXNpbiBmb2N1c291dCBmb2N1cyBibHVyIGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgdC5mbltuXSA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiAwIGluIGFyZ3VtZW50cyA/IHRoaXMuYmluZChuLCB0KSA6IHRoaXMudHJpZ2dlcihuKSB9IH0pLCB0LkV2ZW50ID0gZnVuY3Rpb24gKG4sIHQpIHsgbShuKSB8fCAodCA9IG4sIG4gPSB0LnR5cGUpOyB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KHlbbl0gfHwgXCJFdmVudHNcIiksIHIgPSAhMDsgaWYgKHQpIGZvciAodmFyIGkgaW4gdCkgXCJidWJibGVzXCIgPT0gaSA/IHIgPSAhIXRbaV0gOiBlW2ldID0gdFtpXTsgcmV0dXJuIGUuaW5pdEV2ZW50KG4sIHIsICEwKSwgcyhlKSB9XHJcbiAgICAgICAgfSh0KSwgZnVuY3Rpb24gKCkgeyB0cnkgeyBnZXRDb21wdXRlZFN0eWxlKHZvaWQgMCkgfSBjYXRjaCAoZSkgeyB2YXIgdCA9IGdldENvbXB1dGVkU3R5bGU7IG4uZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uIChuLCBlKSB7IHRyeSB7IHJldHVybiB0KG4sIGUpIH0gY2F0Y2ggKG4pIHsgcmV0dXJuIG51bGwgfSB9IH0gfSgpLCBmdW5jdGlvbiAobikgeyB2YXIgdCA9IG4uemVwdG8sIGUgPSB0LnFzYSwgciA9IC9eXFxzKj4vLCBpID0gXCJaZXB0b1wiICsgK25ldyBEYXRlOyB0LnFzYSA9IGZ1bmN0aW9uICh0LCBvKSB7IHZhciB1LCBjLCBhID0gbzsgdHJ5IHsgYSA/IHIudGVzdChhKSAmJiAoYyA9IG4odCkuYWRkQ2xhc3MoaSksIGEgPSBcIi5cIiArIGkgKyBcIiBcIiArIGEpIDogYSA9IFwiKlwiLCB1ID0gZSh0LCBhKSB9IGNhdGNoIChuKSB7IHRocm93IG4gfSBmaW5hbGx5IHsgYyAmJiBjLnJlbW92ZUNsYXNzKGkpIH0gcmV0dXJuIHUgfSB9KHQpLCB0XHJcbiAgICB9KHdpbmRvdyksIHJwID0gXCI6ZXEoXCIsIGlwID0gXCIpXCIsIG9wID0gcnAubGVuZ3RoLCB1cCA9IC8oKFxcLnwjKSgtKT9cXGR7MX0pL2csIGNwID0gXCJbdHJhY2tFdmVudCgpXVwiLCBhcCA9IFwibmF2aWdhdG9yXCIsIGZwID0gXCJzZW5kQmVhY29uXCIsIHNwID0gXCJzZW5kQmVhY29uKCkgcmVxdWVzdCBmYWlsZWRcIiwgbHAgPSB6ZCwgZHAgPSBmdW5jdGlvbiAobiwgdCkgeyByZXR1cm4gbmV3IGxwKGZ1bmN0aW9uIChlLCByKSB7IFwib25sb2FkXCIgaW4gdCA/ICh0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgZSh0KSB9LCB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IHIobmV3IEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgc2NyaXB0IFwiICsgbikpIH0pIDogXCJyZWFkeVN0YXRlXCIgaW4gdCAmJiAodC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IHZhciBuID0gdC5yZWFkeVN0YXRlOyBcImxvYWRlZFwiICE9PSBuICYmIFwiY29tcGxldGVcIiAhPT0gbiB8fCAodC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsLCBlKHQpKSB9KSB9KSB9LCBocCA9IGZ1bmN0aW9uIChuKSB7IHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTsgdC5zcmMgPSBuLCB0LmFzeW5jID0gITA7IHZhciBlID0gZHAobiwgdCk7IHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQodCksIGUgfSwgcHAgPSBcImNsaWNrVHJhY2tJZFwiLCB2cCA9IFwibWJveFRhcmdldFwiLCBtcCA9IFwic2NyaXB0LGxpbmssXCIgKyBUZjsgRm8ucHJvdG90eXBlID0geyBvbjogZnVuY3Rpb24gKG4sIHQsIGUpIHsgdmFyIHIgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTsgcmV0dXJuIChyW25dIHx8IChyW25dID0gW10pKS5wdXNoKHsgZm46IHQsIGN0eDogZSB9KSwgdGhpcyB9LCBvbmNlOiBmdW5jdGlvbiAobiwgdCwgZSkgeyBmdW5jdGlvbiByKCkgeyBpLm9mZihuLCByKSwgdC5hcHBseShlLCBhcmd1bWVudHMpIH0gdmFyIGkgPSB0aGlzOyByZXR1cm4gci5fID0gdCwgdGhpcy5vbihuLCByLCBlKSB9LCBlbWl0OiBmdW5jdGlvbiAobikgeyB2YXIgdCA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZSA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25dIHx8IFtdKS5zbGljZSgpLCByID0gMCwgaSA9IGUubGVuZ3RoOyBmb3IgKHI7IHIgPCBpOyByKyspZVtyXS5mbi5hcHBseShlW3JdLmN0eCwgdCk7IHJldHVybiB0aGlzIH0sIG9mZjogZnVuY3Rpb24gKG4sIHQpIHsgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSwgciA9IGVbbl0sIGkgPSBbXTsgaWYgKHIgJiYgdCkgZm9yICh2YXIgbyA9IDAsIHUgPSByLmxlbmd0aDsgbyA8IHU7IG8rKylyW29dLmZuICE9PSB0ICYmIHJbb10uZm4uXyAhPT0gdCAmJiBpLnB1c2gocltvXSk7IHJldHVybiBpLmxlbmd0aCA/IGVbbl0gPSBpIDogZGVsZXRlIGVbbl0sIHRoaXMgfSB9OyB2YXIgZ3AgPSBGbywgeXAgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgZ3AgfSgpLCBicCA9IFwiYXQtXCIsIHhwID0gXCJhdC1ib2R5LXN0eWxlXCIsIEVwID0gXCIjXCIgKyB4cCwgd3AgPSBcImF0LW1ha2Vycy1zdHlsZVwiLCBDcCA9IHt9LCBTcCA9IFwibVwiLCBPcCA9IFwiZlwiLCBUcCA9IFwicFwiLCBrcCA9IHsgY2hpbGRMaXN0OiAhMCwgc3VidHJlZTogITAgfSwgTnAgPSBoYS5NdXRhdGlvbk9ic2VydmVyLCBBcCA9IHt9LCBqcCA9IG51bGwsIERwID0gMWUzLCBfcCA9IFwidmlzaWJpbGl0eVN0YXRlXCIsIFJwID0gXCJ2aXNpYmxlXCIsIFBwID0ge30sIElwID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG5bdmFdID09PSBZYSB8fCBuW3ZhXSA9PT0gUWEgfSwgTXAgPSBcIlthcHBseU9mZmVyKCldXCIsIHFwID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuICFhKG5bX2FdKSB9LCBMcCA9IFwiYWRvYmVcIiwgVXAgPSBcInRhcmdldFwiLCBGcCA9IFwiZXh0XCIsICRwID0gSihmdW5jdGlvbiAobiwgdCkgeyAhZnVuY3Rpb24gKGUsIHIpIHsgXCJmdW5jdGlvblwiID09IHR5cGVvZiBUYyAmJiBUYy5hbWQgPyBUYyhbXSwgcikgOiBcIm9iamVjdFwiID09PSAodm9pZCAwID09PSB0ID8gXCJ1bmRlZmluZWRcIiA6IEZjKHQpKSA/IG4uZXhwb3J0cyA9IHIoKSA6IGUuY3VycmVudEV4ZWN1dGluZ1NjcmlwdCA9IHIoKSB9KGRkIHx8IHdpbmRvdywgZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBuKG4sIHQpIHsgdmFyIGUsIHIgPSBudWxsOyBpZiAodCA9IHQgfHwgZiwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgbiAmJiBuKSBmb3IgKGUgPSB0Lmxlbmd0aDsgZS0tOylpZiAodFtlXS5zcmMgPT09IG4pIHsgciA9IHRbZV07IGJyZWFrIH0gcmV0dXJuIHIgfSBmdW5jdGlvbiB0KG4pIHsgdmFyIHQsIGUsIHIgPSBudWxsOyBmb3IgKG4gPSBuIHx8IGYsIHQgPSAwLCBlID0gbi5sZW5ndGg7IHQgPCBlOyB0KyspaWYgKCFuW3RdLmhhc0F0dHJpYnV0ZShcInNyY1wiKSkgeyBpZiAocikgeyByID0gbnVsbDsgYnJlYWsgfSByID0gblt0XSB9IHJldHVybiByIH0gZnVuY3Rpb24gZShuLCB0KSB7IHZhciByLCBpLCBvID0gbnVsbCwgdSA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIHQ7IHJldHVybiB0ID0gdSA/IE1hdGgucm91bmQodCkgOiAwLCBcInN0cmluZ1wiID09IHR5cGVvZiBuICYmIG4gJiYgKHUgPyByID0gbi5tYXRjaCgvKGRhdGE6dGV4dFxcL2phdmFzY3JpcHQoPzo7W14sXSspPywuKz98KD86fGJsb2I6KSg/Omh0dHBbc10/fGZpbGUpOlxcL1xcL1tcXC9dPy4rP1xcL1teOlxcKV0qPykoPzo6XFxkKykoPzo6XFxkKyk/LykgOiAociA9IG4ubWF0Y2goL14oPzp8W146QF0qQHwuK1xcKUAoPz1kYXRhOnRleHRcXC9qYXZhc2NyaXB0fGJsb2J8aHR0cFtzXT98ZmlsZSl8Lis/XFxzKyg/OiBhdCB8QCkoPzpbXjpcXChdKyApKltcXChdPykoZGF0YTp0ZXh0XFwvamF2YXNjcmlwdCg/OjtbXixdKyk/LC4rP3woPzp8YmxvYjopKD86aHR0cFtzXT98ZmlsZSk6XFwvXFwvW1xcL10/Lis/XFwvW146XFwpXSo/KSg/OjpcXGQrKSg/OjpcXGQrKT8vKSkgJiYgclsxXSB8fCAociA9IG4ubWF0Y2goL1xcKUAoZGF0YTp0ZXh0XFwvamF2YXNjcmlwdCg/OjtbXixdKyk/LC4rP3woPzp8YmxvYjopKD86aHR0cFtzXT98ZmlsZSk6XFwvXFwvW1xcL10/Lis/XFwvW146XFwpXSo/KSg/OjpcXGQrKSg/OjpcXGQrKT8vKSksIHIgJiYgclsxXSAmJiAodCA+IDAgPyAoaSA9IG4uc2xpY2Uobi5pbmRleE9mKHJbMF0pICsgclswXS5sZW5ndGgpLCBvID0gZShpLCB0IC0gMSkpIDogbyA9IHJbMV0pKSwgbyB9IGZ1bmN0aW9uIHIoKSB7IHJldHVybiBudWxsIH0gZnVuY3Rpb24gaSgpIHsgcmV0dXJuIG51bGwgfSBmdW5jdGlvbiBvKCkgeyBpZiAoMCA9PT0gZi5sZW5ndGgpIHJldHVybiBudWxsOyB2YXIgciwgaSwgYywgdiwgbSwgZyA9IFtdLCB5ID0gby5za2lwU3RhY2tEZXB0aCB8fCAxOyBmb3IgKHIgPSAwOyByIDwgZi5sZW5ndGg7IHIrKylsICYmIHMgPyB1LnRlc3QoZltyXS5yZWFkeVN0YXRlKSAmJiBnLnB1c2goZltyXSkgOiBnLnB1c2goZltyXSk7IGlmIChpID0gbmV3IEVycm9yLCBoICYmIChjID0gaS5zdGFjayksICFjICYmIHApIHRyeSB7IHRocm93IGkgfSBjYXRjaCAobikgeyBjID0gbi5zdGFjayB9IGlmIChjICYmICh2ID0gZShjLCB5KSwgIShtID0gbih2LCBnKSkgJiYgYSAmJiB2ID09PSBhICYmIChtID0gdChnKSkpLCBtIHx8IDEgPT09IGcubGVuZ3RoICYmIChtID0gZ1swXSksIG0gfHwgZCAmJiAobSA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpLCAhbSAmJiBsICYmIHMpIGZvciAociA9IGcubGVuZ3RoOyByLS07KWlmIChcImludGVyYWN0aXZlXCIgPT09IGdbcl0ucmVhZHlTdGF0ZSkgeyBtID0gZ1tyXTsgYnJlYWsgfSByZXR1cm4gbSB8fCAobSA9IGdbZy5sZW5ndGggLSAxXSB8fCBudWxsKSwgbSB9IHZhciB1ID0gL14oaW50ZXJhY3RpdmV8bG9hZGVkfGNvbXBsZXRlKSQvLCBjID0gd2luZG93LmxvY2F0aW9uID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiBudWxsLCBhID0gYyA/IGMucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpIHx8IG51bGwgOiBudWxsLCBmID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksIHMgPSBcInJlYWR5U3RhdGVcIiBpbiAoZlswXSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSwgbCA9ICF3aW5kb3cub3BlcmEgfHwgXCJbb2JqZWN0IE9wZXJhXVwiICE9PSB3aW5kb3cub3BlcmEudG9TdHJpbmcoKSwgZCA9IFwiY3VycmVudFNjcmlwdFwiIGluIGRvY3VtZW50OyBcInN0YWNrVHJhY2VMaW1pdFwiIGluIEVycm9yICYmIEVycm9yLnN0YWNrVHJhY2VMaW1pdCAhPT0gMSAvIDAgJiYgKEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDEgLyAwKTsgdmFyIGggPSAhMSwgcCA9ICExOyAhZnVuY3Rpb24gKCkgeyB0cnkgeyB2YXIgbiA9IG5ldyBFcnJvcjsgdGhyb3cgaCA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIG4uc3RhY2sgJiYgISFuLnN0YWNrLCBuIH0gY2F0Y2ggKG4pIHsgcCA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIG4uc3RhY2sgJiYgISFuLnN0YWNrIH0gfSgpLCBvLnNraXBTdGFja0RlcHRoID0gMTsgdmFyIHYgPSBvOyByZXR1cm4gdi5uZWFyID0gbywgdi5mYXIgPSByLCB2Lm9yaWdpbiA9IGksIHYgfSkgfSksIEJwID0gXCJbbWJveENyZWF0ZSgpXVwiLCBIcCA9IFwiW21ib3hEZWZpbmUoKV1cIiwgVnAgPSBcIlttYm94VXBkYXRlKCldXCIsIHpwID0gXCJVbmFibGUgdG8gbG9hZCB0YXJnZXQtdmVjLmpzXCIsIFpwID0gXCJMb2FkaW5nIHRhcmdldC12ZWMuanNcIiwgR3AgPSBcIl9BVFwiLCBLcCA9IFwiY2xpY2tIYW5kbGVyRm9yRXhwZXJpZW5jZUVkaXRvclwiLCBKcCA9IFwiW2dsb2JhbCBtYm94XVwiLCBXcCA9IFwiYXV0by1jcmVhdGUgZGlzYWJsZWRcIjsgcmV0dXJuIHsgaW5pdDogT2MgfVxyXG59KCksIHdpbmRvdy5hZG9iZS50YXJnZXQuaW5pdCh3aW5kb3csIGRvY3VtZW50LCB7IFwiY2xpZW50Q29kZVwiOiBcInN1bnRydXN0XCIsIFwiaW1zT3JnSWRcIjogXCJBQTdBM0JDNzUyNDVCM0JDMEE0OTBENERAQWRvYmVPcmdcIiwgXCJzZXJ2ZXJEb21haW5cIjogXCJzdW50cnVzdC50dC5vbXRyZGMubmV0XCIsIFwiY3Jvc3NEb21haW5cIjogXCJkaXNhYmxlZFwiLCBcInRpbWVvdXRcIjogNTAwMCwgXCJnbG9iYWxNYm94TmFtZVwiOiBcInRhcmdldC1nbG9iYWwtbWJveFwiLCBcImdsb2JhbE1ib3hBdXRvQ3JlYXRlXCI6IHRydWUsIFwidmVyc2lvblwiOiBcIjEuNi4zXCIsIFwiZGVmYXVsdENvbnRlbnRIaWRkZW5TdHlsZVwiOiBcInZpc2liaWxpdHk6aGlkZGVuO1wiLCBcImRlZmF1bHRDb250ZW50VmlzaWJsZVN0eWxlXCI6IFwidmlzaWJpbGl0eTp2aXNpYmxlO1wiLCBcImJvZHlIaWRkZW5TdHlsZVwiOiBcImJvZHl7b3BhY2l0eTowIWltcG9ydGFudH1cIiwgXCJib2R5SGlkaW5nRW5hYmxlZFwiOiBmYWxzZSwgXCJkZXZpY2VJZExpZmV0aW1lXCI6IDYzMjQ0ODAwMDAwLCBcInNlc3Npb25JZExpZmV0aW1lXCI6IDE4NjAwMDAsIFwic2VsZWN0b3JzUG9sbGluZ1RpbWVvdXRcIjogNTAwMCwgXCJ2aXNpdG9yQXBpVGltZW91dFwiOiAyMDAwLCBcIm92ZXJyaWRlTWJveEVkZ2VTZXJ2ZXJcIjogdHJ1ZSwgXCJvdmVycmlkZU1ib3hFZGdlU2VydmVyVGltZW91dFwiOiAxODYwMDAwLCBcIm9wdG91dEVuYWJsZWRcIjogZmFsc2UsIFwic2VjdXJlT25seVwiOiBmYWxzZSwgXCJzdXBwbGVtZW50YWxEYXRhSWRQYXJhbVRpbWVvdXRcIjogMzAsIFwiYXV0aG9yaW5nU2NyaXB0VXJsXCI6IFwiLy9jZG4udHQub210cmRjLm5ldC9jZG4vdGFyZ2V0LXZlYy5qc1wiLCBcInVybFNpemVMaW1pdFwiOiAyMDQ4IH0pO1xyXG4vL05vIGN1c3RvbSBKYXZhU2NyaXB0Il19
